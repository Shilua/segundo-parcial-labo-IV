(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a}));var r=n("os0x"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.e)(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},os0x:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return v})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return _})),n.d(e,"e",(function(){return w})),n.d(e,"f",(function(){return i})),n.d(e,"g",(function(){return o})),n.d(e,"h",(function(){return a})),n.d(e,"i",(function(){return l})),n.d(e,"j",(function(){return h})),n.d(e,"k",(function(){return d})),n.d(e,"l",(function(){return p})),n.d(e,"m",(function(){return u})),n.d(e,"n",(function(){return c})),n.d(e,"o",(function(){return f})),n.d(e,"p",(function(){return g}));var r=n("os0x");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,v.prototype.create),o}return Object(r.c)(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?y(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new m(i,a,r);return u},t}();function y(t,e){return t.replace(b,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var b=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function C(){}},xsWp:function(t,e,n){"use strict";n.r(e),n.d(e,"__PRIVATE_registerFirestore",(function(){return Hf}));var r=n("os0x"),i=n("zIRd"),o=n("q/0M"),s=n("qOnz"),a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var c,l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},h=h||{},f=l||self;function d(){}function p(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function g(t){var e=p(t);return"array"==e||"object"==e&&"number"==typeof t.length}function m(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:_).apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var C=Date.now;function T(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function O(){this.j=this.j,this.i=this.i}O.prototype.j=!1,O.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++y)}(this)},O.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var x=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},I=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function S(t){return Array.prototype.concat.apply([],arguments)}function A(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function k(t){return/^[\s\xa0]*$/.test(t)}var R,N=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function j(t,e){return-1!=t.indexOf(e)}function P(t,e){return t<e?-1:t>e?1:0}t:{var D=f.navigator;if(D){var V=D.userAgent;if(V){R=V;break t}}R=""}function M(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function L(t){var e={};for(var n in t)e[n]=t[n];return e}var U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<U.length;o++)n=U[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function q(t){return q[" "](t),t}q[" "]=d;var z,B,H=j(R,"Opera"),G=j(R,"Trident")||j(R,"MSIE"),$=j(R,"Edge"),W=$||G,K=j(R,"Gecko")&&!(j(R.toLowerCase(),"webkit")&&!j(R,"Edge"))&&!(j(R,"Trident")||j(R,"MSIE"))&&!j(R,"Edge"),Q=j(R.toLowerCase(),"webkit")&&!j(R,"Edge");function Z(){var t=f.document;return t?t.documentMode:void 0}t:{var Y="",X=(B=R,K?/rv:([^\);]+)(\)|;)/.exec(B):$?/Edge\/([\d\.]+)/.exec(B):G?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(B):Q?/WebKit\/(\S+)/.exec(B):H?/(?:Version)[ \/]?(\S+)/.exec(B):void 0);if(X&&(Y=X?X[1]:""),G){var J=Z();if(null!=J&&J>parseFloat(Y)){z=String(J);break t}}z=Y}var tt={};function et(t){return function(t,e){var n=tt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=N(String(z)).split("."),r=N(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=P(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||P(0==s[2].length,0==a[2].length)||P(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var nt=f.document&&G&&(Z()||parseInt(z,10))||void 0,rt=!G||9<=Number(nt),it=G&&!et("9"),ot=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{f.addEventListener("test",d,e),f.removeEventListener("test",d,e)}catch(n){}return t}();function st(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function at(t,e){if(st.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(K){t:{try{q(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ut[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}st.prototype.b=function(){this.defaultPrevented=!0},T(at,st);var ut={2:"touch",3:"pen",4:"mouse"};at.prototype.b=function(){at.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,it)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(sr){}};var ct="closure_listenable_"+(1e6*Math.random()|0),lt=0;function ht(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++lt,this.Y=this.Z=!1}function ft(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function dt(t){this.src=t,this.a={},this.b=0}function pt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=x(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ft(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function gt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}dt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=gt(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new ht(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var mt="closure_lm_"+(1e6*Math.random()|0),vt={};function yt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=xt(r),e&&e[ct]?e.wa(n,r,m(i)?!!i.capture:!!i,o):bt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)yt(t,e[o],n,r,i);return null}return n=xt(n),t&&t[ct]?t.va(e,n,m(r)?!!r.capture:!!r,i):bt(t,e,n,!1,r,i)}function bt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=m(i)?!!i.capture:!!i;if(s&&!rt)return null;var a=Tt(t);if(a||(t[mt]=a=new dt(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Ct,e=rt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ot||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(wt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function _t(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ct])pt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(wt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Tt(e))?(pt(n,t),0==n.b&&(n.src=null,e[mt]=null)):ft(t)}}}function wt(t){return t in vt?vt[t]:vt[t]="on"+t}function Et(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&_t(t),n.call(r,e)}function Ct(t,e){if(t.Y)return!0;if(!rt){if(!e)t:{e=["window","event"];for(var n=f,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Et(t,e=new at(e,this))}return Et(t,new at(e,this))}function Tt(t){return(t=t[mt])instanceof dt?t:null}var Ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function xt(t){return"function"==p(t)?t:(t[Ot]||(t[Ot]=function(e){return t.handleEvent(e)}),t[Ot])}function It(){O.call(this),this.c=new dt(this),this.J=this,this.C=null}function St(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&pt(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}T(It,O),It.prototype[ct]=!0,(c=It.prototype).addEventListener=function(t,e,n,r){yt(this,t,e,n,r)},c.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=m(i)?!!i.capture:!!i,r=xt(r),e&&e[ct]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=gt(s=e.a[n],r,i,o))&&(ft(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=Tt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=gt(n,r,i,o)),(r=-1<e?n[e]:null)&&_t(r))}(this,t,e,n,r)},c.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new st(t,n);else if(t instanceof st)t.target=t.target||n;else{var i=t;F(t=new st(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=St(s,r,!0,t)&&i}if(i=St(s=t.a=n,r,!0,t)&&i,i=St(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=St(s=t.a=e[o],r,!1,t)&&i;return i},c.G=function(){if(It.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ft(n[r]);delete e.a[t],e.b--}}this.C=null},c.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},c.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var At=f.JSON.stringify;function kt(){this.b=this.a=null}var Rt,Nt=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Pt}),(function(t){t.reset()}),100);function jt(){var t=Lt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Pt(){this.next=this.b=this.a=null}function Dt(t){f.setTimeout((function(){throw t}),0)}function Vt(t,e){Rt||function(){var t=f.Promise.resolve(void 0);Rt=function(){t.then(Ut)}}(),Mt||(Rt(),Mt=!0),Lt.add(t,e)}kt.prototype.add=function(t,e){var n=Nt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Pt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Pt.prototype.reset=function(){this.next=this.b=this.a=null};var Mt=!1,Lt=new kt;function Ut(){for(var t;t=jt();){try{t.a.call(t.b)}catch(n){Dt(n)}var e=Nt;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Mt=!1}function Ft(t,e){It.call(this),this.b=t||1,this.a=e||f,this.f=w(this.Ya,this),this.g=C()}function qt(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function zt(t,e,n){if("function"==p(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:f.setTimeout(t,e||0)}function Bt(t){t.a=zt((function(){t.a=null,t.c&&(t.c=!1,Bt(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}T(Ft,It),(c=Ft.prototype).aa=!1,c.M=null,c.Ya=function(){if(this.aa){var t=C()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(qt(this),this.start()))}},c.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=C())},c.G=function(){Ft.S.G.call(this),qt(this),delete this.a};var Ht=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Bt(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(f.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(O);function Gt(t){O.call(this),this.b=t,this.a={}}T(Gt,O);var $t=[];function Wt(t,e,n,r){Array.isArray(n)||(n&&($t[0]=n.toString()),n=$t);for(var i=0;i<n.length;i++){var o=yt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Kt(t){M(t.a,(function(t,e){this.a.hasOwnProperty(e)&&_t(t)}),t),t.a={}}function Qt(){this.a=!0}function Zt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return At(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}Gt.prototype.G=function(){Gt.S.G.call(this),Kt(this)},Gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qt.prototype.info=function(){};var Yt=null;function Xt(){return Yt=Yt||new It}function Jt(t){st.call(this,"serverreachability",t)}function te(t){var e=Xt();e.dispatchEvent(new Jt(e,t))}function ee(t){st.call(this,"statevent",t)}function ne(t){var e=Xt();e.dispatchEvent(new ee(e,t))}function re(t){st.call(this,"timingevent",t)}function ie(t,e){if("function"!=p(t))throw Error("Fn must not be null and must be a function");return f.setTimeout((function(){t()}),e)}T(Jt,st),T(ee,st),T(re,st);var oe={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},se={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function ae(){}function ue(){}ae.prototype.a=null;var ce,le={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function he(){st.call(this,"d")}function fe(){st.call(this,"c")}function de(){}function pe(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new Gt(this),this.P=ge,this.R=new Ft(t=W?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}T(he,st),T(fe,st),T(de,ae),ce=new de;var ge=45e3,me={},ve={};function ye(t,e,n){t.H=1,t.i=Fe(Pe(e)),t.j=n,t.I=!0,be(t,null)}function be(t,e){t.u=C(),Ee(t),t.l=Pe(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),Je(n.b,"t",r),t.D=0,t.a=Kn(t.g,t.g.C?e:null),0<t.O&&(t.F=new Ht(w(t.Ca,t,t.a),t.O)),Wt(t.J,t.a,"readystatechange",t.Wa),e=t.B?L(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),te(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function _e(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=we(t,n);if(i==ve){4==e&&(t.h=4,ne(14),r=!1),Zt(t.c,t.f,null,"[Incomplete Response]");break}if(i==me){t.h=4,ne(15),Zt(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Zt(t.c,t.f,i,null),Ie(t,i)}4==e&&0==n.length&&(t.h=1,ne(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Fn(e),e.F=!0)):(Zt(t.c,t.f,n,"[Invalid Chunked Response]"),xe(t),Oe(t))}function we(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ve:(n=Number(e.substring(n,r)),isNaN(n)?me:(r+=1)+n>e.length?ve:(e=e.substr(r,n),t.D=r+n,e))}function Ee(t){t.U=C()+t.P,Ce(t,t.P)}function Ce(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=ie(w(t.Ua,t),e)}function Te(t){t.o&&(f.clearTimeout(t.o),t.o=null)}function Oe(t){0==t.g.v||t.A||Bn(t.g,t)}function xe(t){Te(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,qt(t.R),Kt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ie(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||an(n.b,t)))if(n.I=t.N,!t.C&&an(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Hf){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;zn(n),Rn(n)}Un(n),ne(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=ie(w(n.Ra,n),6e3));if(1>=sn(n.b)&&n.ea){try{n.ea()}catch(Hf){}n.ea=void 0}}else Gn(n,11)}else if((t.C||n.a==t)&&zn(n),!k(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(j(l,"spdy")||j(l,"quic")||j(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(un(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Ue(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=C()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Wn(u,u.C?u.ga:null,u.fa),d.C){cn(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Te(p),Ee(p)),u.a=d}else Ln(u);0<n.g.length&&Pn(n)}else"stop"!=i[0]&&"close"!=i[0]||Gn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Gn(n,7):kn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);te(4)}catch(Hf){}}function Se(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(g(t)||"string"==typeof t)I(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(g(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(g(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ae(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ae)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ke(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Re(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Re(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Re(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(c=pe.prototype).setTimeout=function(t){this.P=t},c.Wa=function(t){t=t.target;var e=this.F;e&&3==xn(t)?e.f():this.Ca(t)},c.Ca=function(t){try{if(t==this.a)t:{var e=xn(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!W&&!this.a.$())){this.A||4!=e||7==n||te(8==n||0>=r?3:2),Te(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,ne(12),xe(this),Oe(this);break t}Zt(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ie(this,u)}this.I?(_e(this,e,o),W&&this.b&&3==e&&(Wt(this.J,this.R,"tick",this.Va),this.R.start())):(Zt(this.c,this.f,o,null),Ie(this,o)),4==e&&xe(this),this.b&&!this.A&&(4==e?Bn(this.g,this):(this.b=!1,Ee(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ne(12)):(this.h=0,ne(13)),xe(this),Oe(this)}}}catch(c){}},c.Va=function(){if(this.a){var t=xn(this.a),e=this.a.$();this.D<e.length&&(Te(this),_e(this,t,e),this.b&&4!=t&&Ee(this))}},c.cancel=function(){this.A=!0,xe(this)},c.Ua=function(){this.o=null;var t=C();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(te(3),ne(17)),xe(this),this.h=2,Oe(this)):Ce(this,this.U-t)},(c=Ae.prototype).K=function(){ke(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},c.L=function(){return ke(this),this.a.concat()},c.get=function(t,e){return Re(this.b,t)?this.b[t]:e},c.set=function(t,e){Re(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},c.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ne=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function je(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof je){this.a=void 0!==e?e:t.a,De(this,t.f),this.j=t.j,Ve(this,t.c),Me(this,t.h),this.g=t.g,e=t.b;var n=new Qe;n.c=e.c,e.a&&(n.a=new Ae(e.a),n.b=e.b),Le(this,n),this.i=t.i}else t&&(n=String(t).match(Ne))?(this.a=!!e,De(this,n[1]||"",!0),this.j=qe(n[2]||""),Ve(this,n[3]||"",!0),Me(this,n[4]),this.g=qe(n[5]||"",!0),Le(this,n[6]||"",!0),this.i=qe(n[7]||"")):(this.a=!!e,this.b=new Qe(null,this.a))}function Pe(t){return new je(t)}function De(t,e,n){t.f=n?qe(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ve(t,e,n){t.c=n?qe(e,!0):e}function Me(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Le(t,e,n){e instanceof Qe?(t.b=e,function(t,e){e&&!t.f&&(Ze(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ye(this,e),Je(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=ze(e,We)),t.b=new Qe(e,t.a))}function Ue(t,e,n){t.b.set(e,n)}function Fe(t){return Ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^C()).toString(36)),t}function qe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ze(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Be),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Be(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}je.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ze(e,He,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ze(e,He,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(ze(n,"/"==n.charAt(0)?$e:Ge,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",ze(n,Ke)),t.join("")};var He=/[#\/\?@]/g,Ge=/[#\?:]/g,$e=/[#\?]/g,We=/[#\?@]/g,Ke=/#/g;function Qe(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ze(t){t.a||(t.a=new Ae,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ye(t,e){Ze(t),e=tn(t,e),Re(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Re((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ke(t)))}function Xe(t,e){return Ze(t),e=tn(t,e),Re(t.a.b,e)}function Je(t,e,n){Ye(t,e),0<n.length&&(t.c=null,t.a.set(tn(t,e),A(n)),t.b+=n.length)}function tn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function en(t,e){this.b=t,this.a=e}function nn(t){this.g=t||rn,t=f.PerformanceNavigationTiming?0<(t=f.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(f.ia&&f.ia.ya&&f.ia.ya()&&f.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(c=Qe.prototype).add=function(t,e){Ze(this),this.c=null,t=tn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},c.forEach=function(t,e){Ze(this),this.a.forEach((function(n,r){I(n,(function(n){t.call(e,n,r,this)}),this)}),this)},c.L=function(){Ze(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},c.K=function(t){Ze(this);var e=[];if("string"==typeof t)Xe(this,t)&&(e=S(e,this.a.get(tn(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=S(e,t[n])}return e},c.set=function(t,e){return Ze(this),this.c=null,Xe(this,t=tn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},c.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},c.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var rn=10;function on(t){return!!t.b||!!t.a&&t.a.size>=t.f}function sn(t){return t.b?1:t.a?t.a.size:0}function an(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function un(t,e){t.a?t.a.add(e):t.b=e}function cn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ln(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=u(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return A(t.c)}function hn(){}function fn(){this.a=new hn}function dn(t,e,n){var r=n||"";try{Se(t,(function(t,n){var i=t;m(t)&&(i=At(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function pn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}nn.prototype.cancel=function(){var t,e;if(this.c=ln(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=u(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},hn.prototype.stringify=function(t){return f.JSON.stringify(t,void 0)},hn.prototype.parse=function(t){return f.JSON.parse(t,void 0)};var gn=f.JSON.parse;function mn(t){It.call(this),this.headers=new Ae,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=vn,this.D=this.F=!1}T(mn,It);var vn="",yn=/^https?$/i,bn=["POST","PUT"];function _n(t){return"content-type"==t.toLowerCase()}function wn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,En(t),Tn(t)}function En(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Cn(t){if(t.b&&void 0!==h&&(!t.s[1]||4!=xn(t)||2!=t.X()))if(t.l&&4==xn(t))zt(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==xn(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Ne)[1]||null;if(!o&&f.self&&f.self.location){var s=f.self.location.protocol;o=s.substr(0,s.length-1)}i=!yn.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var a=2<xn(t)?t.a.statusText:""}catch(u){a=""}t.f=a+" ["+t.X()+"]",En(t)}}finally{Tn(t)}}}function Tn(t,e){if(t.a){On(t);var n=t.a,r=t.s[0]?d:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function On(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(f.clearTimeout(t.m),t.m=null)}function xn(t){return t.a?t.a.readyState:0}function In(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return M(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ue(t,e,n))}function Sn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function An(t){this.pa=0,this.g=[],this.c=new Qt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Sn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Sn("baseRetryDelayMs",5e3,t),this.Ma=Sn("retryDelaySeedMs",1e4,t),this.Ja=Sn("forwardChannelMaxRetries",2,t),this.ma=Sn("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new nn(t&&t.concurrentRequestLimit),this.ka=new fn,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function kn(t){if(Nn(t),3==t.v){var e=t.R++,n=Pe(t.B);Ue(n,"SID",t.J),Ue(n,"RID",e),Ue(n,"TYPE","terminate"),Vn(t,n),(e=new pe(t,t.c,e,void 0)).H=2,e.i=Fe(Pe(n)),n=!1,f.navigator&&f.navigator.sendBeacon&&(n=f.navigator.sendBeacon(e.i.toString(),"")),!n&&f.Image&&((new Image).src=e.i,n=!0),n||(e.a=Kn(e.g,null),e.a.ba(e.i)),e.u=C(),Ee(e)}$n(t)}function Rn(t){t.a&&(Fn(t),t.a.cancel(),t.a=null)}function Nn(t){Rn(t),t.j&&(f.clearTimeout(t.j),t.j=null),zn(t),t.b.cancel(),t.h&&("number"==typeof t.h&&f.clearTimeout(t.h),t.h=null)}function jn(t,e){t.g.push(new en(t.La++,e)),3==t.v&&Pn(t)}function Pn(t){on(t.b)||t.h||(t.h=!0,Vt(t.Ba,t),t.u=0)}function Dn(t,e){var n;n=e?e.f:t.R++;var r=Pe(t.B);Ue(r,"SID",t.J),Ue(r,"RID",n),Ue(r,"AID",t.P),Vn(t,r),t.i&&t.l&&In(r,t.i,t.l),n=new pe(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Mn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),un(t.b,n),ye(n,r,e)}function Vn(t,e){t.f&&Se({},(function(t,n){Ue(e,n,t)}))}function Mn(t,e,n){n=Math.min(t.g.length,n);var r=t.f?w(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{dn(l,s,"req"+c+"_")}catch(Ar){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Ln(t){t.a||t.j||(t.U=1,Vt(t.Aa,t),t.o=0)}function Un(t){return!(t.a||t.j||3<=t.o||(t.U++,t.j=ie(w(t.Aa,t),Hn(t,t.o)),t.o++,0))}function Fn(t){null!=t.s&&(f.clearTimeout(t.s),t.s=null)}function qn(t){t.a=new pe(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Pe(t.la);Ue(e,"RID","rpc"),Ue(e,"SID",t.J),Ue(e,"CI",t.H?"0":"1"),Ue(e,"AID",t.P),Vn(t,e),Ue(e,"TYPE","xmlhttp"),t.i&&t.l&&In(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Fe(Pe(e)),n.j=null,n.I=!0,be(n,t)}function zn(t){null!=t.m&&(f.clearTimeout(t.m),t.m=null)}function Bn(t,e){var n=null;if(t.a==e){zn(t),Fn(t),t.a=null;var r=2}else{if(!an(t.b,e))return;n=e.s,cn(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=C()-e.u;var i=t.u;(r=Xt()).dispatchEvent(new re(r,n,e,i)),Pn(t)}else Ln(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(sn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)||(t.h=ie(w(t.Ba,t,e),Hn(t,t.u)),t.u++,0)))}(t,e)||2==r&&Un(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Gn(t,5);break;case 4:Gn(t,10);break;case 3:Gn(t,6);break;default:Gn(t,2)}}function Hn(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function Gn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=w(t.Xa,t);n||(n=new je("//www.google.com/images/cleardot.gif"),f.location&&"http"==f.location.protocol||De(n,"https"),Fe(n)),function(t,e){var n=new Qt;if(f.Image){var r=new Image;r.onload=E(pn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=E(pn,n,r,"TestLoadImage: error",!1,e),r.onabort=E(pn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=E(pn,n,r,"TestLoadImage: timeout",!1,e),f.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ne(2);t.v=0,t.f&&t.f.ra(e),$n(t),Nn(t)}function $n(t){t.v=0,t.I=-1,t.f&&(0==ln(t.b).length&&0==t.g.length||(t.b.c.length=0,A(t.g),t.g.length=0),t.f.qa())}function Wn(t,e,n){var r=function(t){return t instanceof je?Pe(t):new je(t,void 0)}(n);if(""!=r.c)e&&Ve(r,e+"."+r.c),Me(r,r.h);else{var i=f.location;r=function(t,e,n,r){var i=new je(null,void 0);return t&&De(i,t),e&&Ve(i,e),n&&Me(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&M(t.W,(function(t,e){Ue(r,e,t)})),n=t.na,(e=t.A)&&n&&Ue(r,e,n),Ue(r,"VER",t.ha),Vn(t,r),r}function Kn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new mn(t.Ka)).F=t.C,e}function Qn(){}function Zn(){if(G&&!(10<=Number(nt)))throw Error("Environmental error: no available transport.")}function Yn(t,e){It.call(this),this.a=new An(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!k(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!k(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new tr(this)}function Xn(t){he.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Jn(){fe.call(this),this.status=1}function tr(t){this.a=t}(c=mn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:ce),this.a.onreadystatechange=w(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void wn(this,o)}t=n||"";var i=new Ae(this.headers);r&&Se(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=_n,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=f.FormData&&t instanceof f.FormData,!(0<=x(bn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{On(this),0<this.o&&((this.D=function(t){return G&&et(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=w(this.xa,this)):this.m=zt(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){wn(this,o)}},c.xa=function(){void 0!==h&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},c.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Tn(this))},c.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Tn(this,!0)),mn.S.G.call(this)},c.za=function(){this.j||(this.A||this.l||this.g?Cn(this):this.Ta())},c.Ta=function(){Cn(this)},c.X=function(){try{return 2<xn(this)?this.a.status:-1}catch(B){return-1}},c.$=function(){try{return this.a?this.a.responseText:""}catch(B){return""}},c.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),gn(e)}},c.ua=function(){return this.h},c.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(c=An.prototype).ha=8,c.v=1,c.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new pe(this,this.c,t,void 0),r=this.l;if(this.O&&(r?F(r=L(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Mn(this,n,e),Ue(i=Pe(this.B),"RID",t),Ue(i,"CVER",22),this.A&&Ue(i,"X-HTTP-Session-Id",this.A),Vn(this,i),this.i&&r&&In(i,this.i,r),un(this.b,n),this.Ga&&Ue(i,"TYPE","init"),this.da?(Ue(i,"$req",e),Ue(i,"SID","null"),n.V=!0,ye(n,i,null)):ye(n,i,e),this.v=2}}else 3==this.v&&(t?Dn(this,t):0==this.g.length||on(this.b)||Dn(this))},c.Aa=function(){if(this.j=null,qn(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=ie(w(this.Sa,this),t)}},c.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Rn(this),qn(this))},c.Ra=function(){null!=this.m&&(this.m=null,Rn(this),Un(this),ne(19))},c.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),ne(2)):(this.c.info("Failed to ping google.com"),ne(1))},(c=Qn.prototype).ta=function(){},c.sa=function(){},c.ra=function(){},c.qa=function(){},c.Ha=function(){},Zn.prototype.a=function(t,e){return new Yn(t,e)},T(Yn,It),(c=Yn.prototype).addEventListener=function(t,e,n,r){Yn.S.addEventListener.call(this,t,e,n,r)},c.removeEventListener=function(t,e,n,r){Yn.S.removeEventListener.call(this,t,e,n,r)},c.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;ne(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=Wn(t,null,t.fa),Pn(t)},c.close=function(){kn(this.a)},c.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,jn(this.a,e)}else this.g?((e={}).__data__=At(t),jn(this.a,e)):jn(this.a,t)},c.G=function(){this.a.f=null,delete this.f,kn(this.a),delete this.a,Yn.S.G.call(this)},T(Xn,he),T(Jn,fe),T(tr,Qn),tr.prototype.ta=function(){this.a.dispatchEvent("a")},tr.prototype.sa=function(t){this.a.dispatchEvent(new Xn(t))},tr.prototype.ra=function(t){this.a.dispatchEvent(new Jn(t))},tr.prototype.qa=function(){this.a.dispatchEvent("b")},Zn.prototype.createWebChannel=Zn.prototype.a,Yn.prototype.send=Yn.prototype.Pa,Yn.prototype.open=Yn.prototype.Oa,Yn.prototype.close=Yn.prototype.close,oe.NO_ERROR=0,oe.TIMEOUT=8,oe.HTTP_ERROR=6,se.COMPLETE="complete",ue.EventType=le,le.OPEN="a",le.CLOSE="b",le.ERROR="c",le.MESSAGE="d",It.prototype.listen=It.prototype.va,mn.prototype.listenOnce=mn.prototype.wa,mn.prototype.getLastError=mn.prototype.Qa,mn.prototype.getLastErrorCode=mn.prototype.ua,mn.prototype.getStatus=mn.prototype.X,mn.prototype.getResponseJson=mn.prototype.Na,mn.prototype.getResponseText=mn.prototype.$,mn.prototype.send=mn.prototype.ba;var er=oe,nr=se,rr=ue,ir=mn,or=n("/6Yf"),sr=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},ar=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),ur=new o.b("@firebase/firestore");function cr(){return ur.logLevel}function lr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ur.logLevel<=o.a.DEBUG){var i=e.map(dr);ur.debug.apply(ur,Object(r.g)(["Firestore (8.0.2): "+t],i))}}function hr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ur.logLevel<=o.a.ERROR){var i=e.map(dr);ur.error.apply(ur,Object(r.g)(["Firestore (8.0.2): "+t],i))}}function fr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ur.logLevel<=o.a.WARN){var i=e.map(dr);ur.warn.apply(ur,Object(r.g)(["Firestore (8.0.2): "+t],i))}}function dr(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function pr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.0.2) INTERNAL ASSERTION FAILED: "+t;throw hr(e),new Error(e)}function gr(t,e){t||pr()}function mr(t,e){return t}function vr(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var yr=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=vr(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function br(t,e){return t<e?-1:t>e?1:0}function _r(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function wr(t){return t+"\0"}function Er(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Tr(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Or=function(){function t(t,e){this.h=t,this.l=e,this._={}}return t.prototype.get=function(t){var e=this.h(t),n=this._[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.l(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.h(t),r=this._[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.l(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this._[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.h(t),n=this._[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.l(n[r][0],t))return 1===n.length?delete this._[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Cr(this._,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.T=function(){return Tr(this._)},t}(),xr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ir=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(r.c)(e,t),e}(Error),Sr=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ir(xr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ir(xr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ir(xr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ir(xr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.I=function(t){return this.seconds===t.seconds?br(this.nanoseconds,t.nanoseconds):br(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Ar=function(){function t(t){this.timestamp=t}return t.m=function(e){return new t(e)},t.min=function(){return new t(new Sr(0,0))},t.prototype.A=function(t){return this.timestamp.I(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.R=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.P=function(){return this.timestamp},t}(),kr=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&pr(),void 0===n?n=t.length-e:n>t.length-e&&pr(),this.segments=t,this.offset=e,this.g=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.g},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.V(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.p(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.v=function(t){return this.p(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.S=function(){return this.p(this.segments,this.offset,this.length-1)},t.prototype.D=function(){return this.segments[this.offset]},t.prototype.C=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.T=function(){return 0===this.length},t.prototype.N=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.F=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.O=function(){return this.segments.slice(this.offset,this.limit())},t.V=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Rr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.p=function(t,n,r){return new e(t,n,r)},e.prototype.M=function(){return this.O().join("/")},e.prototype.toString=function(){return this.M()},e.k=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Ir(xr.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.$=function(){return new e([])},e}(kr),Nr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.p=function(t,n,r){return new e(t,n,r)},e.L=function(t){return Nr.test(t)},e.prototype.M=function(){return this.O().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.L(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.M()},e.prototype.B=function(){return 1===this.length&&"__name__"===this.get(0)},e.q=function(){return new e(["__name__"])},e.U=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Ir(xr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Ir(xr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ir(xr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Ir(xr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.$=function(){return new e([])},e}(kr),Pr=function(){function t(t){this.path=t}return t.K=function(e){return new t(Rr.k(e))},t.W=function(e){return new t(Rr.k(e).v(5))},t.prototype.j=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Rr.V(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.V=function(t,e){return Rr.V(t.path,e.path)},t.G=function(t){return t.length%2==0},t.H=function(e){return new t(new Rr(e.slice()))},t}();function Dr(t){return null==t}function Vr(t){return 0===t&&1/t==-1/0}function Mr(t){return"number"==typeof t&&Number.isInteger(t)&&!Vr(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Lr=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.J=null};function Ur(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Lr(t,e,n,r,i,o,s)}function Fr(t){var e=mr(t);if(null===e.J){var n=e.path.M();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.M()+t.op.toString()+Ri(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.M()+e.dir;var e})).join(","),Dr(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ps(e.startAt)),e.endAt&&(n+="|ub:",n+=Ps(e.endAt)),e.J=n}return e.J}function qr(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Us(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Ii(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Vs(t.startAt,e.startAt)&&Vs(t.endAt,e.endAt)}function zr(t){return Pr.G(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Br=function(){function t(t){this.Y=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.Y)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.Y)},t.prototype.X=function(){return 2*this.Y.length},t.prototype.A=function(t){return br(this.Y,t.Y)},t.prototype.isEqual=function(t){return this.Y===t.Y},t}();Br.Z=new Br("");var Hr,Gr,$r=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Ar.min()),void 0===o&&(o=Ar.min()),void 0===s&&(s=Br.Z),this.target=t,this.targetId=e,this.tt=n,this.sequenceNumber=r,this.et=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.nt=function(e){return new t(this.target,this.targetId,this.tt,e,this.et,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.st=function(e,n){return new t(this.target,this.targetId,this.tt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.it=function(e){return new t(this.target,this.targetId,this.tt,this.sequenceNumber,this.et,e,this.resumeToken)},t}(),Wr=function(t){this.count=t};function Kr(t){switch(t){case xr.OK:return pr();case xr.CANCELLED:case xr.UNKNOWN:case xr.DEADLINE_EXCEEDED:case xr.RESOURCE_EXHAUSTED:case xr.INTERNAL:case xr.UNAVAILABLE:case xr.UNAUTHENTICATED:return!1;case xr.INVALID_ARGUMENT:case xr.NOT_FOUND:case xr.ALREADY_EXISTS:case xr.PERMISSION_DENIED:case xr.FAILED_PRECONDITION:case xr.ABORTED:case xr.OUT_OF_RANGE:case xr.UNIMPLEMENTED:case xr.DATA_LOSS:return!0;default:return pr()}}function Qr(t){if(void 0===t)return hr("GRPC error has no .code"),xr.UNKNOWN;switch(t){case Hr.OK:return xr.OK;case Hr.CANCELLED:return xr.CANCELLED;case Hr.UNKNOWN:return xr.UNKNOWN;case Hr.DEADLINE_EXCEEDED:return xr.DEADLINE_EXCEEDED;case Hr.RESOURCE_EXHAUSTED:return xr.RESOURCE_EXHAUSTED;case Hr.INTERNAL:return xr.INTERNAL;case Hr.UNAVAILABLE:return xr.UNAVAILABLE;case Hr.UNAUTHENTICATED:return xr.UNAUTHENTICATED;case Hr.INVALID_ARGUMENT:return xr.INVALID_ARGUMENT;case Hr.NOT_FOUND:return xr.NOT_FOUND;case Hr.ALREADY_EXISTS:return xr.ALREADY_EXISTS;case Hr.PERMISSION_DENIED:return xr.PERMISSION_DENIED;case Hr.FAILED_PRECONDITION:return xr.FAILED_PRECONDITION;case Hr.ABORTED:return xr.ABORTED;case Hr.OUT_OF_RANGE:return xr.OUT_OF_RANGE;case Hr.UNIMPLEMENTED:return xr.UNIMPLEMENTED;case Hr.DATA_LOSS:return xr.DATA_LOSS;default:return pr()}}(Gr=Hr||(Hr={}))[Gr.OK=0]="OK",Gr[Gr.CANCELLED=1]="CANCELLED",Gr[Gr.UNKNOWN=2]="UNKNOWN",Gr[Gr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gr[Gr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gr[Gr.NOT_FOUND=5]="NOT_FOUND",Gr[Gr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gr[Gr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gr[Gr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gr[Gr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gr[Gr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gr[Gr.ABORTED=10]="ABORTED",Gr[Gr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gr[Gr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gr[Gr.INTERNAL=13]="INTERNAL",Gr[Gr.UNAVAILABLE=14]="UNAVAILABLE",Gr[Gr.DATA_LOSS=15]="DATA_LOSS";var Zr=function(){function t(t,e){this.V=t,this.root=e||Xr.EMPTY}return t.prototype.rt=function(e,n){return new t(this.V,this.root.rt(e,n,this.V).copy(null,null,Xr.ot,null,null))},t.prototype.remove=function(e){return new t(this.V,this.root.remove(e,this.V).copy(null,null,Xr.ot,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.T();){var n=this.V(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.T();){var r=this.V(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.T=function(){return this.root.T()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.at=function(){return this.root.at()},t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(t){return this.root.ut(t)},t.prototype.forEach=function(t){this.ut((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ut((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.lt=function(){return new Yr(this.root,null,this.V,!1)},t.prototype._t=function(t){return new Yr(this.root,t,this.V,!1)},t.prototype.ft=function(){return new Yr(this.root,null,this.V,!0)},t.prototype.dt=function(t){return new Yr(this.root,t,this.V,!0)},t}(),Yr=function(){function t(t,e,n,r){this.wt=r,this.Tt=[];for(var i=1;!t.T();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.wt?t.left:t.right;else{if(0===i){this.Tt.push(t);break}this.Tt.push(t),t=this.wt?t.right:t.left}}return t.prototype.Et=function(){var t=this.Tt.pop(),e={key:t.key,value:t.value};if(this.wt)for(t=t.left;!t.T();)this.Tt.push(t),t=t.right;else for(t=t.right;!t.T();)this.Tt.push(t),t=t.left;return e},t.prototype.It=function(){return this.Tt.length>0},t.prototype.At=function(){if(0===this.Tt.length)return null;var t=this.Tt[this.Tt.length-1];return{key:t.key,value:t.value}},t}(),Xr=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.T=function(){return!1},t.prototype.ut=function(t){return this.left.ut(t)||t(this.key,this.value)||this.right.ut(t)},t.prototype.ht=function(t){return this.right.ht(t)||t(this.key,this.value)||this.left.ht(t)},t.prototype.min=function(){return this.left.T()?this:this.left.min()},t.prototype.at=function(){return this.min().key},t.prototype.ct=function(){return this.right.T()?this.key:this.right.ct()},t.prototype.rt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.rt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.rt(t,e,n))).Rt()},t.prototype.Pt=function(){if(this.left.T())return t.EMPTY;var e=this;return e.left.gt()||e.left.left.gt()||(e=e.Vt()),(e=e.copy(null,null,null,e.left.Pt(),null)).Rt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.T()||i.left.gt()||i.left.left.gt()||(i=i.Vt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.gt()&&(i=i.yt()),i.right.T()||i.right.gt()||i.right.left.gt()||(i=i.vt()),0===n(e,i.key)){if(i.right.T())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Pt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Rt()},t.prototype.gt=function(){return this.color},t.prototype.Rt=function(){var t=this;return t.right.gt()&&!t.left.gt()&&(t=t.bt()),t.left.gt()&&t.left.left.gt()&&(t=t.yt()),t.left.gt()&&t.right.gt()&&(t=t.St()),t},t.prototype.Vt=function(){var t=this.St();return t.right.left.gt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.yt())).bt()).St()),t},t.prototype.vt=function(){var t=this.St();return t.left.left.gt()&&(t=(t=t.yt()).St()),t},t.prototype.bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.yt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.St=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Dt=function(){var t=this.Ct();return Math.pow(2,t)<=this.size+1},t.prototype.Ct=function(){if(this.gt()&&this.left.gt())throw pr();if(this.right.gt())throw pr();var t=this.left.Ct();if(t!==this.right.Ct())throw pr();return t+(this.gt()?0:1)},t}();Xr.EMPTY=null,Xr.RED=!0,Xr.ot=!1,Xr.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw pr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw pr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw pr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw pr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw pr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.rt=function(t,e,n){return new Xr(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.T=function(){return!0},t.prototype.ut=function(t){return!1},t.prototype.ht=function(t){return!1},t.prototype.at=function(){return null},t.prototype.ct=function(){return null},t.prototype.gt=function(){return!1},t.prototype.Dt=function(){return!0},t.prototype.Ct=function(){return 0},t}());var Jr=function(){function t(t){this.V=t,this.data=new Zr(this.V)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.at()},t.prototype.last=function(){return this.data.ct()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ut((function(e,n){return t(e),!1}))},t.prototype.Nt=function(t,e){for(var n=this.data._t(t[0]);n.It();){var r=n.Et();if(this.V(r.key,t[1])>=0)return;e(r.key)}},t.prototype.xt=function(t,e){var n;for(n=void 0!==e?this.data._t(e):this.data.lt();n.It();)if(!t(n.Et().key))return},t.prototype.Ft=function(t){var e=this.data._t(t);return e.It()?e.Et().key:null},t.prototype.lt=function(){return new ti(this.data.lt())},t.prototype._t=function(t){return new ti(this.data._t(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).rt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.T=function(){return this.data.T()},t.prototype.Ot=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.lt(),r=e.data.lt();n.It();){var i=n.Et().key,o=r.Et().key;if(0!==this.V(i,o))return!1}return!0},t.prototype.O=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.V);return n.data=e,n},t}(),ti=function(){function t(t){this.Mt=t}return t.prototype.Et=function(){return this.Mt.Et().key},t.prototype.It=function(){return this.Mt.It()},t}(),ei=new Zr(Pr.V);function ni(){return ei}function ri(){return ni()}var ii=new Zr(Pr.V);function oi(){return ii}var si=new Zr(Pr.V),ai=new Jr(Pr.V);function ui(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ai,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ci=new Jr(br);function li(){return ci}var hi=function(){function t(t){this.V=t?function(e,n){return t(e,n)||Pr.V(e.key,n.key)}:function(t,e){return Pr.V(t.key,e.key)},this.kt=oi(),this.$t=new Zr(this.V)}return t.Lt=function(e){return new t(e.V)},t.prototype.has=function(t){return null!=this.kt.get(t)},t.prototype.get=function(t){return this.kt.get(t)},t.prototype.first=function(){return this.$t.at()},t.prototype.last=function(){return this.$t.ct()},t.prototype.T=function(){return this.$t.T()},t.prototype.indexOf=function(t){var e=this.kt.get(t);return e?this.$t.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.$t.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.$t.ut((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.kt.rt(t.key,t),e.$t.rt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.kt.remove(t),this.$t.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.$t.lt(),r=e.$t.lt();n.It();){var i=n.Et().key,o=r.Et().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.V=this.V,r.kt=e,r.$t=n,r},t}(),fi=function(){function t(){this.Bt=new Zr(Pr.V)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Bt.get(e);n?0!==t.type&&3===n.type?this.Bt=this.Bt.rt(e,t):3===t.type&&1!==n.type?this.Bt=this.Bt.rt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Bt=this.Bt.rt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Bt=this.Bt.rt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Bt=this.Bt.remove(e):1===t.type&&2===n.type?this.Bt=this.Bt.rt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Bt=this.Bt.rt(e,{type:2,doc:t.doc}):pr():this.Bt=this.Bt.rt(e,t)},t.prototype.qt=function(){var t=[];return this.Bt.ut((function(e,n){t.push(n)})),t},t}(),di=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Ut=n,this.docChanges=r,this.Qt=i,this.fromCache=o,this.Kt=s,this.Wt=a}return t.jt=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,hi.Lt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Qt.T()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Kt===t.Kt&&this.Qt.isEqual(t.Qt)&&bs(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Ut.isEqual(t.Ut)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),pi=function(){function t(t,e,n,r,i){this.et=t,this.Gt=e,this.zt=n,this.Ht=r,this.Jt=i}return t.Yt=function(e,n){var r=new Map;return r.set(e,gi.Xt(e,n)),new t(Ar.min(),r,li(),ni(),ui())},t}(),gi=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Zt=e,this.te=n,this.ee=r,this.ne=i}return t.Xt=function(e,n){return new t(Br.Z,n,ui(),ui(),ui())},t}(),mi=function(t,e,n,r){this.se=t,this.removedTargetIds=e,this.key=n,this.ie=r},vi=function(t,e){this.targetId=t,this.re=e},yi=function(t,e,n,r){void 0===n&&(n=Br.Z),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},bi=function(){function t(){this.oe=0,this.ae=Ei(),this.ce=Br.Z,this.ue=!1,this.he=!0}return Object.defineProperty(t.prototype,"Zt",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ce},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"le",{get:function(){return 0!==this.oe},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return this.he},enumerable:!1,configurable:!0}),t.prototype.fe=function(t){t.X()>0&&(this.he=!0,this.ce=t)},t.prototype.de=function(){var t=ui(),e=ui(),n=ui();return this.ae.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:pr()}})),new gi(this.ce,this.ue,t,e,n)},t.prototype.we=function(){this.he=!1,this.ae=Ei()},t.prototype.Te=function(t,e){this.he=!0,this.ae=this.ae.rt(t,e)},t.prototype.Ee=function(t){this.he=!0,this.ae=this.ae.remove(t)},t.prototype.Ie=function(){this.oe+=1},t.prototype.me=function(){this.oe-=1},t.prototype.Ae=function(){this.he=!0,this.ue=!0},t}(),_i=function(){function t(t){this.Re=t,this.Pe=new Map,this.ge=ni(),this.Ve=wi(),this.ye=new Jr(br)}return t.prototype.pe=function(t){for(var e=0,n=t.se;e<n.length;e++){var r=n[e];t.ie instanceof rs?this.ve(r,t.ie):t.ie instanceof is&&this.be(r,t.key,t.ie)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.be(o[i],t.key,t.ie)},t.prototype.Se=function(t){var e=this;this.De(t,(function(n){var r=e.Ce(n);switch(t.state){case 0:e.Ne(n)&&r.fe(t.resumeToken);break;case 1:r.me(),r.le||r.we(),r.fe(t.resumeToken);break;case 2:r.me(),r.le||e.removeTarget(n);break;case 3:e.Ne(n)&&(r.Ae(),r.fe(t.resumeToken));break;case 4:e.Ne(n)&&(e.xe(n),r.fe(t.resumeToken));break;default:pr()}}))},t.prototype.De=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Pe.forEach((function(t,r){n.Ne(r)&&e(r)}))},t.prototype.Fe=function(t){var e=t.targetId,n=t.re.count,r=this.Oe(e);if(r){var i=r.target;if(zr(i))if(0===n){var o=new Pr(i.path);this.be(e,o,new is(o,Ar.min()))}else gr(1===n);else this.Me(e)!==n&&(this.xe(e),this.ye=this.ye.add(e))}},t.prototype.ke=function(t){var e=this,n=new Map;this.Pe.forEach((function(r,i){var o=e.Oe(i);if(o){if(r.Zt&&zr(o.target)){var s=new Pr(o.target.path);null!==e.ge.get(s)||e.$e(i,s)||e.be(i,s,new is(s,t))}r._e&&(n.set(i,r.de()),r.we())}}));var r=ui();this.Ve.forEach((function(t,n){var i=!0;n.xt((function(t){var n=e.Oe(t);return!n||2===n.tt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new pi(t,n,this.ye,this.ge,r);return this.ge=ni(),this.Ve=wi(),this.ye=new Jr(br),i},t.prototype.ve=function(t,e){if(this.Ne(t)){var n=this.$e(t,e.key)?2:0;this.Ce(t).Te(e.key,n),this.ge=this.ge.rt(e.key,e),this.Ve=this.Ve.rt(e.key,this.Le(e.key).add(t))}},t.prototype.be=function(t,e,n){if(this.Ne(t)){var r=this.Ce(t);this.$e(t,e)?r.Te(e,1):r.Ee(e),this.Ve=this.Ve.rt(e,this.Le(e).delete(t)),n&&(this.ge=this.ge.rt(e,n))}},t.prototype.removeTarget=function(t){this.Pe.delete(t)},t.prototype.Me=function(t){var e=this.Ce(t).de();return this.Re.Be(t).size+e.te.size-e.ne.size},t.prototype.Ie=function(t){this.Ce(t).Ie()},t.prototype.Ce=function(t){var e=this.Pe.get(t);return e||(e=new bi,this.Pe.set(t,e)),e},t.prototype.Le=function(t){var e=this.Ve.get(t);return e||(e=new Jr(br),this.Ve=this.Ve.rt(t,e)),e},t.prototype.Ne=function(t){var e=null!==this.Oe(t);return e||lr("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Oe=function(t){var e=this.Pe.get(t);return e&&e.le?null:this.Re.qe(t)},t.prototype.xe=function(t){var e=this;this.Pe.set(t,new bi),this.Re.Be(t).forEach((function(n){e.be(t,n,null)}))},t.prototype.$e=function(t,e){return this.Re.Be(t).has(e)},t}();function wi(){return new Zr(Pr.V)}function Ei(){return new Zr(Pr.V)}function Ci(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ti(t){var e=Ni(t.mapValue.fields.__local_write_time__.timestampValue);return new Sr(e.seconds,e.nanos)}var Oi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ci(t)?4:10:pr()}function Ii(t,e){var n=xi(t);if(n!==xi(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ti(t).isEqual(Ti(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Ni(t.timestampValue),r=Ni(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Pi(t.bytesValue).isEqual(Pi(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ji(t.geoPointValue.latitude)===ji(e.geoPointValue.latitude)&&ji(t.geoPointValue.longitude)===ji(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ji(t.integerValue)===ji(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ji(t.doubleValue),r=ji(e.doubleValue);return n===r?Vr(n)===Vr(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return _r(t.arrayValue.values||[],e.arrayValue.values||[],Ii);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Er(n)!==Er(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ii(n[i],r[i])))return!1;return!0}(t,e);default:return pr()}}function Si(t,e){return void 0!==(t.values||[]).find((function(t){return Ii(t,e)}))}function Ai(t,e){var n=xi(t),r=xi(e);if(n!==r)return br(n,r);switch(n){case 0:return 0;case 1:return br(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ji(t.integerValue||t.doubleValue),r=ji(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return ki(t.timestampValue,e.timestampValue);case 4:return ki(Ti(t),Ti(e));case 5:return br(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Pi(t),r=Pi(e);return n.A(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=br(n[i],r[i]);if(0!==o)return o}return br(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=br(ji(t.latitude),ji(e.latitude));return 0!==n?n:br(ji(t.longitude),ji(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ai(n[i],r[i]);if(o)return o}return br(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=br(r[s],o[s]);if(0!==a)return a;var u=Ai(n[r[s]],i[o[s]]);if(0!==u)return u}return br(r.length,o.length)}(t.mapValue,e.mapValue);default:throw pr()}}function ki(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return br(t,e);var n=Ni(t),r=Ni(e),i=br(n.seconds,r.seconds);return 0!==i?i:br(n.nanos,r.nanos)}function Ri(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Ni(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Pi(e.bytesValue).toBase64():"referenceValue"in e?Pr.W(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):pr();var n}(t)}function Ni(t){if(gr(!!t),"string"==typeof t){var e=0,n=Oi.exec(t);if(gr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ji(t.seconds),nanos:ji(t.nanos)}}function ji(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Pi(t){return"string"==typeof t?Br.fromBase64String(t):Br.fromUint8Array(t)}function Di(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.M()}}function Vi(t){return!!t&&"integerValue"in t}function Mi(t){return!!t&&"arrayValue"in t}function Li(t){return!!t&&"nullValue"in t}function Ui(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fi(t){return!!t&&"mapValue"in t}var qi={asc:"ASCENDING",desc:"DESCENDING"},zi={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bi=function(t,e){this.t=t,this.Ue=e};function Hi(t){return{integerValue:""+t}}function Gi(t,e){if(t.Ue){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vr(e)?"-0":e}}function $i(t,e){return Mr(e)?Hi(e):Gi(t,e)}function Wi(t,e){return t.Ue?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ki(t,e){return t.Ue?e.toBase64():e.toUint8Array()}function Qi(t,e){return Wi(t,e.P())}function Zi(t){return gr(!!t),Ar.m(function(t){var e=Ni(t);return new Sr(e.seconds,e.nanos)}(t))}function Yi(t,e){return function(t){return new Rr(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).M()}function Xi(t){var e=Rr.k(t);return gr(wo(e)),e}function Ji(t,e){return Yi(t.t,e.path)}function to(t,e){var n=Xi(e);if(n.get(1)!==t.t.projectId)throw new Ir(xr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new Ir(xr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new Pr(io(n))}function eo(t,e){return Yi(t.t,e)}function no(t){var e=Xi(t);return 4===e.length?Rr.$():io(e)}function ro(t){return new Rr(["projects",t.t.projectId,"databases",t.t.database]).M()}function io(t){return gr(t.length>4&&"documents"===t.get(4)),t.v(5)}function oo(t,e,n){return{name:Ji(t,e),fields:n.proto.mapValue.fields}}function so(t,e){var n;if(e instanceof Go)n={update:oo(t,e.key,e.value)};else if(e instanceof Yo)n={delete:Ji(t,e.key)};else if(e instanceof $o)n={update:oo(t,e.key,e.data),updateMask:_o(e.Qe)};else if(e instanceof Ko)n={transform:{document:Ji(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof xo)return{fieldPath:e.field.M(),setToServerValue:"REQUEST_TIME"};if(n instanceof Io)return{fieldPath:e.field.M(),appendMissingElements:{values:n.elements}};if(n instanceof Ao)return{fieldPath:e.field.M(),removeAllFromArray:{values:n.elements}};if(n instanceof Ro)return{fieldPath:e.field.M(),increment:n.Ke};throw pr()}(0,t)}))}};else{if(!(e instanceof Xo))return pr();n={verify:Ji(t,e.key)}}return e.je.We||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Qi(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:pr()}(t,e.je)),n}function ao(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Mo.updateTime(Zi(t.updateTime)):void 0!==t.exists?Mo.exists(t.exists):Mo.Ge()}(e.currentDocument):Mo.Ge();if(e.update){var r=to(t,e.update.name),i=new Jo({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Po((t.fieldPaths||[]).map((function(t){return jr.U(t)})))}(e.updateMask);return new $o(r,i,o,n)}return new Go(r,i,n)}if(e.delete){var s=to(t,e.delete);return new Yo(s,n)}if(e.transform){var a=to(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(gr("REQUEST_TIME"===e.setToServerValue),n=new xo):"appendMissingElements"in e?n=new Io(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Ao(e.removeAllFromArray.values||[]):"increment"in e?n=new Ro(t,e.increment):pr();var r=jr.U(e.fieldPath);return new Do(r,n)}(t,e)}));return gr(!0===n.exists),new Ko(a,u)}if(e.verify){var c=to(t,e.verify);return new Xo(c,n)}return pr()}function uo(t,e){return{documents:[eo(t,e.path)]}}function co(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=eo(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=eo(t,r.S()),n.structuredQuery.from=[{collectionId:r.C()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Ui(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NAN"}};if(Li(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ui(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NOT_NAN"}};if(Li(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(t.field),op:go(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:mo(t.field),direction:po(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Ue||Dr(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=ho(e.startAt)),e.endAt&&(n.structuredQuery.endAt=ho(e.endAt)),n}function lo(t){var e=no(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){gr(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[bo(e)]:void 0!==e.fieldFilter?[yo(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):pr():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Ms(vo(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Dr(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=fo(n.startAt));var l=null;return n.endAt&&(l=fo(n.endAt)),as(e,i,a,s,u,"F",c,l)}function ho(t){return{before:t.before,values:t.position}}function fo(t){return new js(t.values||[],!!t.before)}function po(t){return qi[t]}function go(t){return zi[t]}function mo(t){return{fieldPath:t.M()}}function vo(t){return jr.U(t.fieldPath)}function yo(t){return Ts.create(vo(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return pr()}}(t.fieldFilter.op),t.fieldFilter.value)}function bo(t){switch(t.unaryFilter.op){case"IS_NAN":var e=vo(t.unaryFilter.field);return Ts.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=vo(t.unaryFilter.field);return Ts.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=vo(t.unaryFilter.field);return Ts.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=vo(t.unaryFilter.field);return Ts.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return pr()}}function _o(t){var e=[];return t.fields.forEach((function(t){return e.push(t.M())})),{fieldPaths:e}}function wo(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Eo=function(){this.ze=void 0};function Co(t,e,n){return t instanceof xo?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Io?So(t,e):t instanceof Ao?ko(t,e):function(t,e){var n=Oo(t,e),r=No(n)+No(t.Ke);return Vi(n)&&Vi(t.Ke)?Hi(r):Gi(t.serializer,r)}(t,e)}function To(t,e,n){return t instanceof Io?So(t,e):t instanceof Ao?ko(t,e):n}function Oo(t,e){return t instanceof Ro?Vi(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var xo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e}(Eo),Io=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(r.c)(e,t),e}(Eo);function So(t,e){for(var n=jo(e),r=function(t){n.some((function(e){return Ii(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ao=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(r.c)(e,t),e}(Eo);function ko(t,e){for(var n=jo(e),r=function(t){n=n.filter((function(e){return!Ii(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ro=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.Ke=n,r}return Object(r.c)(e,t),e}(Eo);function No(t){return ji(t.integerValue||t.doubleValue)}function jo(t){return Mi(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Po=function(){function t(t){this.fields=t,t.sort(jr.V)}return t.prototype.He=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].N(t))return!0;return!1},t.prototype.isEqual=function(t){return _r(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Do=function(t,e){this.field=t,this.transform=e},Vo=function(t,e){this.version=t,this.transformResults=e},Mo=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Ge=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"We",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Lo(t,e){return void 0!==t.updateTime?e instanceof rs&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof rs}var Uo=function(){};function Fo(t,e,n){return t instanceof Go?function(t,e,n){return new rs(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof $o?function(t,e,n){if(!Lo(t.je,e))return new os(t.key,n.version);var r=Wo(t,e);return new rs(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Ko?function(t,e,n){if(gr(null!=n.transformResults),!Lo(t.je,e))return new os(t.key,n.version);var r=Qo(0,e),i=function(t,e,n){var r=[];gr(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof rs&&(a=e.field(o.field)),r.push(To(s,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,s=Zo(t,r.data(),i);return new rs(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new is(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function qo(t,e,n,r){return t instanceof Go?function(t,e){if(!Lo(t.je,e))return e;var n=Ho(e);return new rs(t.key,n,t.value,{Je:!0})}(t,e):t instanceof $o?function(t,e){if(!Lo(t.je,e))return e;var n=Ho(e),r=Wo(t,e);return new rs(t.key,n,r,{Je:!0})}(t,e):t instanceof Ko?function(t,e,n,r){if(!Lo(t.je,e))return e;var i=Qo(0,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof rs&&(c=n.field(a.field)),null===c&&r instanceof rs&&(c=r.field(a.field)),i.push(Co(u,c,e))}return i}(t.fieldTransforms,n,e,r),s=Zo(t,i.data(),o);return new rs(t.key,i.version,s,{Je:!0})}(t,e,r,n):function(t,e){return Lo(t.je,e)?new is(t.key,Ar.min()):e}(t,e)}function zo(t,e){return t instanceof Ko?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e instanceof rs?e.field(o.field):void 0,a=Oo(o.transform,s||null);null!=a&&(n=null==n?(new ts).set(o.field,a):n.set(o.field,a))}return n?n.Ye():null}(t,e):null}function Bo(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.je.isEqual(e.je)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Qe.isEqual(e.Qe):2!==t.type||_r(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Io&&e instanceof Io||t instanceof Ao&&e instanceof Ao?_r(t.elements,e.elements,Ii):t instanceof Ro&&e instanceof Ro?Ii(t.Ke,e.Ke):t instanceof xo&&e instanceof xo}(t.transform,e.transform)}(t,e)})))}function Ho(t){return t instanceof rs?t.version:Ar.min()}var Go=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.je=r,i.type=0,i}return Object(r.c)(e,t),e}(Uo),$o=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Qe=r,o.je=i,o.type=1,o}return Object(r.c)(e,t),e}(Uo);function Wo(t,e){return function(t,e){var n=new ts(e);return t.Qe.fields.forEach((function(e){if(!e.T()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Ye()}(t,e instanceof rs?e.data():Jo.empty())}var Ko=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.je=Mo.exists(!0),r}return Object(r.c)(e,t),e}(Uo);function Qo(t,e){return e}function Zo(t,e,n){for(var r=new ts(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.Ye()}var Yo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.je=n,r.type=3,r}return Object(r.c)(e,t),e}(Uo),Xo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.je=n,r.type=4,r}return Object(r.c)(e,t),e}(Uo),Jo=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.T())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Fi(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.C()])||null},t.prototype.isEqual=function(t){return Ii(this.proto,t.proto)},t}(),ts=function(){function t(t){void 0===t&&(t=Jo.empty()),this.Xe=t,this.Ze=new Map}return t.prototype.set=function(t,e){return this.tn(t,e),this},t.prototype.delete=function(t){return this.tn(t,null),this},t.prototype.tn=function(t,e){for(var n=this.Ze,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===xi(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.C(),e)},t.prototype.Ye=function(){var t=this.en(jr.$(),this.Ze);return null!=t?new Jo(t):this.Xe},t.prototype.en=function(t,e){var n=this,r=!1,i=this.Xe.field(t),o=Fi(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.en(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function es(t){var e=[];return Cr(t.fields||{},(function(t,n){var r=new jr([t]);if(Fi(n)){var i=es(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new Po(e)}var ns=function(t,e){this.key=t,this.version=e},rs=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).nn=r,o.Je=!!i.Je,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(r.c)(e,t),e.prototype.field=function(t){return this.nn.field(t)},e.prototype.data=function(){return this.nn},e.prototype.sn=function(){return this.nn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Je===t.Je&&this.hasCommittedMutations===t.hasCommittedMutations&&this.nn.isEqual(t.nn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.nn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(ns),is=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(r.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ns),os=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ns),ss=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.rn=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.on=null,this.an=null};function as(t,e,n,r,i,o,s,a){return new ss(t,e,n,r,i,o,s,a)}function us(t){return new ss(t)}function cs(t){return!Dr(t.limit)&&"F"===t.limitType}function ls(t){return!Dr(t.limit)&&"L"===t.limitType}function hs(t){return t.rn.length>0?t.rn[0].field:null}function fs(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.cn())return r.field}return null}function ds(t){return null!==t.collectionGroup}function ps(t){var e=mr(t);if(null===e.on){e.on=[];var n=fs(e),r=hs(e);if(null!==n&&null===r)n.B()||e.on.push(new Ms(n)),e.on.push(new Ms(jr.q(),"asc"));else{for(var i=!1,o=0,s=e.rn;o<s.length;o++){var a=s[o];e.on.push(a),a.field.B()&&(i=!0)}if(!i){var u=e.rn.length>0?e.rn[e.rn.length-1].dir:"asc";e.on.push(new Ms(jr.q(),u))}}}return e.on}function gs(t){var e=mr(t);if(!e.an)if("F"===e.limitType)e.an=Ur(e.path,e.collectionGroup,ps(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=ps(e);r<i.length;r++){var o=i[r];n.push(new Ms(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new js(e.endAt.position,!e.endAt.before):null,a=e.startAt?new js(e.startAt.position,!e.startAt.before):null;e.an=Ur(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.an}function ms(t,e,n){return new ss(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vs(t,e){return new ss(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}function ys(t,e){return new ss(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}function bs(t,e){return qr(gs(t),gs(e))&&t.limitType===e.limitType}function _s(t){return Fr(gs(t))+"|lt:"+t.limitType}function ws(t){return"Query(target="+function(t){var e=t.path.M();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.M()+" "+e.op+" "+Ri(e.value);var e})).join(", ")+"]"),Dr(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.M()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Ps(t.startAt)),t.endAt&&(e+=", endAt: "+Ps(t.endAt)),"Target("+e+")"}(gs(t))+"; limitType="+t.limitType+")"}function Es(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.j(t.collectionGroup)&&t.path.N(n):Pr.G(t.path)?t.path.isEqual(n):t.path.F(n)}(t,e)&&function(t,e){for(var n=0,r=t.rn;n<r.length;n++){var i=r[n];if(!i.field.B()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Ds(t.startAt,ps(t),e)||t.endAt&&Ds(t.endAt,ps(t),e))}(t,e)}function Cs(t){return function(e,n){for(var r=!1,i=0,o=ps(t);i<o.length;i++){var s=o[i],a=Ls(s,e,n);if(0!==a)return a;r=r||s.field.B()}return 0}}var Ts=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(r.c)(e,t),e.create=function(t,n,r){return t.B()?"in"===n||"not-in"===n?this.un(t,n,r):new Os(t,n,r):"array-contains"===n?new As(t,r):"in"===n?new ks(t,r):"not-in"===n?new Rs(t,r):"array-contains-any"===n?new Ns(t,r):new e(t,n,r)},e.un=function(t,e,n){return"in"===e?new xs(t,n):new Is(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.hn(Ai(e,this.value)):null!==e&&xi(this.value)===xi(e)&&this.hn(Ai(e,this.value))},e.prototype.hn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return pr()}},e.prototype.cn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Os=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Pr.W(r.referenceValue),i}return Object(r.c)(e,t),e.prototype.matches=function(t){var e=Pr.V(t.key,this.key);return this.hn(e)},e}(Ts),xs=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ss(0,n),r}return Object(r.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ts),Is=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ss(0,n),r}return Object(r.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ts);function Ss(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Pr.W(t.referenceValue)}))}var As=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(r.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Mi(e)&&Si(e.arrayValue,this.value)},e}(Ts),ks=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(r.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Si(this.value.arrayValue,e)},e}(Ts),Rs=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(r.c)(e,t),e.prototype.matches=function(t){if(Si(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Si(this.value.arrayValue,e)},e}(Ts),Ns=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(r.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Mi(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Si(e.value.arrayValue,t)}))},e}(Ts),js=function(t,e){this.position=t,this.before=e};function Ps(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Ri(t)})).join(",")}function Ds(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.B()?Pr.V(Pr.W(s.referenceValue),n.key):Ai(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Vs(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ii(t.position[n],e.position[n]))return!1;return!0}var Ms=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ls(t,e,n){var r=t.field.B()?Pr.V(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Ai(r,i):pr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pr()}}function Us(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Fs=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},qs=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.ln=t,this._n=e,this.fn=n,this.dn=r,this.wn=i,this.Tn=0,this.En=null,this.In=Date.now(),this.reset()}return t.prototype.reset=function(){this.Tn=0},t.prototype.mn=function(){this.Tn=this.wn},t.prototype.An=function(t){var e=this;this.cancel();var n=Math.floor(this.Tn+this.Rn()),r=Math.max(0,Date.now()-this.In),i=Math.max(0,n-r);i>0&&lr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Tn+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.En=this.ln.Pn(this._n,i,(function(){return e.In=Date.now(),t()})),this.Tn*=this.dn,this.Tn<this.fn&&(this.Tn=this.fn),this.Tn>this.wn&&(this.Tn=this.wn)},t.prototype.gn=function(){null!==this.En&&(this.En.Vn(),this.En=null)},t.prototype.cancel=function(){null!==this.En&&(this.En.cancel(),this.En=null)},t.prototype.Rn=function(){return(Math.random()-.5)*this.Tn},t}(),zs=function(){function t(t){var e=this;this.yn=null,this.pn=null,this.result=void 0,this.error=void 0,this.vn=!1,this.bn=!1,t((function(t){e.vn=!0,e.result=t,e.yn&&e.yn(t)}),(function(t){e.vn=!0,e.error=t,e.pn&&e.pn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.bn&&pr(),this.bn=!0,this.vn?this.error?this.Sn(n,this.error):this.Dn(e,this.result):new t((function(t,i){r.yn=function(n){r.Dn(e,n).next(t,i)},r.pn=function(e){r.Sn(n,e).next(t,i)}}))},t.prototype.Cn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Nn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Dn=function(e,n){return e?this.Nn((function(){return e(n)})):t.resolve(n)},t.prototype.Sn=function(e,n){return e?this.Nn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.xn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Fn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.xn(r)},t}(),Bs=function(){function t(e,n,r){this.name=e,this.version=n,this.On=r,12.2===t.Mn(Object(s.h)())&&hr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return lr("SimpleDb","Removing database:",t),Qs(window.indexedDB.deleteDatabase(t)).Cn()},t.kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.$n())return!0;var e=Object(s.h)(),n=t.Mn(e),r=0<n&&n<10,i=t.Ln(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.$n=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Bn)},t.qn=function(t,e){return t.store(e)},t.Mn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Ln=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Un=function(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(lr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Gs(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Ir(xr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Gs(t,n))},i.onupgradeneeded=function(t){lr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.On.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){lr("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Qn&&(this.db.onversionchange=function(t){return n.Qn(t)}),this.db)]}}))}))},t.prototype.Kn=function(t){this.Qn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,i){return Object(r.b)(this,void 0,void 0,(function(){var o,s,a,u,c;return Object(r.d)(this,(function(l){switch(l.label){case 0:o="readonly"===e,s=0,a=function(){var e,a,c,l,h;return Object(r.d)(this,(function(r){switch(r.label){case 0:++s,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.Un(t)];case 2:return u.db=r.sent(),e=Ws.open(u.db,t,o?"readonly":"readwrite",n),a=i(e).catch((function(t){return e.abort(t),zs.reject(t)})).Cn(),c={},a.catch((function(){})),[4,e.Wn];case 3:return[2,(c.value=(r.sent(),a),c)];case 4:return lr("SimpleDb","Transaction failed with error:",(l=r.sent()).message,"Retrying:",h="FirebaseError"!==l.name&&s<3),u.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},u=this,l.label=1;case 1:return[5,a()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Hs=function(){function t(t){this.jn=t,this.Gn=!1,this.zn=null}return Object.defineProperty(t.prototype,"vn",{get:function(){return this.Gn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Hn",{get:function(){return this.zn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.jn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Gn=!0},t.prototype.Jn=function(t){this.zn=t},t.prototype.delete=function(){return Qs(this.jn.delete())},t}(),Gs=function(t){function e(e,n){var r=this;return(r=t.call(this,xr.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(r.c)(e,t),e}(Ir);function $s(t){return"IndexedDbTransactionError"===t.name}var Ws=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Yn=new Fs,this.transaction.oncomplete=function(){n.Yn.resolve()},this.transaction.onabort=function(){e.error?n.Yn.reject(new Gs(t,e.error)):n.Yn.resolve()},this.transaction.onerror=function(e){var r=Ys(e.target.error);n.Yn.reject(new Gs(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Gs(n,e)}},Object.defineProperty(t.prototype,"Wn",{get:function(){return this.Yn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Yn.reject(t),this.aborted||(lr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Ks(e)},t}(),Ks=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(lr("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(lr("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Qs(n)},t.prototype.add=function(t){return lr("SimpleDb","ADD",this.store.name,t,t),Qs(this.store.add(t))},t.prototype.get=function(t){var e=this;return Qs(this.store.get(t)).next((function(n){return void 0===n&&(n=null),lr("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return lr("SimpleDb","DELETE",this.store.name,t),Qs(this.store.delete(t))},t.prototype.count=function(){return lr("SimpleDb","COUNT",this.store.name),Qs(this.store.count())},t.prototype.Xn=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Zn(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.ts=function(t,e){lr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.es=!1;var r=this.cursor(n);return this.Zn(r,(function(t,e,n){return n.delete()}))},t.prototype.ns=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Zn(r,e)},t.prototype.ss=function(t){var e=this.cursor({});return new zs((function(n,r){e.onerror=function(t){var e=Ys(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.Zn=function(t,e){var n=[];return new zs((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Hs(i),s=e(i.primaryKey,i.value,o);if(s instanceof zs){var a=s.catch((function(t){return o.done(),zs.reject(t)}));n.push(a)}o.vn?r():null===o.Hn?i.continue():i.continue(o.Hn)}else r()}})).next((function(){return zs.xn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.es?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Qs(t){return new zs((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Ys(t.target.error);n(e)}}))}var Zs=!1;function Ys(t){var e=Bs.Mn(Object(s.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Ir("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Zs||(Zs=!0,setTimeout((function(){throw r}),0)),r}}return t}function Xs(){return"undefined"!=typeof window?window:null}function Js(){return"undefined"!=typeof document?document:null}var ta=function(){function t(t,e,n,r,i){this.rs=t,this._n=e,this.os=n,this.op=r,this.cs=i,this.us=new Fs,this.then=this.us.promise.then.bind(this.us.promise),this.us.promise.catch((function(t){}))}return t.hs=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.ls=setTimeout((function(){return e._s()}),t)},t.prototype.Vn=function(){return this._s()},t.prototype.cancel=function(t){null!==this.ls&&(this.clearTimeout(),this.us.reject(new Ir(xr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype._s=function(){var t=this;this.rs.fs((function(){return null!==t.ls?(t.clearTimeout(),t.op().then((function(e){return t.us.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.ls&&(this.cs(this),clearTimeout(this.ls),this.ls=null)},t}(),ea=function(){function t(){var t=this;this.ds=Promise.resolve(),this.ws=[],this.Ts=!1,this.Es=[],this.Is=null,this.As=!1,this.Rs=[],this.Ps=new qs(this,"async_queue_retry"),this.gs=function(){var e=Js();e&&lr("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Ps.gn()};var e=Js();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.gs)}return Object.defineProperty(t.prototype,"Vs",{get:function(){return this.Ts},enumerable:!1,configurable:!0}),t.prototype.fs=function(t){this.enqueue(t)},t.prototype.ys=function(t){this.ps(),this.vs(t)},t.prototype.bs=function(){if(!this.Ts){this.Ts=!0;var t=Js();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.gs)}},t.prototype.enqueue=function(t){return this.ps(),this.Ts?new Promise((function(t){})):this.vs(t)},t.prototype.Ss=function(t){var e=this;this.fs((function(){return e.ws.push(t),e.Ds()}))},t.prototype.Ds=function(){return Object(r.b)(this,void 0,void 0,(function(){var t,e=this;return Object(r.d)(this,(function(n){switch(n.label){case 0:if(0===this.ws.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.ws[0]()];case 2:return n.sent(),this.ws.shift(),this.Ps.reset(),[3,4];case 3:if(!$s(t=n.sent()))throw t;return lr("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.ws.length>0&&this.Ps.An((function(){return e.Ds()})),n.label=5;case 5:return[2]}}))}))},t.prototype.vs=function(t){var e=this,n=this.ds.then((function(){return e.As=!0,t().catch((function(t){throw e.Is=t,e.As=!1,hr("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.As=!1,t}))}));return this.ds=n,n},t.prototype.Pn=function(t,e,n){var r=this;this.ps(),this.Rs.indexOf(t)>-1&&(e=0);var i=ta.hs(this,t,e,n,(function(t){return r.Cs(t)}));return this.Es.push(i),i},t.prototype.ps=function(){this.Is&&pr()},t.prototype.Ns=function(){},t.prototype.xs=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.ds];case 1:e.sent(),e.label=2;case 2:if(t!==this.ds)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Fs=function(t){for(var e=0,n=this.Es;e<n.length;e++)if(n[e]._n===t)return!0;return!1},t.prototype.Os=function(t){var e=this;return this.xs().then((function(){e.Es.sort((function(t,e){return t.os-e.os}));for(var n=0,r=e.Es;n<r.length;n++){var i=r[n];if(i.Vn(),"all"!==t&&i._n===t)break}return e.xs()}))},t.prototype.Ms=function(t){this.Rs.push(t)},t.prototype.Cs=function(t){var e=this.Es.indexOf(t);this.Es.splice(e,1)},t}();function na(t,e){if(hr("AsyncQueue",e+": "+t),$s(t))return new Ir(xr.UNAVAILABLE,e+": "+t);throw t}var ra=function(){this.ks=void 0,this.listeners=[]},ia=function(){this.queries=new Or((function(t){return _s(t)}),bs),this.onlineState="Unknown",this.$s=new Set};function oa(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,a,u,c;return Object(r.d)(this,(function(r){switch(r.label){case 0:if(n=mr(t),o=!1,(s=n.queries.get(i=e.query))||(o=!0,s=new ra),!o)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),a=s,[4,n.Ls(i)];case 2:return a.ks=r.sent(),[3,4];case 3:return u=r.sent(),c=na(u,"Initialization of query '"+ws(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(i,s),s.listeners.push(e),e.Bs(n.onlineState),s.ks&&e.qs(s.ks)&&ca(n),[2]}}))}))}function sa(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,a;return Object(r.d)(this,(function(r){return n=mr(t),o=!1,(s=n.queries.get(i=e.query))&&(a=s.listeners.indexOf(e))>=0&&(s.listeners.splice(a,1),o=0===s.listeners.length),o?[2,(n.queries.delete(i),n.Us(i))]:[2]}))}))}function aa(t,e){for(var n=mr(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].qs(s)&&(r=!0);a.ks=s}}r&&ca(n)}function ua(t,e,n){var r=mr(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function ca(t){t.$s.forEach((function(t){t.next()}))}var la=function(){function t(t,e,n){this.query=t,this.Qs=e,this.Ks=!1,this.Ws=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.qs=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new di(t.query,t.docs,t.Ut,e,t.Qt,t.fromCache,t.Kt,!0)}var o=!1;return this.Ks?this.js(t)&&(this.Qs.next(t),o=!0):this.Gs(t,this.onlineState)&&(this.zs(t),o=!0),this.Ws=t,o},t.prototype.onError=function(t){this.Qs.error(t)},t.prototype.Bs=function(t){this.onlineState=t;var e=!1;return this.Ws&&!this.Ks&&this.Gs(this.Ws,t)&&(this.zs(this.Ws),e=!0),e},t.prototype.Gs=function(t,e){return!t.fromCache||!(this.options.Hs&&"Offline"!==e||t.docs.T()&&"Offline"!==e)},t.prototype.js=function(t){return t.docChanges.length>0||!!(t.Kt||this.Ws&&this.Ws.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.zs=function(t){t=di.jt(t.query,t.docs,t.Qt,t.fromCache),this.Ks=!0,this.Qs.next(t)},t}(),ha=function(){function t(t){this.uid=t}return t.prototype.Js=function(){return null!=this.uid},t.prototype.Ys=function(){return this.Js()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();ha.UNAUTHENTICATED=new ha(null),ha.Xs=new ha("google-credentials-uid"),ha.Zs=new ha("first-party-uid");var fa=function(t,e){this.user=e,this.type="OAuth",this.ti={},this.ti.Authorization="Bearer "+t},da=function(){function t(){this.ei=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.ni=function(){},t.prototype.si=function(t){this.ei=t,t(ha.UNAUTHENTICATED)},t.prototype.ii=function(){this.ei=null},t}(),pa=function(){function t(t){var e=this;this.ri=null,this.currentUser=ha.UNAUTHENTICATED,this.oi=!1,this.ai=0,this.ei=null,this.forceRefresh=!1,this.ri=function(){e.ai++,e.currentUser=e.ci(),e.oi=!0,e.ei&&e.ei(e.currentUser)},this.ai=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.ri):(this.ri(null),t.get().then((function(t){e.auth=t,e.ri&&e.auth.addAuthTokenListener(e.ri)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.ai,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.ai!==e?(lr("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(gr("string"==typeof n.accessToken),new fa(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.ni=function(){this.forceRefresh=!0},t.prototype.si=function(t){this.ei=t,this.oi&&t(this.currentUser)},t.prototype.ii=function(){this.auth&&this.auth.removeAuthTokenListener(this.ri),this.ri=null,this.ei=null},t.prototype.ci=function(){var t=this.auth&&this.auth.getUid();return gr(null===t||"string"==typeof t),new ha(t)},t}(),ga=function(){function t(t,e){this.ui=t,this.hi=e,this.type="FirstParty",this.user=ha.Zs}return Object.defineProperty(t.prototype,"ti",{get:function(){var t={"X-Goog-AuthUser":this.hi},e=this.ui.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),ma=function(){function t(t,e){this.ui=t,this.hi=e}return t.prototype.getToken=function(){return Promise.resolve(new ga(this.ui,this.hi))},t.prototype.si=function(t){t(ha.Zs)},t.prototype.ii=function(){},t.prototype.ni=function(){},t}(),va=function(){function t(t,e,n,r){this.batchId=t,this.li=e,this.baseMutations=n,this.mutations=r}return t.prototype._i=function(t,e,n){for(var r=n.fi,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Fo(o,e,r[i]))}return e},t.prototype.di=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=qo(i,e,e,this.li))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=qo(u,e,o,this.li))}return e},t.prototype.wi=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.di(r.key,t.get(r.key));i&&(n=n.rt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),ui())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&_r(this.mutations,t.mutations,(function(t,e){return Bo(t,e)}))&&_r(this.baseMutations,t.baseMutations,(function(t,e){return Bo(t,e)}))},t}(),ya=function(){function t(t,e,n,r){this.batch=t,this.Ti=e,this.fi=n,this.Ei=r}return t.from=function(e,n,r){gr(e.mutations.length===r.length);for(var i=si,o=e.mutations,s=0;s<o.length;s++)i=i.rt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),ba=function(){function t(){this.Ii=new Or((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.mi=!1}return t.prototype.Ai=function(t){var e=this.Ii.get(t);return e?e.readTime:Ar.min()},t.prototype.Ri=function(t,e){this.Pi(),this.Ii.set(t.key,{gi:t,readTime:e})},t.prototype.Vi=function(t,e){void 0===e&&(e=null),this.Pi(),this.Ii.set(t,{gi:null,readTime:e})},t.prototype.yi=function(t,e){this.Pi();var n=this.Ii.get(e);return void 0!==n?zs.resolve(n.gi):this.pi(t,e)},t.prototype.getEntries=function(t,e){return this.vi(t,e)},t.prototype.apply=function(t){return this.Pi(),this.mi=!0,this.bi(t)},t.prototype.Pi=function(){},t}();function _a(t){return new Bi(t,!0)}function wa(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Ea="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ca=function(){function t(){this.Si=[]}return t.prototype.Di=function(t){this.Si.push(t)},t.prototype.Ci=function(){this.Si.forEach((function(t){return t()}))},t}(),Ta=function(){function t(t,e,n){this.Ni=t,this.xi=e,this.Fi=n}return t.prototype.Oi=function(t,e){var n=this;return this.xi.Mi(t,e).next((function(r){return n.ki(t,e,r)}))},t.prototype.ki=function(t,e,n){return this.Ni.yi(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].di(e,t);return t}))},t.prototype.$i=function(t,e,n){var r=ri();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].di(t,e);r=r.rt(t,e)})),r},t.prototype.Li=function(t,e){var n=this;return this.Ni.getEntries(t,e).next((function(e){return n.Bi(t,e)}))},t.prototype.Bi=function(t,e){var n=this;return this.xi.qi(t,e).next((function(r){var i=n.$i(t,e,r),o=ni();return i.forEach((function(t,e){e||(e=new is(t,Ar.min())),o=o.rt(t,e)})),o}))},t.prototype.Ui=function(t,e,n){return function(t){return Pr.G(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Qi(t,e.path):ds(e)?this.Ki(t,e,n):this.Wi(t,e,n)},t.prototype.Qi=function(t,e){return this.Oi(t,new Pr(e)).next((function(t){var e=oi();return t instanceof rs&&(e=e.rt(t.key,t)),e}))},t.prototype.Ki=function(t,e,n){var r=this,i=e.collectionGroup,o=oi();return this.Fi.ji(t,i).next((function(s){return zs.forEach(s,(function(s){var a=function(t,e){return new ss(e,null,t.rn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.Wi(t,a,n).next((function(t){t.forEach((function(t,e){o=o.rt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Wi=function(t,e,n){var r,i,o=this;return this.Ni.Ui(t,e,n).next((function(n){return r=n,o.xi.Gi(t,e)})).next((function(e){return o.zi(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),h=qo(u,l,l,o.li);r=h instanceof rs?r.rt(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Es(e,n)||(r=r.remove(t))})),r}))},t.prototype.zi=function(t,e,n){for(var r=ui(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof $o&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ni.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof rs&&(c=c.rt(t,e))})),c}))},t}(),Oa=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Hi=n,this.Ji=r}return t.Yi=function(e,n){for(var r=ui(),i=ui(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),xa=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.Xi=function(t){return n.Zi(t)},this.tr=function(t){return e.er(t)})}return t.prototype.Zi=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.tr&&this.tr(t),t},t}();function Ia(t,e){var n=t[1],r=e[1],i=br(t[0],e[0]);return 0===i?br(n,r):i}xa.nr=-1;var Sa=function(){function t(t){this.sr=t,this.buffer=new Jr(Ia),this.ir=0}return t.prototype.rr=function(){return++this.ir},t.prototype.ar=function(t){var e=[t,this.rr()];if(this.buffer.size<this.sr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ia(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Aa={cr:!1,ur:0,hr:0,lr:0},ka=function(){function t(t,e,n){this._r=t,this.dr=e,this.wr=n}return t.Tr=function(e){return new t(e,t.Er,t.Ir)},t}();ka.Er=10,ka.Ir=1e3,ka.mr=new ka(41943040,ka.Er,ka.Ir),ka.Ar=new ka(-1,0,0);var Ra=function(){function t(t,e){this.Rr=t,this.rs=e,this.Pr=!1,this.gr=null}return t.prototype.start=function(t){-1!==this.Rr.params._r&&this.Vr(t)},t.prototype.stop=function(){this.gr&&(this.gr.cancel(),this.gr=null)},Object.defineProperty(t.prototype,"yr",{get:function(){return null!==this.gr},enumerable:!1,configurable:!0}),t.prototype.Vr=function(t){var e=this,n=this.Pr?3e5:6e4;lr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.gr=this.rs.Pn("lru_garbage_collection",n,(function(){return Object(r.b)(e,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:this.gr=null,this.Pr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.pr(this.Rr)];case 2:return n.sent(),[3,7];case 3:return $s(e=n.sent())?(lr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ic(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Vr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Na=function(){function t(t,e){this.vr=t,this.params=e}return t.prototype.br=function(t,e){return this.vr.Sr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Dr=function(t,e){var n=this;if(0===e)return zs.resolve(xa.nr);var r=new Sa(e);return this.vr.De(t,(function(t){return r.ar(t.sequenceNumber)})).next((function(){return n.vr.Cr(t,(function(t){return r.ar(t)}))})).next((function(){return r.maxValue}))},t.prototype.Nr=function(t,e,n){return this.vr.Nr(t,e,n)},t.prototype.Fr=function(t,e){return this.vr.Fr(t,e)},t.prototype.Or=function(t,e){var n=this;return-1===this.params._r?(lr("LruGarbageCollector","Garbage collection skipped; disabled"),zs.resolve(Aa)):this.Mr(t).next((function(r){return r<n.params._r?(lr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params._r),Aa):n.kr(t,e)}))},t.prototype.Mr=function(t){return this.vr.Mr(t)},t.prototype.kr=function(t,e){var n,r,i,s,a,u,c,l=this,h=Date.now();return this.br(t,this.params.dr).next((function(e){return e>l.params.wr?(lr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.wr+" from "+e),r=l.params.wr):r=e,s=Date.now(),l.Dr(t,r)})).next((function(r){return n=r,a=Date.now(),l.Nr(t,n,e)})).next((function(e){return i=e,u=Date.now(),l.Fr(t,n)})).next((function(t){return c=Date.now(),cr()<=o.a.DEBUG&&lr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-s)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),zs.resolve({cr:!0,ur:r,hr:i,lr:t})}))},t}();function ja(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Da(e)),e=Pa(t.get(n),e);return Da(e)}function Pa(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Da(t){return t+"\x01\x01"}function Va(t){var e=t.length;if(gr(e>=2),2===e)return gr("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Rr.$();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&pr(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:pr()}o=s+2}return new Rr(r)}var Ma=function(t){this.$r=t};function La(t,e){if(e.document)return function(t,e,n){var r=to(t,e.name),i=Zi(e.updateTime),o=new Jo({mapValue:{fields:e.fields}});return new rs(r,i,o,{hasCommittedMutations:!!n})}(t.$r,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Pr.H(e.noDocument.path),r=Ba(e.noDocument.readTime);return new is(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Pr.H(e.unknownDocument.path),o=Ba(e.unknownDocument.version);return new os(i,o)}return pr()}function Ua(t,e,n){var r=Fa(n),i=e.key.path.S().O();if(e instanceof rs){var o=function(t,e){return{name:Ji(t,e.key),fields:e.sn().mapValue.fields,updateTime:Wi(t,e.version.P())}}(t.$r,e);return new mu(null,null,o,e.hasCommittedMutations,r,i)}if(e instanceof is){var s=e.key.path.O(),a=za(e.version),u=e.hasCommittedMutations;return new mu(null,new pu(s,a),null,u,r,i)}if(e instanceof os){var c=e.key.path.O(),l=za(e.version);return new mu(new gu(c,l),null,null,!0,r,i)}return pr()}function Fa(t){var e=t.P();return[e.seconds,e.nanoseconds]}function qa(t){var e=new Sr(t[0],t[1]);return Ar.m(e)}function za(t){var e=t.P();return new cu(e.seconds,e.nanoseconds)}function Ba(t){var e=new Sr(t.seconds,t.nanoseconds);return Ar.m(e)}function Ha(t,e){var n=(e.baseMutations||[]).map((function(e){return ao(t.$r,e)})),r=e.mutations.map((function(e){return ao(t.$r,e)})),i=Sr.fromMillis(e.localWriteTimeMs);return new va(e.batchId,i,n,r)}function Ga(t){var e,n,r=Ba(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Ba(t.lastLimboFreeSnapshotVersion):Ar.min();return void 0!==t.query.documents?(gr(1===(n=t.query).documents.length),e=gs(us(no(n.documents[0])))):e=function(t){return gs(lo(t))}(t.query),new $r(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Br.fromBase64String(t.resumeToken))}function $a(t,e){var n,r=za(e.et),i=za(e.lastLimboFreeSnapshotVersion);n=zr(e.target)?uo(t.$r,e.target):co(t.$r,e.target);var o=e.resumeToken.toBase64();return new yu(e.targetId,Fr(e.target),r,o,e.sequenceNumber,i,n)}function Wa(t){var e=lo({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ms(e,e.limit,"L"):e}var Ka=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Fi=n,this.Lr=r,this.Br={}}return t.qr=function(e,n,r,i){return gr(""!==e.uid),new t(e.Js()?e.uid:"",n,r,i)},t.prototype.Ur=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ya(t).ns({index:fu.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Qr=function(t,e,n,r){var i=this,o=Xa(t),s=Ya(t);return s.add({}).next((function(a){gr("number"==typeof a);for(var u=new va(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return so(t.$r,e)})),i=n.mutations.map((function(e){return so(t.$r,e)}));return new fu(e,n.batchId,n.li.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new Jr((function(t,e){return br(t.M(),e.M())})),f=0,d=r;f<d.length;f++){var p=d[f],g=du.key(i.userId,p.key.path,a);h=h.add(p.key.path.S()),l.push(s.put(c)),l.push(o.put(g,du.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Fi.Kr(t,e))})),t.Di((function(){i.Br[a]=u.keys()})),zs.xn(l).next((function(){return u}))}))},t.prototype.Wr=function(t,e){var n=this;return Ya(t).get(e).next((function(t){return t?(gr(t.userId===n.userId),Ha(n.serializer,t)):null}))},t.prototype.jr=function(t,e){var n=this;return this.Br[e]?zs.resolve(this.Br[e]):this.Wr(t,e).next((function(t){if(t){var r=t.keys();return n.Br[e]=r,r}return null}))},t.prototype.Gr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ya(t).ns({index:fu.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(gr(e.batchId>=r),o=Ha(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.zr=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ya(t).ns({index:fu.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Hr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ya(t).Xn(fu.userMutationsIndex,n).next((function(t){return t.map((function(t){return Ha(e.serializer,t)}))}))},t.prototype.Mi=function(t,e){var n=this,r=du.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Xa(t).ns({range:i},(function(r,i,s){var a=r[0],u=r[2],c=Va(r[1]);if(a===n.userId&&e.path.isEqual(c))return Ya(t).get(u).next((function(t){if(!t)throw pr();gr(t.userId===n.userId),o.push(Ha(n.serializer,t))}));s.done()})).next((function(){return o}))},t.prototype.qi=function(t,e){var n=this,r=new Jr(br),i=[];return e.forEach((function(e){var o=du.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Xa(t).ns({range:s},(function(t,i,o){var s=t[0],a=t[2],u=Va(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),zs.xn(i).next((function(){return n.Jr(t,r)}))},t.prototype.Gi=function(t,e){var n=this,r=e.path,i=r.length+1,o=du.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Jr(br);return Xa(t).ns({range:s},(function(t,e,o){var s=t[0],u=t[2],c=Va(t[1]);s===n.userId&&r.N(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.Jr(t,a)}))},t.prototype.Jr=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Ya(t).get(e).next((function(t){if(null===t)throw pr();gr(t.userId===n.userId),r.push(Ha(n.serializer,t))})))})),zs.xn(i).next((function(){return r}))},t.prototype.Yr=function(t,e){var n=this;return Za(t.Xr,this.userId,e).next((function(r){return t.Di((function(){n.Zr(e.batchId)})),zs.forEach(r,(function(e){return n.Lr.eo(t,e)}))}))},t.prototype.Zr=function(t){delete this.Br[t]},t.prototype.no=function(t){var e=this;return this.Ur(t).next((function(n){if(!n)return zs.resolve();var r=IDBKeyRange.lowerBound(du.prefixForUser(e.userId)),i=[];return Xa(t).ns({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Va(t[1]);i.push(o)}else r.done()})).next((function(){gr(0===i.length)}))}))},t.prototype.so=function(t,e){return Qa(t,this.userId,e)},t.prototype.io=function(t){var e=this;return Ja(t).get(this.userId).next((function(t){return t||new hu(e.userId,-1,"")}))},t}();function Qa(t,e,n){var r=du.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Xa(t).ns({range:o,es:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function Za(t,e,n){var r=t.store(fu.store),i=t.store(du.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.ns({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){gr(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=du.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return zs.xn(o).next((function(){return c}))}function Ya(t){return Uu.qn(t,fu.store)}function Xa(t){return Uu.qn(t,du.store)}function Ja(t){return Uu.qn(t,hu.store)}var tu=function(){function t(t,e){this.serializer=t,this.Fi=e}return t.prototype.Ri=function(t,e,n){return ru(t).put(iu(e),n)},t.prototype.Vi=function(t,e){var n=ru(t),r=iu(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.ro(t,r)}))},t.prototype.yi=function(t,e){var n=this;return ru(t).get(iu(e)).next((function(t){return n.oo(t)}))},t.prototype.ao=function(t,e){var n=this;return ru(t).get(iu(e)).next((function(t){var e=n.oo(t);return e?{gi:e,size:ou(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=ri();return this.co(t,e,(function(t,e){var i=n.oo(e);r=r.rt(t,i)})).next((function(){return r}))},t.prototype.uo=function(t,e){var n=this,r=ri(),i=new Zr(Pr.V);return this.co(t,e,(function(t,e){var o=n.oo(e);o?(r=r.rt(t,o),i=i.rt(t,ou(e))):(r=r.rt(t,null),i=i.rt(t,0))})).next((function(){return{ho:r,lo:i}}))},t.prototype.co=function(t,e,n){if(e.T())return zs.resolve();var r=IDBKeyRange.bound(e.first().path.O(),e.last().path.O()),i=e.lt(),o=i.Et();return ru(t).ns({range:r},(function(t,e,r){for(var s=Pr.H(t);o&&Pr.V(o,s)<0;)n(o,null),o=i.Et();o&&o.isEqual(s)&&(n(o,e),o=i.It()?i.Et():null),o?r.Jn(o.path.O()):r.done()})).next((function(){for(;o;)n(o,null),o=i.It()?i.Et():null}))},t.prototype.Ui=function(t,e,n){var r=this,i=oi(),o=e.path.length+1,s={};if(n.isEqual(Ar.min())){var a=e.path.O();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.O(),c=Fa(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=mu.collectionReadTimeIndex}return ru(t).ns(s,(function(t,n,s){if(t.length===o){var a=La(r.serializer,n);e.path.N(a.key.path)?a instanceof rs&&Es(e,a)&&(i=i.rt(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype._o=function(t){return new eu(this,!!t&&t.fo)},t.prototype.wo=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return nu(t).get(vu.key).next((function(t){return gr(!!t),t}))},t.prototype.ro=function(t,e){return nu(t).put(vu.key,e)},t.prototype.oo=function(t){if(t){var e=La(this.serializer,t);return e instanceof is&&e.version.isEqual(Ar.min())?null:e}return null},t}(),eu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).To=e,r.fo=n,r.Eo=new Or((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(r.c)(e,t),e.prototype.bi=function(t){var e=this,n=[],r=0,i=new Jr((function(t,e){return br(t.M(),e.M())}));return this.Ii.forEach((function(o,s){var a=e.Eo.get(o);if(s.gi){var u=Ua(e.To.serializer,s.gi,e.Ai(o));i=i.add(o.path.S());var c=ou(u);r+=c-a,n.push(e.To.Ri(t,o,u))}else if(r-=a,e.fo){var l=Ua(e.To.serializer,new is(o,Ar.min()),e.Ai(o));n.push(e.To.Ri(t,o,l))}else n.push(e.To.Vi(t,o))})),i.forEach((function(r){n.push(e.To.Fi.Kr(t,r))})),n.push(this.To.updateMetadata(t,r)),zs.xn(n)},e.prototype.pi=function(t,e){var n=this;return this.To.ao(t,e).next((function(t){return null===t?(n.Eo.set(e,0),null):(n.Eo.set(e,t.size),t.gi)}))},e.prototype.vi=function(t,e){var n=this;return this.To.uo(t,e).next((function(t){var e=t.ho;return t.lo.forEach((function(t,e){n.Eo.set(t,e)})),e}))},e}(ba);function nu(t){return Uu.qn(t,vu.store)}function ru(t){return Uu.qn(t,mu.store)}function iu(t){return t.path.O()}function ou(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw pr();e=t.noDocument}return JSON.stringify(e).length}var su=function(){function t(){this.Io=new au}return t.prototype.Kr=function(t,e){return this.Io.add(e),zs.resolve()},t.prototype.ji=function(t,e){return zs.resolve(this.Io.getEntries(e))},t}(),au=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.C(),n=t.S(),r=this.index[e]||new Jr(Rr.V),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.C(),n=t.S(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Jr(Rr.V)).O()},t}(),uu=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;gr(n<r&&n>=0&&r<=11);var o=new Ws("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(lu.store)}(t),function(t){t.createObjectStore(hu.store,{keyPath:hu.keyPath}),t.createObjectStore(fu.store,{keyPath:fu.keyPath,autoIncrement:!0}).createIndex(fu.userMutationsIndex,fu.userMutationsKeyPath,{unique:!0}),t.createObjectStore(du.store)}(t),Eu(t),function(t){t.createObjectStore(mu.store)}(t));var s=zs.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(bu.store),t.deleteObjectStore(yu.store),t.deleteObjectStore(_u.store)}(t),Eu(t)),s=s.next((function(){return function(t){var e=t.store(_u.store),n=new _u(0,0,Ar.min().P(),0);return e.put(_u.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(fu.store).Xn().next((function(n){t.deleteObjectStore(fu.store),t.createObjectStore(fu.store,{keyPath:fu.keyPath,autoIncrement:!0}).createIndex(fu.userMutationsIndex,fu.userMutationsKeyPath,{unique:!0});var r=e.store(fu.store),i=n.map((function(t){return r.put(t)}));return zs.xn(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Cu.store,{keyPath:Cu.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(vu.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(mu.store);e.createIndex(mu.readTimeIndex,mu.readTimeIndexPath,{unique:!1}),e.createIndex(mu.collectionReadTimeIndex,mu.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(Tu.store,{keyPath:Tu.keyPath})}(t),function(t){t.createObjectStore(Ou.store,{keyPath:Ou.keyPath})}(t)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(mu.store).ns((function(t,n){e+=ou(n)})).next((function(){var n=new vu(e);return t.store(vu.store).put(vu.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(hu.store),r=t.store(fu.store);return n.Xn().next((function(n){return zs.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Xn(fu.userMutationsIndex,i).next((function(r){return zs.forEach(r,(function(r){gr(r.userId===n.userId);var i=Ha(e.serializer,r);return Za(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(bu.store),n=t.store(mu.store);return t.store(_u.store).get(_u.key).next((function(t){var r=[];return n.ns((function(n,i){var o=new Rr(n),s=function(t){return[0,ja(t)]}(o);r.push(e.get(s).next((function(n){return n?zs.resolve():function(n){return e.put(new bu(0,ja(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return zs.xn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(wu.store,{keyPath:wu.keyPath});var n=e.store(wu.store),r=new au,i=function(t){if(r.add(t)){var e=t.C(),i=t.S();return n.put({collectionId:e,parent:ja(i)})}};return e.store(mu.store).ns({es:!0},(function(t,e){var n=new Rr(t);return i(n.S())})).next((function(){return e.store(du.store).ns({es:!0},(function(t,e){var n=Va(t[1]);return i(n.S())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(yu.store);return n.ns((function(t,r){var i=Ga(r),o=$a(e.serializer,i);return n.put(o)}))},t}(),cu=function(t,e){this.seconds=t,this.nanoseconds=e},lu=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};lu.store="owner",lu.key="owner";var hu=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};hu.store="mutationQueues",hu.keyPath="userId";var fu=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};fu.store="mutations",fu.keyPath="batchId",fu.userMutationsIndex="userMutationsIndex",fu.userMutationsKeyPath=["userId","batchId"];var du=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ja(e)]},t.key=function(t,e,n){return[t,ja(e),n]},t}();du.store="documentMutations",du.PLACEHOLDER=new du;var pu=function(t,e){this.path=t,this.readTime=e},gu=function(t,e){this.path=t,this.version=e},mu=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};mu.store="remoteDocuments",mu.readTimeIndex="readTimeIndex",mu.readTimeIndexPath="readTime",mu.collectionReadTimeIndex="collectionReadTimeIndex",mu.collectionReadTimeIndexPath=["parentPath","readTime"];var vu=function(t){this.byteSize=t};vu.store="remoteDocumentGlobal",vu.key="remoteDocumentGlobalKey";var yu=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};yu.store="targets",yu.keyPath="targetId",yu.queryTargetsIndexName="queryTargetsIndex",yu.queryTargetsKeyPath=["canonicalId","targetId"];var bu=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};bu.store="targetDocuments",bu.keyPath=["targetId","path"],bu.documentTargetsIndex="documentTargetsIndex",bu.documentTargetsKeyPath=["path","targetId"];var _u=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};_u.key="targetGlobalKey",_u.store="targetGlobal";var wu=function(t,e){this.collectionId=t,this.parent=e};function Eu(t){t.createObjectStore(bu.store,{keyPath:bu.keyPath}).createIndex(bu.documentTargetsIndex,bu.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(yu.store,{keyPath:yu.keyPath}).createIndex(yu.queryTargetsIndexName,yu.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(_u.store)}wu.store="collectionParents",wu.keyPath=["collectionId","parent"];var Cu=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Cu.store="clientMetadata",Cu.keyPath="clientId";var Tu=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Tu.store="bundles",Tu.keyPath="bundleId";var Ou=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Ou.store="namedQueries",Ou.keyPath="name";var xu=Object(r.g)(Object(r.g)(Object(r.g)(Object(r.g)([hu.store,fu.store,du.store,mu.store,yu.store,lu.store,_u.store,bu.store],[Cu.store]),[vu.store]),[wu.store]),[Tu.store,Ou.store]),Iu=function(){function t(t){this.serializer=t}return t.prototype.mo=function(t,e){return Su(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Ba(e.createTime),version:e.version};var e}))},t.prototype.Ao=function(t,e){return Su(t).put({bundleId:(n=e).id,createTime:za(Zi(n.createTime)),version:n.version});var n},t.prototype.Ro=function(t,e){return Au(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Wa(e.bundledQuery),readTime:Ba(e.readTime)};var e}))},t.prototype.Po=function(t,e){return Au(t).put(function(t){return{name:t.name,readTime:za(Zi(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Su(t){return Uu.qn(t,Tu.store)}function Au(t){return Uu.qn(t,Ou.store)}var ku=function(){function t(){this.Vo=new au}return t.prototype.Kr=function(t,e){var n=this;if(!this.Vo.has(e)){var r=e.C(),i=e.S();t.Di((function(){n.Vo.add(e)}));var o={collectionId:r,parent:ja(i)};return Ru(t).put(o)}return zs.resolve()},t.prototype.ji=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[wr(e),""],!1,!0);return Ru(t).Xn(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Va(o.parent))}return n}))},t}();function Ru(t){return Uu.qn(t,wu.store)}var Nu=function(){function t(t){this.yo=t}return t.prototype.next=function(){return this.yo+=2,this.yo},t.po=function(){return new t(0)},t.vo=function(){return new t(-1)},t}(),ju=function(){function t(t,e){this.Lr=t,this.serializer=e}return t.prototype.bo=function(t){var e=this;return this.So(t).next((function(n){var r=new Nu(n.highestTargetId);return n.highestTargetId=r.next(),e.Do(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Co=function(t){return this.So(t).next((function(t){return Ar.m(new Sr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.No=function(t){return this.So(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.xo=function(t,e,n){var r=this;return this.So(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.P()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Do(t,i)}))},t.prototype.Fo=function(t,e){var n=this;return this.Oo(t,e).next((function(){return n.So(t).next((function(r){return r.targetCount+=1,n.Mo(e,r),n.Do(t,r)}))}))},t.prototype.ko=function(t,e){return this.Oo(t,e)},t.prototype.$o=function(t,e){var n=this;return this.Lo(t,e.targetId).next((function(){return Pu(t).delete(e.targetId)})).next((function(){return n.So(t)})).next((function(e){return gr(e.targetCount>0),e.targetCount-=1,n.Do(t,e)}))},t.prototype.Nr=function(t,e,n){var r=this,i=0,o=[];return Pu(t).ns((function(s,a){var u=Ga(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.$o(t,u)))})).next((function(){return zs.xn(o)})).next((function(){return i}))},t.prototype.De=function(t,e){return Pu(t).ns((function(t,n){var r=Ga(n);e(r)}))},t.prototype.So=function(t){return Du(t).get(_u.key).next((function(t){return gr(null!==t),t}))},t.prototype.Do=function(t,e){return Du(t).put(_u.key,e)},t.prototype.Oo=function(t,e){return Pu(t).put($a(this.serializer,e))},t.prototype.Mo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Bo=function(t){return this.So(t).next((function(t){return t.targetCount}))},t.prototype.qo=function(t,e){var n=Fr(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Pu(t).ns({range:r,index:yu.queryTargetsIndexName},(function(t,n,r){var o=Ga(n);qr(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.Uo=function(t,e,n){var r=this,i=[],o=Vu(t);return e.forEach((function(e){var s=ja(e.path);i.push(o.put(new bu(n,s))),i.push(r.Lr.Qo(t,n,e))})),zs.xn(i)},t.prototype.Ko=function(t,e,n){var r=this,i=Vu(t);return zs.forEach(e,(function(e){var o=ja(e.path);return zs.xn([i.delete([n,o]),r.Lr.Wo(t,n,e)])}))},t.prototype.Lo=function(t,e){var n=Vu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.jo=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Vu(t),i=ui();return r.ns({range:n,es:!0},(function(t,e,n){var r=Va(t[1]),o=new Pr(r);i=i.add(o)})).next((function(){return i}))},t.prototype.so=function(t,e){var n=ja(e.path),r=IDBKeyRange.bound([n],[wr(n)],!1,!0),i=0;return Vu(t).ns({index:bu.documentTargetsIndex,es:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.qe=function(t,e){return Pu(t).get(e).next((function(t){return t?Ga(t):null}))},t}();function Pu(t){return Uu.qn(t,yu.store)}function Du(t){return Uu.qn(t,_u.store)}function Vu(t){return Uu.qn(t,bu.store)}var Mu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Lu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xr=e,r.Go=n,r}return Object(r.c)(e,t),e}(Ca),Uu=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ln=o,this.window=s,this.document=a,this.zo=c,this.Ho=l,this.Jo=null,this.Yo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Xo=null,this.inForeground=!1,this.Zo=null,this.ta=null,this.ea=Number.NEGATIVE_INFINITY,this.na=function(t){return Promise.resolve()},!t.kn())throw new Ir(xr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Lr=new zu(this,i),this.sa=n+"main",this.serializer=new Ma(u),this.ia=new Bs(this.sa,11,new uu(this.serializer)),this.ra=new ju(this.Lr,this.serializer),this.Fi=new ku,this.Ni=function(t,e){return new tu(t,e)}(this.serializer,this.Fi),this.oa=new Iu(this.serializer),this.window&&this.window.localStorage?this.aa=this.window.localStorage:(this.aa=null,!1===l&&hr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.qn=function(t,e){if(t instanceof Lu)return Bs.qn(t.Xr,e);throw pr()},t.prototype.start=function(){var t=this;return this.ca().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Ir(xr.FAILED_PRECONDITION,Mu);return t.ua(),t.ha(),t.la(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.ra.No(e)}))})).then((function(e){t.Jo=new xa(e,t.zo)})).then((function(){t.Yo=!0})).catch((function(e){return t.ia&&t.ia.close(),Promise.reject(e)}))},t.prototype._a=function(t){var e=this;return this.na=function(n){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return this.yr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.fa=function(t){var e=this;this.ia.Kn((function(n){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.da=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ln.fs((function(){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return this.yr?[4,this.ca()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.ca=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return qu(e).put(new Cu(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.wa(e).next((function(e){e||(t.isPrimary=!1,t.ln.Ss((function(){return t.na(!1)})))}))})).next((function(){return t.Ta(e)})).next((function(n){return t.isPrimary&&!n?t.Ea(e).next((function(){return!1})):!!n&&t.Ia(e).next((function(){return!0}))}))})).catch((function(e){if($s(e))return lr("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return lr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.ln.Ss((function(){return t.na(e)})),t.isPrimary=e}))},t.prototype.wa=function(t){var e=this;return Fu(t).get(lu.key).next((function(t){return zs.resolve(e.ma(t))}))},t.prototype.Aa=function(t){return qu(t).delete(this.clientId)},t.prototype.Ra=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,n,i,o=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.Pa(this.ea,18e5)?[3,2]:(this.ea=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.qn(e,Cu.store);return n.Xn().next((function(t){var e=o.ga(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return zs.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=r.sent(),this.aa)for(n=0,i=e;n<i.length;n++)this.aa.removeItem(this.Va(i[n].clientId));r.label=2;case 2:return[2]}}))}))},t.prototype.la=function(){var t=this;this.ta=this.ln.Pn("client_metadata_refresh",4e3,(function(){return t.ca().then((function(){return t.Ra()})).then((function(){return t.la()}))}))},t.prototype.ma=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ta=function(t){var e=this;return this.Ho?zs.resolve(!0):Fu(t).get(lu.key).next((function(n){if(null!==n&&e.Pa(n.leaseTimestampMs,5e3)&&!e.ya(n.ownerId)){if(e.ma(n)&&e.networkEnabled)return!0;if(!e.ma(n)){if(!n.allowTabSynchronization)throw new Ir(xr.FAILED_PRECONDITION,Mu);return!1}}return!(!e.networkEnabled||!e.inForeground)||qu(t).Xn().next((function(t){return void 0===e.ga(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&lr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.pa=function(){return Object(r.b)(this,void 0,void 0,(function(){var t=this;return Object(r.d)(this,(function(e){switch(e.label){case 0:return this.Yo=!1,this.va(),this.ta&&(this.ta.cancel(),this.ta=null),this.ba(),this.Sa(),[4,this.ia.runTransaction("shutdown","readwrite",[lu.store,Cu.store],(function(e){var n=new Lu(e,xa.nr);return t.Ea(n).next((function(){return t.Aa(n)}))}))];case 1:return e.sent(),this.ia.close(),this.Da(),[2]}}))}))},t.prototype.ga=function(t,e){var n=this;return t.filter((function(t){return n.Pa(t.updateTimeMs,e)&&!n.ya(t.clientId)}))},t.prototype.Ca=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return qu(e).Xn().next((function(e){return t.ga(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"yr",{get:function(){return this.Yo},enumerable:!1,configurable:!0}),t.prototype.Na=function(t){return Ka.qr(t,this.serializer,this.Fi,this.Lr)},t.prototype.xa=function(){return this.ra},t.prototype.Fa=function(){return this.Ni},t.prototype.Oa=function(){return this.Fi},t.prototype.Ma=function(){return this.oa},t.prototype.runTransaction=function(t,e,n){var r,i=this;return lr("IndexedDbPersistence","Starting transaction:",t),this.ia.runTransaction(t,"readonly"===e?"readonly":"readwrite",xu,(function(o){return r=new Lu(o,i.Jo?i.Jo.next():xa.nr),"readwrite-primary"===e?i.wa(r).next((function(t){return!!t||i.Ta(r)})).next((function(e){if(!e)throw hr("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.ln.Ss((function(){return i.na(!1)})),new Ir(xr.FAILED_PRECONDITION,Ea);return n(r)})).next((function(t){return i.Ia(r).next((function(){return t}))})):i.ka(r).next((function(){return n(r)}))})).then((function(t){return r.Ci(),t}))},t.prototype.ka=function(t){var e=this;return Fu(t).get(lu.key).next((function(t){if(null!==t&&e.Pa(t.leaseTimestampMs,5e3)&&!e.ya(t.ownerId)&&!e.ma(t)&&!(e.Ho||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Ir(xr.FAILED_PRECONDITION,Mu)}))},t.prototype.Ia=function(t){var e=new lu(this.clientId,this.allowTabSynchronization,Date.now());return Fu(t).put(lu.key,e)},t.kn=function(){return Bs.kn()},t.prototype.Ea=function(t){var e=this,n=Fu(t);return n.get(lu.key).next((function(t){return e.ma(t)?(lr("IndexedDbPersistence","Releasing primary lease."),n.delete(lu.key)):zs.resolve()}))},t.prototype.Pa=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(hr("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.ua=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Zo=function(){t.ln.fs((function(){return t.inForeground="visible"===t.document.visibilityState,t.ca()}))},this.document.addEventListener("visibilitychange",this.Zo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.ba=function(){this.Zo&&(this.document.removeEventListener("visibilitychange",this.Zo),this.Zo=null)},t.prototype.ha=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Xo=function(){e.va(),e.ln.fs((function(){return e.pa()}))},this.window.addEventListener("unload",this.Xo))},t.prototype.Sa=function(){this.Xo&&(this.window.removeEventListener("unload",this.Xo),this.Xo=null)},t.prototype.ya=function(t){var e;try{var n=null!==(null===(e=this.aa)||void 0===e?void 0:e.getItem(this.Va(t)));return lr("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return hr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.va=function(){if(this.aa)try{this.aa.setItem(this.Va(this.clientId),String(Date.now()))}catch(t){hr("Failed to set zombie client id.",t)}},t.prototype.Da=function(){if(this.aa)try{this.aa.removeItem(this.Va(this.clientId))}catch(t){}},t.prototype.Va=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Fu(t){return Uu.qn(t,lu.store)}function qu(t){return Uu.qn(t,Cu.store)}var zu=function(){function t(t,e){this.db=t,this.Rr=new Na(this,e)}return t.prototype.Sr=function(t){var e=this.$a(t);return this.db.xa().Bo(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.$a=function(t){var e=0;return this.Cr(t,(function(t){e++})).next((function(){return e}))},t.prototype.De=function(t,e){return this.db.xa().De(t,e)},t.prototype.Cr=function(t,e){return this.La(t,(function(t,n){return e(n)}))},t.prototype.Qo=function(t,e,n){return Bu(t,n)},t.prototype.Wo=function(t,e,n){return Bu(t,n)},t.prototype.Nr=function(t,e,n){return this.db.xa().Nr(t,e,n)},t.prototype.eo=function(t,e){return Bu(t,e)},t.prototype.Ba=function(t,e){return function(t,e){var n=!1;return Ja(t).ss((function(r){return Qa(t,r,e).next((function(t){return t&&(n=!0),zs.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Fr=function(t,e){var n=this,r=this.db.Fa()._o(),i=[],o=0;return this.La(t,(function(s,a){if(a<=e){var u=n.Ba(t,s).next((function(e){if(!e)return o++,r.yi(t,s).next((function(){return r.Vi(s),Vu(t).delete([0,ja(s.path)])}))}));i.push(u)}})).next((function(){return zs.xn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.nt(t.Go);return this.db.xa().ko(t,n)},t.prototype.qa=function(t,e){return Bu(t,e)},t.prototype.La=function(t,e){var n,r=Vu(t),i=xa.nr;return r.ns({index:bu.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==xa.nr&&e(new Pr(Va(n)),i),i=s,n=o):i=xa.nr})).next((function(){i!==xa.nr&&e(new Pr(Va(n)),i)}))},t.prototype.Mr=function(t){return this.db.Fa().wo(t)},t}();function Bu(t,e){return Vu(t).put(function(t,e){return new bu(0,ja(t.path),e)}(e,t.Go))}function Hu(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Gu=function(){function t(t,e,n,r){this.persistence=t,this.Ua=e,this.serializer=r,this.Qa=new Zr(br),this.Ka=new Or((function(t){return Fr(t)}),qr),this.Wa=Ar.min(),this.xi=t.Na(n),this.ja=t.Fa(),this.ra=t.xa(),this.Ga=new Ta(this.ja,this.xi,this.persistence.Oa()),this.oa=t.Ma(),this.Ua.za(this.Ga)}return t.prototype.pr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Or(n,e.Qa)}))},t}();function $u(t,e,n,r){return new Gu(t,e,n,r)}function Wu(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=mr(t),i=n.xi,o=n.Ga,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var r;return n.xi.Hr(t).next((function(s){return r=s,i=n.persistence.Na(e),o=new Ta(n.ja,i,n.persistence.Oa()),i.Hr(t)})).next((function(e){for(var n=[],i=[],s=ui(),a=0,u=r;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];i.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return o.Li(t,s).next((function(t){return{Ha:t,Ja:n,Ya:i}}))}))}))];case 1:return s=r.sent(),[2,(n.xi=i,n.Ga=o,n.Ua.za(n.Ga),s)]}}))}))}function Ku(t,e){var n=mr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.ja._o({fo:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=zs.resolve();return o.forEach((function(t){s=s.next((function(){return r.yi(e,t)})).next((function(e){var o=e,s=n.Ei.get(t);gr(null!==s),(!o||o.version.A(s)<0)&&(o=i._i(t,o,n))&&r.Ri(o,n.Ti)}))})),s.next((function(){return t.xi.Yr(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.xi.no(t)})).next((function(){return n.Ga.Li(t,r)}))}))}function Qu(t){var e=mr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.ra.Co(t)}))}function Zu(t,e){var n=mr(t),r=e.et,i=n.Qa;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.ja._o({fo:!0});i=n.Qa;var s=[];e.Gt.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.ra.Ko(t,e.ne,o).next((function(){return n.ra.Uo(t,e.te,o)})));var u=e.resumeToken;if(u.X()>0){var c=a.st(u,r).nt(t.Go);i=i.rt(o,c),function(t,e,n){return gr(e.resumeToken.X()>0),0===t.resumeToken.X()||e.et.R()-t.et.R()>=3e8||n.te.size+n.ee.size+n.ne.size>0}(a,c,e)&&s.push(n.ra.ko(t,c))}}}));var a=ni();if(e.Ht.forEach((function(r,i){e.Jt.has(r)&&s.push(n.persistence.Lr.qa(t,r))})),s.push(function(t,e,n,r,i){var o=ui();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var i=ni();return n.forEach((function(n,o){var s=t.get(n),a=r;o instanceof is&&o.version.isEqual(Ar.min())?(e.Vi(n,a),i=i.rt(n,o)):null==s||o.version.A(s.version)>0||0===o.version.A(s.version)&&s.hasPendingWrites?(e.Ri(o,a),i=i.rt(n,o)):lr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),i}))}(t,o,e.Ht,r).next((function(t){a=t}))),!r.isEqual(Ar.min())){var u=n.ra.Co(t).next((function(e){return n.ra.xo(t,t.Go,r)}));s.push(u)}return zs.xn(s).next((function(){return o.apply(t)})).next((function(){return n.Ga.Bi(t,a)}))})).then((function(t){return n.Qa=i,t}))}function Yu(t,e){var n=mr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.xi.Gr(t,e)}))}function Xu(t,e){var n=mr(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.ra.qo(t,e).next((function(i){return i?zs.resolve(r=i):n.ra.bo(t).next((function(i){return r=new $r(e,i,0,t.Go),n.ra.Fo(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Qa.get(t.targetId);return(null===r||t.et.A(r.et)>0)&&(n.Qa=n.Qa.rt(t.targetId,t),n.Ka.set(e,t.targetId)),t}))}function Ju(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:i=mr(t),o=i.Qa.get(e),s=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",s,(function(t){return i.persistence.Lr.removeTarget(t,o)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!$s(a=r.sent()))throw a;return lr("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return i.Qa=i.Qa.remove(e),i.Ka.delete(o.target),[2]}}))}))}function tc(t,e,n){var r=mr(t),i=Ar.min(),o=ui();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=mr(t),i=r.Ka.get(n);return void 0!==i?zs.resolve(r.Qa.get(i)):r.ra.qo(e,n)}(r,t,gs(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.ra.jo(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Ua.Ui(t,e,n?i:Ar.min(),n?o:ui())})).next((function(t){return{documents:t,Xa:o}}))}))}function ec(t,e){var n=mr(t),r=mr(n.ra),i=n.Qa.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.qe(t,e).next((function(t){return t?t.target:null}))}))}function nc(t){var e=mr(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=mr(t),i=ni(),o=Fa(n),s=ru(e),a=IDBKeyRange.lowerBound(o,!0);return s.ns({index:mu.readTimeIndex,range:a},(function(t,e){var n=La(r.serializer,e);i=i.rt(n.key,n),o=e.readTime})).next((function(){return{Za:i,readTime:qa(o)}}))}(e.ja,t,e.Wa)})).then((function(t){var n=t.Za;return e.Wa=t.readTime,n}))}function rc(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){return[2,(e=mr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=ru(t),n=Ar.min();return e.ns({index:mu.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=qa(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Wa=t}))]}))}))}function ic(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){if(t.code!==xr.FAILED_PRECONDITION||t.message!==Ea)throw t;return lr("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var oc=function(){function t(t,e,n,r,i,o){this.ln=t,this.tc=n,this.ec=r,this.nc=i,this.listener=o,this.state=0,this.sc=0,this.ic=null,this.stream=null,this.Ps=new qs(t,e)}return t.prototype.rc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.oc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.ac()},t.prototype.stop=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return this.rc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.cc=function(){this.state=0,this.Ps.reset()},t.prototype.uc=function(){var t=this;this.oc()&&null===this.ic&&(this.ic=this.ln.Pn(this.tc,6e4,(function(){return t.hc()})))},t.prototype.lc=function(t){this._c(),this.stream.send(t)},t.prototype.hc=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){return this.oc()?[2,this.close(0)]:[2]}))}))},t.prototype._c=function(){this.ic&&(this.ic.cancel(),this.ic=null)},t.prototype.close=function(t,e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:return this._c(),this.Ps.cancel(),this.sc++,3!==t?this.Ps.reset():e&&e.code===xr.RESOURCE_EXHAUSTED?(hr(e.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.Ps.mn()):e&&e.code===xr.UNAUTHENTICATED&&this.nc.ni(),null!==this.stream&&(this.fc(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.dc(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.fc=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.wc(this.sc),n=this.sc;this.nc.getToken().then((function(e){t.sc===n&&t.Tc(e)}),(function(n){e((function(){var e=new Ir(xr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Ec(e)}))}))},t.prototype.Tc=function(t){var e=this,n=this.wc(this.sc);this.stream=this.Ic(t),this.stream.mc((function(){n((function(){return e.state=2,e.listener.mc()}))})),this.stream.dc((function(t){n((function(){return e.Ec(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.ac=function(){var t=this;this.state=4,this.Ps.An((function(){return Object(r.b)(t,void 0,void 0,(function(){return Object(r.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Ec=function(t){return lr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.wc=function(t){var e=this;return function(n){e.ln.fs((function(){return e.sc===t?n():(lr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),sc=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return Object(r.c)(e,t),e.prototype.Ic=function(t){return this.ec.Ac("Listen",t)},e.prototype.onMessage=function(t){this.Ps.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:pr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Ue?(gr(void 0===e||"string"==typeof e),Br.fromBase64String(e||"")):(gr(void 0===e||e instanceof Uint8Array),Br.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){var e=void 0===t.code?xr.UNKNOWN:Qr(t.code);return new Ir(e,t.message||"")}(s);n=new yi(r,i,o,a||null)}else if("documentChange"in e){var u=e.documentChange,c=to(t,u.document.name),l=Zi(u.document.updateTime),h=new Jo({mapValue:{fields:u.document.fields}}),f=new rs(c,l,h,{});n=new mi(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var d=e.documentDelete,p=to(t,d.document),g=d.readTime?Zi(d.readTime):Ar.min(),m=new is(p,g);n=new mi([],d.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){var v=e.documentRemove,y=to(t,v.document);n=new mi([],v.removedTargetIds||[],y,null)}else{if(!("filter"in e))return pr();var b=e.filter,_=new Wr(b.count||0);n=new vi(b.targetId,_)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Ar.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Ar.min():e.readTime?Zi(e.readTime):Ar.min()}(t);return this.listener.Rc(e,n)},e.prototype.Pc=function(t){var e={};e.database=ro(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=zr(r)?{documents:uo(t,r)}:{query:co(t,r)}).targetId=e.targetId,e.resumeToken.X()>0?n.resumeToken=Ki(t,e.resumeToken):e.et.A(Ar.min())>0&&(n.readTime=Wi(t,e.et.P())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pr()}}(0,e.tt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.lc(e)},e.prototype.gc=function(t){var e={};e.database=ro(this.serializer),e.removeTarget=t,this.lc(e)},e}(oc),ac=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.Vc=!1,s}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"yc",{get:function(){return this.Vc},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Vc=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.fc=function(){this.Vc&&this.vc([])},e.prototype.Ic=function(t){return this.ec.Ac("Write",t)},e.prototype.onMessage=function(t){if(gr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Vc){this.Ps.reset();var e=function(t,e){return t&&t.length>0?(gr(void 0!==e),t.map((function(t){return function(t,e){var n=Zi(t.updateTime?t.updateTime:e);n.isEqual(Ar.min())&&(n=Zi(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Vo(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Zi(t.commitTime);return this.listener.bc(n,e)}return gr(!t.writeResults||0===t.writeResults.length),this.Vc=!0,this.listener.Sc()},e.prototype.Dc=function(){var t={};t.database=ro(this.serializer),this.lc(t)},e.prototype.vc=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return so(e.serializer,t)}))};this.lc(n)},e}(oc),uc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.ec=n,i.serializer=r,i.Cc=!1,i}return Object(r.c)(e,t),e.prototype.Nc=function(){if(this.Cc)throw new Ir(xr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.xc=function(t,e,n){var r=this;return this.Nc(),this.credentials.getToken().then((function(i){return r.ec.xc(t,e,n,i)})).catch((function(t){throw t.code===xr.UNAUTHENTICATED&&r.credentials.ni(),t}))},e.prototype.Fc=function(t,e,n){var r=this;return this.Nc(),this.credentials.getToken().then((function(i){return r.ec.Fc(t,e,n,i)})).catch((function(t){throw t.code===xr.UNAUTHENTICATED&&r.credentials.ni(),t}))},e.prototype.terminate=function(){this.Cc=!1},e}((function(){})),cc=function(){function t(t,e){this.rs=t,this.Oc=e,this.state="Unknown",this.Mc=0,this.kc=null,this.$c=!0}return t.prototype.Lc=function(){var t=this;0===this.Mc&&(this.Bc("Unknown"),this.kc=this.rs.Pn("online_state_timeout",1e4,(function(){return t.kc=null,t.qc("Backend didn't respond within 10 seconds."),t.Bc("Offline"),Promise.resolve()})))},t.prototype.Uc=function(t){"Online"===this.state?this.Bc("Unknown"):(this.Mc++,this.Mc>=1&&(this.Qc(),this.qc("Connection failed 1 times. Most recent error: "+t.toString()),this.Bc("Offline")))},t.prototype.set=function(t){this.Qc(),this.Mc=0,"Online"===t&&(this.$c=!1),this.Bc(t)},t.prototype.Bc=function(t){t!==this.state&&(this.state=t,this.Oc(t))},t.prototype.qc=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.$c?(hr(e),this.$c=!1):lr("OnlineStateTracker",e)},t.prototype.Qc=function(){null!==this.kc&&(this.kc.cancel(),this.kc=null)},t}(),lc=function(t,e,n,i,o){var s=this;this.Kc=t,this.Wc=e,this.rs=n,this.jc={},this.Gc=[],this.zc=new Map,this.Hc=new Set,this.Jc=[],this.Yc=o,this.Yc.Xc((function(t){n.fs((function(){return Object(r.b)(s,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return bc(this)?(lr("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:return(e=mr(t)).Hc.add(4),[4,fc(e)];case 1:return n.sent(),e.Zc.set("Unknown"),e.Hc.delete(4),[4,hc(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Zc=new cc(n,i)};function hc(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:if(!bc(t))return[3,4];e=0,n=t.Jc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function fc(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.Jc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function dc(t,e){var n=mr(t);n.zc.has(e.targetId)||(n.zc.set(e.targetId,e),yc(n)?vc(n):Pc(n).oc()&&gc(n,e))}function pc(t,e){var n=mr(t),r=Pc(n);n.zc.delete(e),r.oc()&&mc(n,e),0===n.zc.size&&(r.oc()?r.uc():bc(n)&&n.Zc.set("Unknown"))}function gc(t,e){t.tu.Ie(e.targetId),Pc(t).Pc(e)}function mc(t,e){t.tu.Ie(e),Pc(t).gc(e)}function vc(t){t.tu=new _i({Be:function(e){return t.jc.Be(e)},qe:function(e){return t.zc.get(e)||null}}),Pc(t).start(),t.Zc.Lc()}function yc(t){return bc(t)&&!Pc(t).rc()&&t.zc.size>0}function bc(t){return 0===mr(t).Hc.size}function _c(t){t.tu=void 0}function wc(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return t.zc.forEach((function(e,n){gc(t,e)})),[2]}))}))}function Ec(t,e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){return _c(t),yc(t)?(t.Zc.Uc(e),vc(t)):t.Zc.set("Unknown"),[2]}))}))}function Cc(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s;return Object(r.d)(this,(function(a){switch(a.label){case 0:if(t.Zc.set("Online"),!(e instanceof yi&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=e.cause,i=0,o=e.targetIds,r.label=1;case 1:return i<o.length?t.zc.has(s=o[i])?[4,t.jc.eu(s,n)]:[3,3]:[3,5];case 2:r.sent(),t.zc.delete(s),t.tu.removeTarget(s),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),lr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,Tc(t,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof mi?t.tu.pe(e):e instanceof vi?t.tu.Fe(e):t.tu.Se(e),n.isEqual(Ar.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Qu(t.Kc)];case 8:return o=a.sent(),n.A(o)>=0?[4,function(t,e){var n=t.tu.ke(e);return n.Gt.forEach((function(n,r){if(n.resumeToken.X()>0){var i=t.zc.get(r);i&&t.zc.set(r,i.st(n.resumeToken,e))}})),n.zt.forEach((function(e){var n=t.zc.get(e);if(n){t.zc.set(e,n.st(Br.Z,n.et)),mc(t,e);var r=new $r(n.target,e,1,n.sequenceNumber);gc(t,r)}})),t.jc.nu(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return lr("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,Tc(t,s)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Tc(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i=this;return Object(r.d)(this,(function(o){switch(o.label){case 0:if(!$s(e))throw e;return t.Hc.add(1),[4,fc(t)];case 1:return o.sent(),t.Zc.set("Offline"),n||(n=function(){return Qu(t.Kc)}),t.rs.Ss((function(){return Object(r.b)(i,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return lr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Hc.delete(1),[4,hc(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Oc(t,e){return e().catch((function(n){return Tc(t,n,e)}))}function xc(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n,i,o,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:e=mr(t),n=Dc(e),i=e.Gc.length>0?e.Gc[e.Gc.length-1].batchId:-1,r.label=1;case 1:if(!function(t){return bc(t)&&t.Gc.length<10}(e))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,Yu(e.Kc,i)];case 3:return null===(o=r.sent())?(0===e.Gc.length&&n.uc(),[3,7]):(i=o.batchId,function(t,e){t.Gc.push(e);var n=Dc(t);n.oc()&&n.yc&&n.vc(e.mutations)}(e,o),[3,6]);case 4:return s=r.sent(),[4,Tc(e,s)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return Ic(e)&&Sc(e),[2]}}))}))}function Ic(t){return bc(t)&&!Dc(t).rc()&&t.Gc.length>0}function Sc(t){Dc(t).start()}function Ac(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return Dc(t).Dc(),[2]}))}))}function kc(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n,i;return Object(r.d)(this,(function(r){for(e=Dc(t),n=0,i=t.Gc;n<i.length;n++)e.vc(i[n].mutations);return[2]}))}))}function Rc(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return i=t.Gc.shift(),o=ya.from(i,e,n),[4,Oc(t,(function(){return t.jc.su(o)}))];case 1:return r.sent(),[4,xc(t)];case 2:return r.sent(),[2]}}))}))}function Nc(t,e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:return e&&Dc(t).yc?[4,function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return Kr(i=e.code)&&i!==xr.ABORTED?(n=t.Gc.shift(),Dc(t).cc(),[4,Oc(t,(function(){return t.jc.iu(n.batchId,e)}))]):[3,3];case 1:return r.sent(),[4,xc(t)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Ic(t)&&Sc(t),[2]}}))}))}function jc(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=mr(t),e?(n.Hc.delete(2),[4,hc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Hc.add(2),[4,fc(n)]);case 3:r.sent(),n.Zc.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Pc(t){var e=this;return t.ru||(t.ru=function(t,e,n){var r=mr(t);return r.Nc(),new sc(e,r.ec,r.credentials,r.serializer,n)}(t.Wc,t.rs,{mc:wc.bind(null,t),dc:Ec.bind(null,t),Rc:Cc.bind(null,t)}),t.Jc.push((function(n){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return n?(t.ru.cc(),yc(t)?vc(t):t.Zc.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.ru.stop()];case 2:e.sent(),_c(t),e.label=3;case 3:return[2]}}))}))}))),t.ru}function Dc(t){var e=this;return t.ou||(t.ou=function(t,e,n){var r=mr(t);return r.Nc(),new ac(e,r.ec,r.credentials,r.serializer,n)}(t.Wc,t.rs,{mc:Ac.bind(null,t),dc:Nc.bind(null,t),Sc:kc.bind(null,t),bc:Rc.bind(null,t)}),t.Jc.push((function(n){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return n?(t.ou.cc(),[4,xc(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.ou.stop()];case 3:e.sent(),t.Gc.length>0&&(lr("RemoteStore","Stopping write stream with "+t.Gc.length+" pending writes"),t.Gc=[]),e.label=4;case 4:return[2]}}))}))}))),t.ou}var Vc=function(){function t(){this.au=new Jr(Mc.cu),this.uu=new Jr(Mc.hu)}return t.prototype.T=function(){return this.au.T()},t.prototype.Qo=function(t,e){var n=new Mc(t,e);this.au=this.au.add(n),this.uu=this.uu.add(n)},t.prototype.lu=function(t,e){var n=this;t.forEach((function(t){return n.Qo(t,e)}))},t.prototype.Wo=function(t,e){this._u(new Mc(t,e))},t.prototype.fu=function(t,e){var n=this;t.forEach((function(t){return n.Wo(t,e)}))},t.prototype.du=function(t){var e=this,n=new Pr(new Rr([])),r=new Mc(n,t),i=new Mc(n,t+1),o=[];return this.uu.Nt([r,i],(function(t){e._u(t),o.push(t.key)})),o},t.prototype.wu=function(){var t=this;this.au.forEach((function(e){return t._u(e)}))},t.prototype._u=function(t){this.au=this.au.delete(t),this.uu=this.uu.delete(t)},t.prototype.Tu=function(t){var e=new Pr(new Rr([])),n=new Mc(e,t),r=new Mc(e,t+1),i=ui();return this.uu.Nt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.so=function(t){var e=new Mc(t,0),n=this.au.Ft(e);return null!==n&&t.isEqual(n.key)},t}(),Mc=function(){function t(t,e){this.key=t,this.Eu=e}return t.cu=function(t,e){return Pr.V(t.key,e.key)||br(t.Eu,e.Eu)},t.hu=function(t,e){return br(t.Eu,e.Eu)||Pr.V(t.key,e.key)},t}();function Lc(t,e){return"firestore_clients_"+t+"_"+e}function Uc(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Js()&&(r+="_"+e.uid),r}function Fc(t,e){return"firestore_targets_"+t+"_"+e}var qc=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Iu=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new Ir(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(hr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.mu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),zc=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Iu=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Ir(r.error.code,r.error.message)),i?new t(e,r.state,o):(hr("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.mu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Bc=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Iu=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=li(),s=0;i&&s<r.activeTargetIds.length;++s)i=Mr(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(hr("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Hc=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Iu=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(hr("SharedClientState","Failed to parse online state: "+e),null)},t}(),Gc=function(){function t(){this.activeTargetIds=li()}return t.prototype.Au=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Ru=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.mu=function(){var t={activeTargetIds:this.activeTargetIds.O(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),$c=function(){function t(t,e,n,r,i){this.window=t,this.ln=e,this.persistenceKey=n,this.Pu=r,this.gu=null,this.Oc=null,this.Xi=null,this.Vu=this.yu.bind(this),this.pu=new Zr(br),this.yr=!1,this.vu=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.bu=Lc(this.persistenceKey,this.Pu),this.Su=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.pu=this.pu.rt(this.Pu,new Gc),this.Du=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Cu=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Nu=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.xu=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Fu=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Vu)}return t.kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(r.b)(this,void 0,void 0,(function(){var t,e,n,i,o,s,a,u,c,l,h=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,this.gu.Ca()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.Pu&&(o=this.getItem(Lc(this.persistenceKey,i)))&&(s=Bc.Iu(i,o))&&(this.pu=this.pu.rt(s.clientId,s));for(this.Ou(),(a=this.storage.getItem(this.xu))&&(u=this.Mu(a))&&this.ku(u),c=0,l=this.vu;c<l.length;c++)this.yu(l[c]);return this.vu=[],this.window.addEventListener("unload",(function(){return h.pa()})),this.yr=!0,[2]}}))}))},t.prototype.er=function(t){this.setItem(this.Su,JSON.stringify(t))},t.prototype.$u=function(){return this.Lu(this.pu)},t.prototype.Bu=function(t){var e=!1;return this.pu.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.qu=function(t){this.Uu(t,"pending")},t.prototype.Qu=function(t,e,n){this.Uu(t,e,n),this.Ku(t)},t.prototype.Wu=function(t){var e="not-current";if(this.Bu(t)){var n=this.storage.getItem(Fc(this.persistenceKey,t));if(n){var r=zc.Iu(t,n);r&&(e=r.state)}}return this.ju.Au(t),this.Ou(),e},t.prototype.Gu=function(t){this.ju.Ru(t),this.Ou()},t.prototype.zu=function(t){return this.ju.activeTargetIds.has(t)},t.prototype.Hu=function(t){this.removeItem(Fc(this.persistenceKey,t))},t.prototype.Ju=function(t,e,n){this.Yu(t,e,n)},t.prototype.Xu=function(t,e,n){var r=this;e.forEach((function(t){r.Ku(t)})),this.currentUser=t,n.forEach((function(t){r.qu(t)}))},t.prototype.Zu=function(t){this.th(t)},t.prototype.eh=function(){this.nh()},t.prototype.pa=function(){this.yr&&(this.window.removeEventListener("storage",this.Vu),this.removeItem(this.bu),this.yr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return lr("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){lr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){lr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.yu=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(lr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.bu)return void hr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ln.Ss((function(){return Object(r.b)(e,void 0,void 0,(function(){var t,e,i,o,s,a;return Object(r.d)(this,(function(r){if(this.yr){if(null!==n.key)if(this.Du.test(n.key)){if(null==n.newValue)return t=this.sh(n.key),[2,this.ih(t,null)];if(e=this.rh(n.key,n.newValue))return[2,this.ih(e.clientId,e)]}else if(this.Cu.test(n.key)){if(null!==n.newValue&&(i=this.oh(n.key,n.newValue)))return[2,this.ah(i)]}else if(this.Nu.test(n.key)){if(null!==n.newValue&&(o=this.uh(n.key,n.newValue)))return[2,this.hh(o)]}else if(n.key===this.xu){if(null!==n.newValue&&(s=this.Mu(n.newValue)))return[2,this.ku(s)]}else if(n.key===this.Su)(a=function(t){var e=xa.nr;if(null!=t)try{var n=JSON.parse(t);gr("number"==typeof n),e=n}catch(t){hr("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==xa.nr&&this.Xi(a);else if(n.key===this.Fu)return[2,this.gu.lh()]}else this.vu.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"ju",{get:function(){return this.pu.get(this.Pu)},enumerable:!1,configurable:!0}),t.prototype.Ou=function(){this.setItem(this.bu,this.ju.mu())},t.prototype.Uu=function(t,e,n){var r=new qc(this.currentUser,t,e,n),i=Uc(this.persistenceKey,this.currentUser,t);this.setItem(i,r.mu())},t.prototype.Ku=function(t){var e=Uc(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.th=function(t){this.storage.setItem(this.xu,JSON.stringify({clientId:this.Pu,onlineState:t}))},t.prototype.Yu=function(t,e,n){var r=Fc(this.persistenceKey,t),i=new zc(t,e,n);this.setItem(r,i.mu())},t.prototype.nh=function(){this.setItem(this.Fu,"value-not-used")},t.prototype.sh=function(t){var e=this.Du.exec(t);return e?e[1]:null},t.prototype.rh=function(t,e){var n=this.sh(t);return Bc.Iu(n,e)},t.prototype.oh=function(t,e){var n=this.Cu.exec(t),r=Number(n[1]);return qc.Iu(new ha(void 0!==n[2]?n[2]:null),r,e)},t.prototype.uh=function(t,e){var n=this.Nu.exec(t),r=Number(n[1]);return zc.Iu(r,e)},t.prototype.Mu=function(t){return Hc.Iu(t)},t.prototype.ah=function(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.gu._h(t.batchId,t.state,t.error)]:(lr("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.hh=function(t){return this.gu.fh(t.targetId,t.state,t.error)},t.prototype.ih=function(t,e){var n=this,r=e?this.pu.rt(t,e):this.pu.remove(t),i=this.Lu(this.pu),o=this.Lu(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.gu.dh(s,a).then((function(){n.pu=r}))},t.prototype.ku=function(t){this.pu.get(t.clientId)&&this.Oc(t.onlineState)},t.prototype.Lu=function(t){var e=li();return t.forEach((function(t,n){e=e.Ot(n.activeTargetIds)})),e},t}(),Wc=function(){function t(){this.wh=new Gc,this.Th={},this.Oc=null,this.Xi=null}return t.prototype.qu=function(t){},t.prototype.Qu=function(t,e,n){},t.prototype.Wu=function(t){return this.wh.Au(t),this.Th[t]||"not-current"},t.prototype.Ju=function(t,e,n){this.Th[t]=e},t.prototype.Gu=function(t){this.wh.Ru(t)},t.prototype.zu=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.Hu=function(t){delete this.Th[t]},t.prototype.$u=function(){return this.wh.activeTargetIds},t.prototype.Bu=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.start=function(){return this.wh=new Gc,Promise.resolve()},t.prototype.Xu=function(t,e,n){},t.prototype.Zu=function(t){},t.prototype.pa=function(){},t.prototype.er=function(t){},t.prototype.eh=function(){},t}(),Kc=function(t){this.key=t},Qc=function(t){this.key=t},Zc=function(){function t(t,e){this.query=t,this.Eh=e,this.Ih=null,this.Zt=!1,this.mh=ui(),this.Qt=ui(),this.Ah=Cs(t),this.Rh=new hi(this.Ah)}return Object.defineProperty(t.prototype,"Ph",{get:function(){return this.Eh},enumerable:!1,configurable:!0}),t.prototype.gh=function(t,e){var n=this,r=e?e.Vh:new fi,i=e?e.Rh:this.Rh,o=e?e.Qt:this.Qt,s=i,a=!1,u=cs(this.query)&&i.size===this.query.limit?i.last():null,c=ls(this.query)&&i.size===this.query.limit?i.first():null;if(t.ut((function(t,e){var l=i.get(t),h=e instanceof rs?e:null;h&&(h=Es(n.query,h)?h:null);var f=!!l&&n.Qt.has(l.key),d=!!h&&(h.Je||n.Qt.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yh(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Ah(h,u)>0||c&&n.Ah(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),cs(this.query)||ls(this.query))for(;s.size>this.query.limit;){var l=cs(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Rh:s,Vh:r,ph:a,Qt:o}},t.prototype.yh=function(t,e){return t.Je&&e.hasCommittedMutations&&!e.Je},t.prototype.bi=function(t,e,n){var r=this,i=this.Rh;this.Rh=t.Rh,this.Qt=t.Qt;var o=t.Vh.qt();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pr()}};return n(t)-n(e)}(t.type,e.type)||r.Ah(t.doc,e.doc)})),this.bh(n);var s=e?this.Sh():[],a=0===this.mh.size&&this.Zt?1:0,u=a!==this.Ih;return this.Ih=a,0!==o.length||u?{snapshot:new di(this.query,t.Rh,i,o,t.Qt,0===a,u,!1),Dh:s}:{Dh:s}},t.prototype.Bs=function(t){return this.Zt&&"Offline"===t?(this.Zt=!1,this.bi({Rh:this.Rh,Vh:new fi,Qt:this.Qt,ph:!1},!1)):{Dh:[]}},t.prototype.Ch=function(t){return!this.Eh.has(t)&&!!this.Rh.has(t)&&!this.Rh.get(t).Je},t.prototype.bh=function(t){var e=this;t&&(t.te.forEach((function(t){return e.Eh=e.Eh.add(t)})),t.ee.forEach((function(t){})),t.ne.forEach((function(t){return e.Eh=e.Eh.delete(t)})),this.Zt=t.Zt)},t.prototype.Sh=function(){var t=this;if(!this.Zt)return[];var e=this.mh;this.mh=ui(),this.Rh.forEach((function(e){t.Ch(e.key)&&(t.mh=t.mh.add(e.key))}));var n=[];return e.forEach((function(e){t.mh.has(e)||n.push(new Qc(e))})),this.mh.forEach((function(t){e.has(t)||n.push(new Kc(t))})),n},t.prototype.Nh=function(t){this.Eh=t.Xa,this.mh=ui();var e=this.gh(t.documents);return this.bi(e,!0)},t.prototype.xh=function(){return di.jt(this.query,this.Rh,this.Qt,0===this.Ih)},t}(),Yc=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Xc=function(t){this.key=t,this.Fh=!1},Jc=function(){function t(t,e,n,r,i,o){this.Kc=t,this.Oh=e,this.Mh=n,this.kh=r,this.currentUser=i,this.$h=o,this.Lh={},this.Bh=new Or((function(t){return _s(t)}),bs),this.qh=new Map,this.Uh=[],this.Qh=new Zr(Pr.V),this.Kh=new Map,this.Wh=new Vc,this.jh={},this.Gh=new Map,this.zh=Nu.vo(),this.onlineState="Unknown",this.Hh=void 0}return Object.defineProperty(t.prototype,"Jh",{get:function(){return!0===this.Hh},enumerable:!1,configurable:!0}),t}();function tl(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=Al(t),(o=n.Bh.get(e))?(n.kh.Wu(o.targetId),i=o.view.xh(),[3,4]):[3,1];case 1:return[4,Xu(n.Kc,gs(e))];case 2:return s=r.sent(),a=n.kh.Wu(s.targetId),[4,el(n,e,s.targetId,"current"===a)];case 3:i=r.sent(),n.Jh&&dc(n.Oh,s),r.label=4;case 4:return[2,i]}}))}))}function el(t,e,n,i){return Object(r.b)(this,void 0,void 0,(function(){var o,s,a,u,c,l;return Object(r.d)(this,(function(h){switch(h.label){case 0:return t.Yh=function(e,n,i){return function(t,e,n,i){return Object(r.b)(this,void 0,void 0,(function(){var o,s,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(o=e.view.gh(n)).ph?[4,tc(t.Kc,e.query,!1).then((function(t){return e.view.gh(t.documents,o)}))]:[3,2];case 1:o=r.sent(),r.label=2;case 2:return s=i&&i.Gt.get(e.targetId),a=e.view.bi(o,t.Jh,s),[2,(pl(t,e.targetId,a.Dh),a.snapshot)]}}))}))}(t,e,n,i)},[4,tc(t.Kc,e,!0)];case 1:return o=h.sent(),s=new Zc(e,o.Xa),a=s.gh(o.documents),u=gi.Xt(n,i&&"Offline"!==t.onlineState),c=s.bi(a,t.Jh,u),pl(t,n,c.Dh),l=new Yc(e,n,s),[2,(t.Bh.set(e,l),t.qh.has(n)?t.qh.get(n).push(e):t.qh.set(n,[e]),c.snapshot)]}}))}))}function nl(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=mr(t),i=n.Bh.get(e),(o=n.qh.get(i.targetId)).length>1?[2,(n.qh.set(i.targetId,o.filter((function(t){return!bs(t,e)}))),void n.Bh.delete(e))]:n.Jh?(n.kh.Gu(i.targetId),n.kh.Bu(i.targetId)?[3,2]:[4,Ju(n.Kc,i.targetId,!1).then((function(){n.kh.Hu(i.targetId),pc(n.Oh,i.targetId),fl(n,i.targetId)})).catch(ic)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return fl(n,i.targetId),[4,Ju(n.Kc,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}function rl(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:i=kl(t),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(t,e){var n,r=mr(t),i=Sr.now(),o=e.reduce((function(t,e){return t.add(e.key)}),ui());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ga.Li(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=zo(c,n.get(c.key));null!=l&&s.push(new $o(c.key,l,es(l.proto.mapValue),Mo.exists(!0)))}return r.xi.Qr(t,i,s,e)}))})).then((function(t){var e=t.wi(n);return{batchId:t.batchId,Ii:e}}))}(i.Kc,e)];case 2:return o=r.sent(),i.kh.qu(o.batchId),function(t,e,n){var r=t.jh[t.currentUser.Ys()];r||(r=new Zr(br)),r=r.rt(e,n),t.jh[t.currentUser.Ys()]=r}(i,o.batchId,n),[4,vl(i,o.Ii)];case 3:return r.sent(),[4,xc(i.Oh)];case 4:return r.sent(),[3,6];case 5:return s=r.sent(),a=na(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function il(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=mr(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Zu(n.Kc,e)];case 2:return i=r.sent(),e.Gt.forEach((function(t,e){var r=n.Kh.get(e);r&&(gr(t.te.size+t.ee.size+t.ne.size<=1),t.te.size>0?r.Fh=!0:t.ee.size>0?gr(r.Fh):t.ne.size>0&&(gr(r.Fh),r.Fh=!1))})),[4,vl(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,ic(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function ol(t,e,n){var r=mr(t);if(r.Jh&&0===n||!r.Jh&&1===n){var i=[];r.Bh.forEach((function(t,n){var r=n.view.Bs(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=mr(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Bs(e)&&(r=!0)})),r&&ca(n)}(r.Mh,e),i.length&&r.Lh.Rc(i),r.onlineState=e,r.Jh&&r.kh.Zu(e)}}function sl(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(i=mr(t)).kh.Ju(e,"rejected",n),o=i.Kh.get(e),(s=o&&o.key)?(a=(a=new Zr(Pr.V)).rt(s,new is(s,Ar.min())),u=ui().add(s),c=new pi(Ar.min(),new Map,new Jr(br),a,u),[4,il(i,c)]):[3,2];case 1:return r.sent(),i.Qh=i.Qh.remove(s),i.Kh.delete(e),ml(i),[3,4];case 2:return[4,Ju(i.Kc,e,!1).then((function(){return fl(i,e,n)})).catch(ic)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function al(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=mr(t),i=e.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Ku(n.Kc,e)];case 2:return o=r.sent(),hl(n,i,null),ll(n,i),n.kh.Qu(i,"acknowledged"),[4,vl(n,o)];case 3:return r.sent(),[3,6];case 4:return[4,ic(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function ul(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:i=mr(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(t,e){var n=mr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.xi.Wr(t,e).next((function(e){return gr(null!==e),r=e.keys(),n.xi.Yr(t,e)})).next((function(){return n.xi.no(t)})).next((function(){return n.Ga.Li(t,r)}))}))}(i.Kc,e)];case 2:return o=r.sent(),hl(i,e,n),ll(i,e),i.kh.Qu(e,"rejected",n),[4,vl(i,o)];case 3:return r.sent(),[3,6];case 4:return[4,ic(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function cl(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:bc((n=mr(t)).Oh)||lr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(t){var e=mr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.xi.zr(t)}))}(n.Kc)];case 2:return-1===(i=r.sent())?[2,void e.resolve()]:((o=n.Gh.get(i)||[]).push(e),n.Gh.set(i,o),[3,4]);case 3:return s=r.sent(),a=na(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function ll(t,e){(t.Gh.get(e)||[]).forEach((function(t){t.resolve()})),t.Gh.delete(e)}function hl(t,e,n){var r=mr(t),i=r.jh[r.currentUser.Ys()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.jh[r.currentUser.Ys()]=i}}function fl(t,e,n){void 0===n&&(n=null),t.kh.Gu(e);for(var r=0,i=t.qh.get(e);r<i.length;r++){var o=i[r];t.Bh.delete(o),n&&t.Lh.Xh(o,n)}t.qh.delete(e),t.Jh&&t.Wh.du(e).forEach((function(e){t.Wh.so(e)||dl(t,e)}))}function dl(t,e){var n=t.Qh.get(e);null!==n&&(pc(t.Oh,n),t.Qh=t.Qh.remove(e),t.Kh.delete(n),ml(t))}function pl(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Kc?(t.Wh.Qo(o.key,e),gl(t,o)):o instanceof Qc?(lr("SyncEngine","Document no longer in limbo: "+o.key),t.Wh.Wo(o.key,e),t.Wh.so(o.key)||dl(t,o.key)):pr()}}function gl(t,e){var n=e.key;t.Qh.get(n)||(lr("SyncEngine","New document in limbo: "+n),t.Uh.push(n),ml(t))}function ml(t){for(;t.Uh.length>0&&t.Qh.size<t.$h;){var e=t.Uh.shift(),n=t.zh.next();t.Kh.set(n,new Xc(e)),t.Qh=t.Qh.rt(e,n),dc(t.Oh,new $r(gs(us(e.path)),n,2,xa.nr))}}function vl(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s,a;return Object(r.d)(this,(function(u){switch(u.label){case 0:return i=mr(t),o=[],s=[],a=[],i.Bh.T()?[3,3]:(i.Bh.forEach((function(t,r){a.push(i.Yh(r,e,n).then((function(t){if(t){i.Jh&&i.kh.Ju(r.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=Oa.Yi(r.targetId,t);s.push(e)}})))})),[4,Promise.all(a)]);case 1:return u.sent(),i.Lh.Rc(o),[4,function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,a,u,c,l;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=mr(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return zs.forEach(e,(function(e){return zs.forEach(e.Hi,(function(r){return n.persistence.Lr.Qo(t,e.targetId,r)})).next((function(){return zs.forEach(e.Ji,(function(r){return n.persistence.Lr.Wo(t,e.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!$s(i=r.sent()))throw i;return lr("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,s=e;o<s.length;o++)u=(a=s[o]).targetId,a.fromCache||(c=n.Qa.get(u),l=c.it(c.et),n.Qa=n.Qa.rt(u,l));return[2]}}))}))}(i.Kc,s)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function yl(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(n=mr(t)).currentUser.isEqual(e)?[3,3]:(lr("SyncEngine","User change. New user:",e.Ys()),[4,Wu(n.Kc,e)]);case 1:return i=r.sent(),n.currentUser=e,function(t,e){t.Gh.forEach((function(t){t.forEach((function(t){t.reject(new Ir(xr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Gh.clear()}(n),n.kh.Xu(e,i.Ja,i.Ya),[4,vl(n,i.Ha)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}function bl(t,e){var n=mr(t),r=n.Kh.get(e);if(r&&r.Fh)return ui().add(r.key);var i=ui(),o=n.qh.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Bh.get(a[s]);i=i.Ot(u.view.Ph)}return i}function _l(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,tc((n=mr(t)).Kc,e.query,!0)];case 1:return i=r.sent(),o=e.view.Nh(i),[2,(n.Jh&&pl(n,e.targetId,o.Dh),o)]}}))}))}function wl(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){return[2,nc((e=mr(t)).Kc).then((function(t){return vl(e,t)}))]}))}))}function El(t,e,n,i){return Object(r.b)(this,void 0,void 0,(function(){var o,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,function(t,e){var n=mr(t),r=mr(n.xi);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jr(t,e).next((function(e){return e?n.Ga.Li(t,e):zs.resolve(null)}))}))}((o=mr(t)).Kc,e)];case 1:return null===(s=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,xc(o.Oh)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(hl(o,e,i||null),ll(o,e),function(t,e){mr(mr(t).xi).Zr(e)}(o.Kc,e)):pr(),r.label=4;case 4:return[4,vl(o,s)];case 5:return r.sent(),[3,7];case 6:lr("SyncEngine","Cannot apply mutation batch with id: "+e),r.label=7;case 7:return[2]}}))}))}function Cl(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,a,u,c;return Object(r.d)(this,(function(r){switch(r.label){case 0:return Al(n=mr(t)),kl(n),!0!==e||!0===n.Hh?[3,3]:(i=n.kh.$u(),[4,Tl(n,i.O())]);case 1:return o=r.sent(),n.Hh=!0,[4,jc(n.Oh,!0)];case 2:for(r.sent(),s=0,a=o;s<a.length;s++)dc(n.Oh,a[s]);return[3,7];case 3:return!1!==e||!1===n.Hh?[3,7]:(u=[],c=Promise.resolve(),n.qh.forEach((function(t,e){n.kh.zu(e)?u.push(e):c=c.then((function(){return fl(n,e),Ju(n.Kc,e,!0)})),pc(n.Oh,e)})),[4,c]);case 4:return r.sent(),[4,Tl(n,u)];case 5:return r.sent(),function(t){var e=mr(t);e.Kh.forEach((function(t,n){pc(e.Oh,n)})),e.Wh.wu(),e.Kh=new Map,e.Qh=new Zr(Pr.V)}(n),n.Hh=!1,[4,jc(n.Oh,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function Tl(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,a,u,c,l,h,f,d,p,g;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=mr(t),i=[],o=[],s=0,a=e,r.label=1;case 1:return s<a.length?(c=void 0,(l=n.qh.get(u=a[s]))&&0!==l.length?[4,Xu(n.Kc,gs(l[0]))]:[3,7]):[3,13];case 2:c=r.sent(),h=0,f=l,r.label=3;case 3:return h<f.length?(d=n.Bh.get(f[h]),[4,_l(n,d)]):[3,6];case 4:(p=r.sent()).snapshot&&o.push(p.snapshot),r.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,ec(n.Kc,u)];case 8:return g=r.sent(),[4,Xu(n.Kc,g)];case 9:return c=r.sent(),[4,el(n,Ol(g),u,!1)];case 10:r.sent(),r.label=11;case 11:i.push(c),r.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Lh.Rc(o),i)]}}))}))}function Ol(t){return as(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function xl(t){var e=mr(t);return mr(mr(e.Kc).persistence).Ca()}function Il(t,e,n,i){return Object(r.b)(this,void 0,void 0,(function(){var o,s,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(o=mr(t)).Hh?(lr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.qh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,nc(o.Kc)];case 3:return s=r.sent(),a=pi.Yt(e,"current"===n),[4,vl(o,s,a)];case 4:return r.sent(),[3,8];case 5:return[4,Ju(o.Kc,e,!0)];case 6:return r.sent(),fl(o,e,i),[3,8];case 7:pr(),r.label=8;case 8:return[2]}}))}))}function Sl(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,h,f;return Object(r.d)(this,(function(d){switch(d.label){case 0:if(!(i=Al(t)).Hh)return[3,10];o=0,s=e,d.label=1;case 1:return o<s.length?i.qh.has(a=s[o])?(lr("SyncEngine","Adding an already active target "+a),[3,5]):[4,ec(i.Kc,a)]:[3,6];case 2:return u=d.sent(),[4,Xu(i.Kc,u)];case 3:return c=d.sent(),[4,el(i,Ol(u),c.targetId,!1)];case 4:d.sent(),dc(i.Oh,c),d.label=5;case 5:return o++,[3,1];case 6:l=function(t){return Object(r.d)(this,(function(e){switch(e.label){case 0:return i.qh.has(t)?[4,Ju(i.Kc,t,!1).then((function(){pc(i.Oh,t),fl(i,t)})).catch(ic)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,d.label=7;case 7:return h<f.length?[5,l(f[h])]:[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function Al(t){var e=mr(t);return e.Oh.jc.nu=il.bind(null,e),e.Oh.jc.Be=bl.bind(null,e),e.Oh.jc.eu=sl.bind(null,e),e.Lh.Rc=aa.bind(null,e.Mh),e.Lh.Xh=ua.bind(null,e.Mh),e}function kl(t){var e=mr(t);return e.Oh.jc.su=al.bind(null,e),e.Oh.jc.iu=ul.bind(null,e),e}var Rl=function(){function t(){}return t.prototype.za=function(t){this.Zh=t},t.prototype.Ui=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.rn.length||1===t.rn.length&&t.rn[0].field.B())}(e)||n.isEqual(Ar.min())?this.tl(t,e):this.Zh.Li(t,r).next((function(s){var a=i.el(e,s);return(cs(e)||ls(e))&&i.ph(e.limitType,a,r,n)?i.tl(t,e):(cr()<=o.a.DEBUG&&lr("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ws(e)),i.Zh.Ui(t,e,n).next((function(t){return a.forEach((function(e){t=t.rt(e.key,e)})),t})))}))},t.prototype.el=function(t,e){var n=new Jr(Cs(t));return e.forEach((function(e,r){r instanceof rs&&Es(t,r)&&(n=n.add(r))})),n},t.prototype.ph=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.A(r)>0)},t.prototype.tl=function(t,e){return cr()<=o.a.DEBUG&&lr("IndexFreeQueryEngine","Using full collection scan to execute query:",ws(e)),this.Zh.Ui(t,e,Ar.min())},t}(),Nl=function(){function t(t,e){this.Fi=t,this.Lr=e,this.xi=[],this.nl=1,this.sl=new Jr(Mc.cu)}return t.prototype.Ur=function(t){return zs.resolve(0===this.xi.length)},t.prototype.Qr=function(t,e,n,r){var i=this.nl;this.nl++;var o=new va(i,e,n,r);this.xi.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.sl=this.sl.add(new Mc(u.key,i)),this.Fi.Kr(t,u.key.path.S())}return zs.resolve(o)},t.prototype.Wr=function(t,e){return zs.resolve(this.il(e))},t.prototype.Gr=function(t,e){var n=this.rl(e+1),r=n<0?0:n;return zs.resolve(this.xi.length>r?this.xi[r]:null)},t.prototype.zr=function(){return zs.resolve(0===this.xi.length?-1:this.nl-1)},t.prototype.Hr=function(t){return zs.resolve(this.xi.slice())},t.prototype.Mi=function(t,e){var n=this,r=new Mc(e,0),i=new Mc(e,Number.POSITIVE_INFINITY),o=[];return this.sl.Nt([r,i],(function(t){var e=n.il(t.Eu);o.push(e)})),zs.resolve(o)},t.prototype.qi=function(t,e){var n=this,r=new Jr(br);return e.forEach((function(t){var e=new Mc(t,0),i=new Mc(t,Number.POSITIVE_INFINITY);n.sl.Nt([e,i],(function(t){r=r.add(t.Eu)}))})),zs.resolve(this.ol(r))},t.prototype.Gi=function(t,e){var n=e.path,r=n.length+1,i=n;Pr.G(i)||(i=i.child(""));var o=new Mc(new Pr(i),0),s=new Jr(br);return this.sl.xt((function(t){var e=t.key.path;return!!n.N(e)&&(e.length===r&&(s=s.add(t.Eu)),!0)}),o),zs.resolve(this.ol(s))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.il(t);null!==r&&n.push(r)})),n},t.prototype.Yr=function(t,e){var n=this;gr(0===this.al(e.batchId,"removed")),this.xi.shift();var r=this.sl;return zs.forEach(e.mutations,(function(i){var o=new Mc(i.key,e.batchId);return r=r.delete(o),n.Lr.eo(t,i.key)})).next((function(){n.sl=r}))},t.prototype.Zr=function(t){},t.prototype.so=function(t,e){var n=new Mc(e,0),r=this.sl.Ft(n);return zs.resolve(e.isEqual(r&&r.key))},t.prototype.no=function(t){return zs.resolve()},t.prototype.al=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.xi.length?0:t-this.xi[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.xi.length?null:this.xi[e]},t}(),jl=function(){function t(t,e){this.Fi=t,this.cl=e,this.docs=new Zr(Pr.V),this.size=0}return t.prototype.Ri=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.cl(e);return this.docs=this.docs.rt(r,{gi:e,size:s,readTime:n}),this.size+=s-o,this.Fi.Kr(t,r.path.S())},t.prototype.Vi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.yi=function(t,e){var n=this.docs.get(e);return zs.resolve(n?n.gi:null)},t.prototype.getEntries=function(t,e){var n=this,r=ri();return e.forEach((function(t){var e=n.docs.get(t);r=r.rt(t,e?e.gi:null)})),zs.resolve(r)},t.prototype.Ui=function(t,e,n){for(var r=oi(),i=new Pr(e.path.child("")),o=this.docs._t(i);o.It();){var s=o.Et(),a=s.value,u=a.gi,c=a.readTime;if(!e.path.N(s.key.path))break;c.A(n)<=0||u instanceof rs&&Es(e,u)&&(r=r.rt(u.key,u))}return zs.resolve(r)},t.prototype.ul=function(t,e){return zs.forEach(this.docs,(function(t){return e(t)}))},t.prototype._o=function(t){return new Pl(this)},t.prototype.wo=function(t){return zs.resolve(this.size)},t}(),Pl=function(t){function e(e){var n=this;return(n=t.call(this)||this).To=e,n}return Object(r.c)(e,t),e.prototype.bi=function(t){var e=this,n=[];return this.Ii.forEach((function(r,i){i&&i.gi?n.push(e.To.Ri(t,i.gi,e.Ai(r))):e.To.Vi(r)})),zs.xn(n)},e.prototype.pi=function(t,e){return this.To.yi(t,e)},e.prototype.vi=function(t,e){return this.To.getEntries(t,e)},e}(ba),Dl=function(){function t(t){this.persistence=t,this.hl=new Or((function(t){return Fr(t)}),qr),this.lastRemoteSnapshotVersion=Ar.min(),this.highestTargetId=0,this.ll=0,this._l=new Vc,this.targetCount=0,this.fl=Nu.po()}return t.prototype.De=function(t,e){return this.hl.forEach((function(t,n){return e(n)})),zs.resolve()},t.prototype.Co=function(t){return zs.resolve(this.lastRemoteSnapshotVersion)},t.prototype.No=function(t){return zs.resolve(this.ll)},t.prototype.bo=function(t){return this.highestTargetId=this.fl.next(),zs.resolve(this.highestTargetId)},t.prototype.xo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),zs.resolve()},t.prototype.Oo=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new Nu(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.Fo=function(t,e){return this.Oo(e),this.targetCount+=1,zs.resolve()},t.prototype.ko=function(t,e){return this.Oo(e),zs.resolve()},t.prototype.$o=function(t,e){return this.hl.delete(e.target),this._l.du(e.targetId),this.targetCount-=1,zs.resolve()},t.prototype.Nr=function(t,e,n){var r=this,i=0,o=[];return this.hl.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.hl.delete(s),o.push(r.Lo(t,a.targetId)),i++)})),zs.xn(o).next((function(){return i}))},t.prototype.Bo=function(t){return zs.resolve(this.targetCount)},t.prototype.qo=function(t,e){var n=this.hl.get(e)||null;return zs.resolve(n)},t.prototype.Uo=function(t,e,n){return this._l.lu(e,n),zs.resolve()},t.prototype.Ko=function(t,e,n){this._l.fu(e,n);var r=this.persistence.Lr,i=[];return r&&e.forEach((function(e){i.push(r.eo(t,e))})),zs.xn(i)},t.prototype.Lo=function(t,e){return this._l.du(e),zs.resolve()},t.prototype.jo=function(t,e){var n=this._l.Tu(e);return zs.resolve(n)},t.prototype.so=function(t,e){return zs.resolve(this._l.so(e))},t}(),Vl=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.mo=function(t,e){return zs.resolve(this.dl.get(e))},t.prototype.Ao=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:Zi(n.createTime)}),zs.resolve()},t.prototype.Ro=function(t,e){return zs.resolve(this.wl.get(e))},t.prototype.Po=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:Wa(n.bundledQuery),readTime:Zi(n.readTime)}),zs.resolve()},t}(),Ml=function(){function t(t,e){var n=this;this.Tl={},this.Jo=new xa(0),this.Yo=!1,this.Yo=!0,this.Lr=t(this),this.ra=new Dl(this),this.Fi=new su,this.Ni=function(t,e){return new jl(t,(function(t){return n.Lr.El(t)}))}(this.Fi),this.serializer=new Ma(e),this.oa=new Vl(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.pa=function(){return this.Yo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"yr",{get:function(){return this.Yo},enumerable:!1,configurable:!0}),t.prototype.fa=function(){},t.prototype.da=function(){},t.prototype.Oa=function(){return this.Fi},t.prototype.Na=function(t){var e=this.Tl[t.Ys()];return e||(e=new Nl(this.Fi,this.Lr),this.Tl[t.Ys()]=e),e},t.prototype.xa=function(){return this.ra},t.prototype.Fa=function(){return this.Ni},t.prototype.Ma=function(){return this.oa},t.prototype.runTransaction=function(t,e,n){var r=this;lr("MemoryPersistence","Starting transaction:",t);var i=new Ll(this.Jo.next());return this.Lr.Il(),n(i).next((function(t){return r.Lr.ml(i).next((function(){return t}))})).Cn().then((function(t){return i.Ci(),t}))},t.prototype.Al=function(t,e){return zs.Fn(Object.values(this.Tl).map((function(n){return function(){return n.so(t,e)}})))},t}(),Ll=function(t){function e(e){var n=this;return(n=t.call(this)||this).Go=e,n}return Object(r.c)(e,t),e}(Ca),Ul=function(){function t(t){this.persistence=t,this.Rl=new Vc,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"Vl",{get:function(){if(this.Pl)return this.Pl;throw pr()},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t,e,n){return this.Rl.Qo(n,e),this.Vl.delete(n.toString()),zs.resolve()},t.prototype.Wo=function(t,e,n){return this.Rl.Wo(n,e),this.Vl.add(n.toString()),zs.resolve()},t.prototype.eo=function(t,e){return this.Vl.add(e.toString()),zs.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.du(e.targetId).forEach((function(t){return n.Vl.add(t.toString())}));var r=this.persistence.xa();return r.jo(t,e.targetId).next((function(t){t.forEach((function(t){return n.Vl.add(t.toString())}))})).next((function(){return r.$o(t,e)}))},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.Fa()._o();return zs.forEach(this.Vl,(function(r){var i=Pr.K(r);return e.yl(t,i).next((function(t){t||n.Vi(i)}))})).next((function(){return e.Pl=null,n.apply(t)}))},t.prototype.qa=function(t,e){var n=this;return this.yl(t,e).next((function(t){t?n.Vl.delete(e.toString()):n.Vl.add(e.toString())}))},t.prototype.El=function(t){return 0},t.prototype.yl=function(t,e){var n=this;return zs.Fn([function(){return zs.resolve(n.Rl.so(e))},function(){return n.persistence.xa().so(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),Fl=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.mc=function(t){this.bl=t},t.prototype.dc=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),ql={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},zl=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(r.c)(e,t),e.prototype.Ll=function(t,e,n,r){return new Promise((function(i,o){var s=new ir;s.listenOnce(nr.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case er.NO_ERROR:var e=s.getResponseJson();lr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case er.TIMEOUT:lr("Connection",'RPC "'+t+'" timed out'),o(new Ir(xr.DEADLINE_EXCEEDED,"Request time out"));break;case er.HTTP_ERROR:var n=s.getStatus();if(lr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(xr).indexOf(e)>=0?e:xr.UNKNOWN}(r.status);o(new Ir(a,r.message))}else o(new Ir(xr.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Ir(xr.UNAVAILABLE,"Connection failed."));break;default:pr()}}finally{lr("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Ac=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Zn,i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(i.initMessageHeaders,e),Object(s.m)()||Object(s.o)()||Object(s.k)()||Object(s.l)()||Object(s.p)()||Object(s.j)()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");lr("Connection","Creating WebChannel: "+o,i);var a=r.createWebChannel(o,i),u=!1,c=!1,l=new Fl({pl:function(t){c?lr("Connection","Not sending because WebChannel is closed:",t):(u||(lr("Connection","Opening WebChannel transport."),a.open(),u=!0),lr("Connection","WebChannel sending:",t),a.send(t))},vl:function(){return a.close()}}),h=function(t,e){a.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(rr.EventType.OPEN,(function(){c||lr("Connection","WebChannel transport opened.")})),h(rr.EventType.CLOSE,(function(){c||(c=!0,lr("Connection","WebChannel transport closed"),l.Nl())})),h(rr.EventType.ERROR,(function(t){c||(c=!0,fr("Connection","WebChannel transport errored:",t),l.Nl(new Ir(xr.UNAVAILABLE,"The operation could not be completed")))})),h(rr.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];gr(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){lr("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Hr[t];if(void 0!==e)return Qr(e)}(i),s=r.message;void 0===o&&(o=xr.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Nl(new Ir(o,s)),a.close()}else lr("Connection","WebChannel received:",n),l.xl(n)}})),setTimeout((function(){l.Cl()}),0),l},e}(function(){function t(t){this.Fl=t,this.t=t.t,this.Ol=(t.ssl?"https":"http")+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.xc=function(t,e,n,r){var i=this.kl(t,e);lr("RestConnection","Sending: ",i,n);var o={};return this.$l(o,r),this.Ll(t,i,o,n).then((function(t){return lr("RestConnection","Received: ",t),t}),(function(e){throw fr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Fc=function(t,e,n,r){return this.xc(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.0.2",t["Content-Type"]="text/plain",e)for(var n in e.ti)e.ti.hasOwnProperty(n)&&(t[n]=e.ti[n])},t.prototype.kl=function(t,e){return this.Ol+"/v1/"+e+":"+ql[t]},t}()),Bl=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Xc=function(t){this.Kl.push(t)},t.prototype.pa=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){lr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){lr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Hl=function(){function t(){}return t.prototype.Xc=function(t){},t.prototype.pa=function(){},t}(),Gl=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return this.serializer=_a(t.Fl.t),this.kh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Kc=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return $u(this.persistence,new Rl,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new Ml(Ul.gl,this.serializer)},t.prototype.jl=function(t){return new Wc},t.prototype.terminate=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.kh.pa()];case 1:return t.sent(),[4,this.persistence.pa()];case 2:return t.sent(),[2]}}))}))},t}(),$l=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(r.c)(e,t),e.prototype.initialize=function(e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,rc(this.Kc)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,kl(this.Xl.gu)];case 4:return n.sent(),[4,xc(this.Xl.Oh)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return $u(this.persistence,new Rl,t.Yl,this.serializer)},e.prototype.Hl=function(t){return new Ra(this.persistence.Lr.Rr,t.rs)},e.prototype.Gl=function(t){var e=Hu(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?ka.Tr(this.cacheSizeBytes):ka.mr;return new Uu(this.synchronizeTabs,e,t.clientId,n,t.rs,Xs(),Js(),this.serializer,this.kh,!!this.forceOwnership)},e.prototype.jl=function(t){return new Wc},e}(Gl),Wl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(r.c)(e,t),e.prototype.initialize=function(e){return Object(r.b)(this,void 0,void 0,(function(){var n,i=this;return Object(r.d)(this,(function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),n=this.Xl.gu,this.kh instanceof $c?(this.kh.gu={_h:El.bind(null,n),fh:Il.bind(null,n),dh:Sl.bind(null,n),Ca:xl.bind(null,n),lh:wl.bind(null,n)},[4,this.kh.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence._a((function(t){return Object(r.b)(i,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return[4,Cl(this.Xl.gu,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.yr?this.zl.start(this.Kc):t||this.zl.stop()),[2]}}))}))}))];case 4:return o.sent(),[2]}}))}))},e.prototype.jl=function(t){var e=Xs();if(!$c.kn(e))throw new Ir(xr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Hu(t.Fl.t,t.Fl.persistenceKey);return new $c(e,t.rs,n,t.clientId,t.Yl)},e}($l),Kl=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return this.Kc?[3,2]:(this.Kc=t.Kc,this.kh=t.kh,this.Wc=this.Zl(e),this.Oh=this.t_(e),this.Mh=this.e_(e),this.gu=this.n_(e,!t.synchronizeTabs),this.kh.Oc=function(t){return ol(n.gu,t,1)},this.Oh.jc.s_=yl.bind(null,this.gu),[4,jc(this.Oh,this.gu.Jh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new ia},t.prototype.Zl=function(t){var e=_a(t.Fl.t),n=new zl(t.Fl);return function(t,e,n){return new uc(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Kc,n=this.Wc,r=t.rs,i=function(t){return ol(s.gu,t,0)},o=Bl.kn()?new Bl:new Hl,new lc(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var a=new Jc(t,e,n,r,i,o);return s&&(a.Hh=!0),a}(this.Kc,this.Oh,this.Mh,this.kh,t.Yl,t.$h,e)},t.prototype.terminate=function(){return function(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:return e=mr(t),lr("RemoteStore","RemoteStore shutting down."),e.Hc.add(5),[4,fc(e)];case 1:return n.sent(),e.Yc.pa(),e.Zc.set("Unknown"),[2]}}))}))}(this.Oh)},t}(),Ql=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Zl=function(t){this.o_=t};function Yl(t,e,n){if(!n)throw new Ir(xr.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Xl(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ir(xr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Jl(t,e,n,r){if(!0===e&&!0===r)throw new Ir(xr.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function th(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":pr()}function eh(t,e){if(t instanceof Zl&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ir(xr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=th(t);throw new Ir(xr.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function nh(t,e){if(e<=0)throw new Ir(xr.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var rh=function(t){this.a_=t},ih=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.c_=function(t){if(2!==t.u_)throw t.h_(1===t.u_?this.a_+"() can only appear at the top level of your update data":this.a_+"() cannot be used with set() unless you pass {merge:true}");return t.Qe.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(rh);function oh(t,e,n){return new Rh({u_:3,l_:e.settings.l_,methodName:t.a_,__:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var sh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.c_=function(t){return new Do(t.path,new xo)},e.prototype.isEqual=function(t){return t instanceof e},e}(rh),ah=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(r.c)(e,t),e.prototype.c_=function(t){var e=oh(this,t,!0),n=this.f_.map((function(t){return Mh(t,e)})),r=new Io(n);return new Do(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(rh),uh=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(r.c)(e,t),e.prototype.c_=function(t){var e=oh(this,t,!0),n=this.f_.map((function(t){return Mh(t,e)})),r=new Ao(n);return new Do(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(rh),ch=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).d_=n,r}return Object(r.c)(e,t),e.prototype.c_=function(t){var e=new Ro(t.serializer,$i(t.serializer,this.d_));return new Do(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(rh),lh=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ir(xr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ir(xr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.w_=t,this.T_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.T_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.w_===t.w_&&this.T_===t.T_},t.prototype.toJSON=function(){return{latitude:this.w_,longitude:this.T_}},t.prototype.I=function(t){return br(this.w_,t.w_)||br(this.T_,t.T_)},t}(),hh=function(){function t(t){this.E_=t}return t.fromBase64String=function(e){try{return new t(Br.fromBase64String(e))}catch(e){throw new Ir(xr.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Br.fromUint8Array(e))},t.prototype.toBase64=function(){return this.E_.toBase64()},t.prototype.toUint8Array=function(){return this.E_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.E_.isEqual(t.E_)},t}(),fh=new Map,dh=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ir(xr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ir(xr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Jl("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}();function ph(){if("undefined"==typeof Uint8Array)throw new Ir(xr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function gh(){if("undefined"==typeof atob)throw new Ir(xr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var mh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.fromBase64String=function(t){gh();try{return new e(Br.fromBase64String(t))}catch(t){throw new Ir(xr.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){return ph(),new e(Br.fromUint8Array(t))},e.prototype.toBase64=function(){return gh(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return ph(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(hh),vh=function(){function t(){}return t.prototype.I_=function(t,e){switch(void 0===e&&(e="none"),xi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ji(t.integerValue||t.doubleValue);case 3:return this.m_(t.timestampValue);case 4:return this.A_(t,e);case 5:return t.stringValue;case 6:return this.R_(Pi(t.bytesValue));case 7:return this.P_(t.referenceValue);case 8:return this.g_(t.geoPointValue);case 9:return this.V_(t.arrayValue,e);case 10:return this.y_(t.mapValue,e);default:throw pr()}},t.prototype.y_=function(t,e){var n=this,r={};return Cr(t.fields||{},(function(t,i){r[t]=n.I_(i,e)})),r},t.prototype.g_=function(t){return new lh(ji(t.latitude),ji(t.longitude))},t.prototype.V_=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.I_(t,e)}))},t.prototype.A_=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return Ci(n)?t(n):n}(t);return null==n?null:this.I_(n,e);case"estimate":return this.m_(Ti(t));default:return null}},t.prototype.m_=function(t){var e=Ni(t);return new Sr(e.seconds,e.nanos)},t.prototype.p_=function(t,e){var n=Rr.k(t);gr(wo(n));var r=new ar(n.get(1),n.get(3)),i=new Pr(n.v(5));return r.isEqual(e)||hr("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),yh=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(r.c)(e,t),e.prototype.R_=function(t){return new mh(t)},e.prototype.P_=function(t){var e=this.p_(t,this.firestore.v_);return xf.b_(e,this.firestore,null)},e}(vh),bh=function(){function t(t,e,n,r,i){this.S_=t,this.D_=e,this.C_=n,this.N_=r,this.x_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.C_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ch(this.S_,this.x_,this.C_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.N_},t.prototype.data=function(){if(this.N_){if(this.x_){var t=new _h(this.S_,this.D_,this.C_,this.N_,null);return this.x_.fromFirestore(t)}return this.D_.I_(this.N_.sn())}},t.prototype.get=function(t){if(this.N_){var e=this.N_.data().field(wh("DocumentSnapshot.get",t));if(null!==e)return this.D_.I_(e)}},t}(),_h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(bh);function wh(t,e){return"string"==typeof e?Bh(t,e):e instanceof Zl?e.o_.F_:e.F_}var Eh=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Ir(xr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.F_=new jr(t)}return t.prototype.isEqual=function(t){return this.F_.isEqual(t.F_)},t}(),Ch=function(){function t(t,e,n){this.x_=e,this.C_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"O_",{get:function(){return this.C_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.C_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.C_.path.M()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Oh(this.firestore,this.x_,this.C_.path.S())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Th=function(){function t(t,e,n){this.x_=e,this.M_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.M_)},t}(),Oh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,us(r))||this).firestore=e,i.O_=r,i.type="collection",i}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.M_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.M_.path.M()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.O_.S();return t.T()?null:new Ch(this.firestore,null,new Pr(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.O_)},e}(Th);function xh(t){var e=t.k_(),n=_a(t.v_);return new Nh(t.v_,!!e.ignoreUndefinedProperties,n)}var Ih=/^__.*__$/,Sh=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.L_=function(t,e){var n=[];return n.push(null!==this.Qe?new $o(t,this.data,this.Qe,e):new Go(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Ko(t,this.fieldTransforms)),n},t}(),Ah=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.L_=function(t,e){var n=[new $o(t,this.data,this.Qe,e)];return this.fieldTransforms.length>0&&n.push(new Ko(t,this.fieldTransforms)),n},t}();function kh(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pr()}}var Rh=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.B_(),this.fieldTransforms=i||[],this.Qe=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u_",{get:function(){return this.settings.u_},enumerable:!1,configurable:!0}),t.prototype.q_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.q_({path:n,__:!1});return r.Q_(t),r},t.prototype.K_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.q_({path:n,__:!1});return r.B_(),r},t.prototype.W_=function(t){return this.q_({path:void 0,__:!0})},t.prototype.h_=function(t){return Hh(t,this.settings.methodName,this.settings.j_||!1,this.path,this.settings.l_)},t.prototype.contains=function(t){return void 0!==this.Qe.find((function(e){return t.N(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.N(e.field)}))},t.prototype.B_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Q_(this.path.get(t))},t.prototype.Q_=function(t){if(0===t.length)throw this.h_("Document fields must not be empty");if(kh(this.u_)&&Ih.test(t))throw this.h_('Document fields cannot begin and end with "__"')},t}(),Nh=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||_a(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Rh({u_:t,methodName:e,l_:n,path:jr.$(),__:!1,j_:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function jh(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);Fh("Data must be an object, but it was:",s,r);var a,u,c=Lh(r,s);if(o.merge)a=new Po(s.Qe),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=qh(e,f[h],n);if(!s.contains(d))throw new Ir(xr.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Gh(l,d)||l.push(d)}a=new Po(l),u=s.fieldTransforms.filter((function(t){return a.He(t.field)}))}else a=null,u=s.fieldTransforms;return new Sh(new Jo(c),a,u)}function Ph(t,e,n,r){var i=t.G_(1,e,n);Fh("Data must be an object, but it was:",i,r);var o=[],s=new ts;Cr(r,(function(t,r){var a=Bh(e,t,n);r instanceof Zl&&(r=r.o_);var u=i.K_(a);if(r instanceof ih)o.push(a);else{var c=Mh(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new Po(o);return new Ah(s.Ye(),a,i.fieldTransforms)}function Dh(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[qh(e,r,n)],u=[i];if(o.length%2!=0)throw new Ir(xr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(qh(e,o[c])),u.push(o[c+1]);for(var l=[],h=new ts,f=a.length-1;f>=0;--f)if(!Gh(l,a[f])){var d=a[f],p=u[f];p instanceof Zl&&(p=p.o_);var g=s.K_(d);if(p instanceof ih)l.push(d);else{var m=Mh(p,g);null!=m&&(l.push(d),h.set(d,m))}}var v=new Po(l);return new Ah(h.Ye(),v,s.fieldTransforms)}function Vh(t,e,n,r){return void 0===r&&(r=!1),Mh(n,t.G_(r?4:3,e))}function Mh(t,e){if(t instanceof Zl&&(t=t.o_),Uh(t))return Fh("Unsupported field value:",e,t),Lh(t,e);if(t instanceof rh)return function(t,e){if(!kh(e.u_))throw e.h_(t.a_+"() can only be used with update() and set()");if(!e.path)throw e.h_(t.a_+"() is not currently supported inside arrays");var n=t.c_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Qe.push(e.path),t instanceof Array){if(e.settings.__&&4!==e.u_)throw e.h_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Mh(o[i],e.W_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Zl&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return $i(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Sr.fromDate(t);return{timestampValue:Wi(e.serializer,n)}}if(t instanceof Sr){var r=new Sr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Wi(e.serializer,r)}}if(t instanceof lh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof hh)return{bytesValue:Ki(e.serializer,t.E_)};if(t instanceof Ch){var i=e.t,o=t.firestore.v_;if(!o.isEqual(i))throw e.h_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Yi(t.firestore.v_||e.t,t.C_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.h_("Unsupported field value: "+th(t))}(t,e)}function Lh(t,e){var n={};return Tr(t)?e.path&&e.path.length>0&&e.Qe.push(e.path):Cr(t,(function(t,r){var i=Mh(r,e.U_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Uh(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Sr||t instanceof lh||t instanceof hh||t instanceof Ch||t instanceof rh)}function Fh(t,e,n){if(!Uh(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=th(n);throw e.h_("an object"===r?t+" a custom object":t+" "+r)}}function qh(t,e,n){if(e instanceof Zl&&(e=e.o_),e instanceof Eh)return e.F_;if("string"==typeof e)return Bh(t,e);throw Hh("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var zh=new RegExp("[~\\*/\\[\\]]");function Bh(t,e,n){if(e.search(zh)>=0)throw Hh("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Eh.bind.apply(Eh,Object(r.g)([void 0],e.split("."))))).F_}catch(i){throw Hh("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Hh(t,e,n,r,i){var o=r&&!r.T(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Ir(xr.INVALID_ARGUMENT,(a+=". ")+t+u)}function Gh(t,e){return t.some((function(t){return t.isEqual(e)}))}var $h=function(){function t(t){this.Wc=t,this.z_=new Map,this.mutations=[],this.H_=!1,this.J_=null,this.Y_=new Set}return t.prototype.X_=function(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n=this;return Object(r.d)(this,(function(i){switch(i.label){case 0:if(this.Z_(),this.mutations.length>0)throw new Ir(xr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,a,u;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=mr(t),i=ro(n.serializer)+"/documents",o={documents:e.map((function(t){return Ji(n.serializer,t)}))},[4,n.Fc("BatchGetDocuments",i,o)];case 1:return s=r.sent(),a=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){gr(!!e.found);var n=to(t,e.found.name),r=Zi(e.found.updateTime),i=new Jo({mapValue:{fields:e.found.fields}});return new rs(n,r,i,{})}(t,e):"missing"in e?function(t,e){gr(!!e.missing),gr(!!e.readTime);var n=to(t,e.missing),r=Zi(e.readTime);return new is(n,r)}(t,e):pr()}(n.serializer,t);a.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=a.get(t.toString());gr(!!e),u.push(e)})),u)]}}))}))}(this.Wc,t)];case 1:return[2,((e=i.sent()).forEach((function(t){t instanceof is||t instanceof rs?n.tf(t):pr()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.L_(t,this.je(t))),this.Y_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.L_(t,this.ef(t)))}catch(t){this.J_=t}this.Y_.add(t.toString())},t.prototype.delete=function(t){this.write([new Yo(t,this.je(t))]),this.Y_.add(t.toString())},t.prototype.commit=function(){return Object(r.b)(this,void 0,void 0,(function(){var t,e=this;return Object(r.d)(this,(function(n){switch(n.label){case 0:if(this.Z_(),this.J_)throw this.J_;return t=this.z_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Pr.K(n);e.mutations.push(new Xo(r,e.je(r)))})),[4,function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=mr(t),i=ro(n.serializer)+"/documents",o={writes:e.map((function(t){return so(n.serializer,t)}))},[4,n.xc("Commit",i,o)];case 1:return r.sent(),[2]}}))}))}(this.Wc,this.mutations)];case 1:return n.sent(),this.H_=!0,[2]}}))}))},t.prototype.tf=function(t){var e;if(t instanceof rs)e=t.version;else{if(!(t instanceof is))throw pr();e=Ar.min()}var n=this.z_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ir(xr.ABORTED,"Document version changed between two reads.")}else this.z_.set(t.key.toString(),e)},t.prototype.je=function(t){var e=this.z_.get(t.toString());return!this.Y_.has(t.toString())&&e?Mo.updateTime(e):Mo.Ge()},t.prototype.ef=function(t){var e=this.z_.get(t.toString());if(!this.Y_.has(t.toString())&&e){if(e.isEqual(Ar.min()))throw new Ir(xr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mo.updateTime(e)}return Mo.exists(!0)},t.prototype.write=function(t){this.Z_(),this.mutations=this.mutations.concat(t)},t.prototype.Z_=function(){},t}(),Wh=function(){function t(t,e,n,r){this.rs=t,this.Wc=e,this.updateFunction=n,this.us=r,this.nf=5,this.Ps=new qs(this.rs,"transaction_retry")}return t.prototype.run=function(){this.sf()},t.prototype.sf=function(){var t=this;this.Ps.An((function(){return Object(r.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(r.d)(this,(function(r){return t=new $h(this.Wc),(e=this.rf(t))&&e.then((function(e){n.rs.fs((function(){return t.commit().then((function(){n.us.resolve(e)})).catch((function(t){n.af(t)}))}))})).catch((function(t){n.af(t)})),[2]}))}))}))},t.prototype.rf=function(t){try{var e=this.updateFunction(t);return!Dr(e)&&e.catch&&e.then?e:(this.us.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.us.reject(t),null}},t.prototype.af=function(t){var e=this;this.nf>0&&this.cf(t)?(this.nf-=1,this.rs.fs((function(){return e.sf(),Promise.resolve()}))):this.us.reject(t)},t.prototype.cf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Kr(e)}return!1},t}(),Kh=function(){function t(t,e,n){var r=this;this.credentials=t,this.rs=e,this.Fl=n,this.user=ha.UNAUTHENTICATED,this.clientId=yr.u(),this.uf=function(){},this.oi=new Fs,this.credentials.si((function(t){lr("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.uf(t)),r.oi.resolve()}))}return t.prototype.getConfiguration=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return[4,this.oi.promise];case 1:return[2,(t.sent(),{rs:this.rs,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,$h:100})]}}))}))},t.prototype.hf=function(t){var e=this;this.uf=t,this.oi.promise.then((function(){return e.uf(e.user)}))},t.prototype.lf=function(){if(this.rs.Vs)throw new Ir(xr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.rs.bs();var e=new Fs;return this.rs.ys((function(){return Object(r.b)(t,void 0,void 0,(function(){var t,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this._f?[4,this._f.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.ff?[4,this.ff.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.ii(),e.resolve(),[3,6];case 5:return t=r.sent(),n=na(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function Qh(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i=this;return Object(r.d)(this,(function(o){switch(o.label){case 0:return t.rs.Ns(),lr("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),t.hf((function(n){return t.rs.Ss((function(){return Object(r.b)(i,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return[4,Wu(e.Kc,n)];case 1:return t.sent(),[2]}}))}))}))})),e.persistence.fa((function(){return t.terminate()})),t.ff=e,[2]}}))}))}function Zh(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(o){switch(o.label){case 0:return t.rs.Ns(),[4,Yh(t)];case 1:return n=o.sent(),lr("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=o.sent(),[4,e.initialize(n,i)];case 3:return o.sent(),t.hf((function(n){return t.rs.Ss((function(){return function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(n=mr(t)).rs.Ns(),lr("RemoteStore","RemoteStore received new credentials"),i=bc(n),n.Hc.add(3),[4,fc(n)];case 1:return r.sent(),i&&n.Zc.set("Unknown"),[4,n.jc.s_(e)];case 2:return r.sent(),n.Hc.delete(3),[4,hc(n)];case 3:return r.sent(),[2]}}))}))}(e.Oh,n)}))})),t._f=e,[2]}}))}))}function Yh(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return t.ff?[3,2]:(lr("FirestoreClient","Using default OfflineComponentProvider"),[4,Qh(t,new Gl)]);case 1:e.sent(),e.label=2;case 2:return[2,t.ff]}}))}))}function Xh(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return t._f?[3,2]:(lr("FirestoreClient","Using default OnlineComponentProvider"),[4,Zh(t,new Kl)]);case 1:e.sent(),e.label=2;case 2:return[2,t._f]}}))}))}function Jh(t){return Yh(t).then((function(t){return t.persistence}))}function tf(t){return Yh(t).then((function(t){return t.Kc}))}function ef(t){return Xh(t).then((function(t){return t.Oh}))}function nf(t){return Xh(t).then((function(t){return t.gu}))}function rf(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,Xh(t)];case 1:return e=r.sent(),[2,((n=e.Mh).Ls=tl.bind(null,e.gu),n.Us=nl.bind(null,e.gu),n)]}}))}))}function of(t,e){var n=this,i=new Fs;return t.rs.fs((function(){return Object(r.b)(n,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=rl,[4,nf(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}}))}))})),i.promise}function sf(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t,e){var n=mr(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ga.Oi(t,e)}))}(t,e)];case 1:return(i=r.sent())instanceof rs?n.resolve(i):i instanceof is?n.resolve(null):n.reject(new Ir(xr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return o=r.sent(),s=na(o,"Failed to get document '"+e+" from cache"),n.reject(s),[3,3];case 3:return[2]}}))}))}function af(t,e,n,r,i){var o=new Ql({next:function(o){e.fs((function(){return sa(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Ir(xr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Ir(xr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new la(us(n.path),o,{includeMetadataChanges:!0,Hs:!0});return oa(t,s)}var uf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).yf=new ea,r.df="name"in e?e.name:"[DEFAULT]",r}return Object(r.c)(e,t),e.prototype.Vf=function(){return this.pf||Cf(this),this.pf.terminate()},e}(function(){function t(t,e){this.df="(lite)",this.wf=new dh({}),this.Tf=!1,t instanceof ar?(this.v_=t,this.Ef=new da):(this.If=t,this.v_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ir(xr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ar(t.options.projectId)}(t),this.Ef=new pa(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.If)throw new Ir(xr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.If},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mf",{get:function(){return this.Tf},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Af",{get:function(){return void 0!==this.Rf},enumerable:!1,configurable:!0}),t.prototype.Pf=function(t){if(this.Tf)throw new Ir(xr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.wf=new dh(t),void 0!==t.credentials&&(this.Ef=function(t){if(!t)return new da;switch(t.type){case"gapi":var e=t.client;return gr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ma(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Ir(xr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.gf=function(){return this.wf},t.prototype.k_=function(){return this.Tf=!0,this.wf},t.prototype._delete=function(){return this.Rf||(this.Rf=this.Vf()),this.Rf},t.prototype.Vf=function(){return function(t){var e=fh.get(t);e&&(lr("ComponentProvider","Removing Datastore"),fh.delete(t),e.terminate())}(this),Promise.resolve()},t}());function cf(t,e,n){var i=this,o=new Fs;return t.rs.enqueue((function(){return Object(r.b)(i,void 0,void 0,(function(){var i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,Qh(t,n)];case 1:return r.sent(),[4,Zh(t,e)];case 2:return r.sent(),o.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===xr.FAILED_PRECONDITION||t.code===xr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(i=r.sent()))throw i;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),o.reject(i),[3,4];case 4:return[2]}}))}))})).then((function(){return o.promise}))}function lf(t){if(t.mf||t.Af)throw new Ir(xr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var hf=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).S_=e,a.vf=e,a.metadata=o,a}return Object(r.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.N_){if(this.x_){var e=new ff(this.S_,this.D_,this.C_,this.N_,this.metadata,null);return this.x_.fromFirestore(e,t)}return this.D_.I_(this.N_.sn(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.N_){var n=this.N_.data().field(wh("DocumentSnapshot.get",t));if(null!==n)return this.D_.I_(n,e.serverTimestamps)}},e}(bh),ff=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(hf),df=function(){function t(t,e,n,r){this.S_=t,this.D_=e,this.bf=r,this.metadata=new Sf(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.bf.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.bf.docs.forEach((function(r){t.call(e,new ff(n.S_,n.D_,r.key,r,new Sf(n.bf.Qt.has(r.key),n.bf.fromCache),n.query.x_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.bf.Wt)throw new Ir(xr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Sf&&this.Df===e||(this.Sf=function(t,e){if(t.bf.Ut.T()){var n=0;return t.bf.docChanges.map((function(e){return{type:"added",doc:new ff(t.S_,t.D_,e.doc.key,e.doc,new Sf(t.bf.Qt.has(e.doc.key),t.bf.fromCache),t.query.x_),oldIndex:-1,newIndex:n++}}))}var r=t.bf.Ut;return t.bf.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new ff(t.S_,t.D_,e.doc.key,e.doc,new Sf(t.bf.Qt.has(e.doc.key),t.bf.fromCache),t.query.x_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:pf(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.Df=e),this.Sf},t}();function pf(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pr()}}function gf(t,e){return t instanceof hf&&e instanceof hf?t.S_===e.S_&&t.C_.isEqual(e.C_)&&(null===t.N_?null===e.N_:t.N_.isEqual(e.N_))&&t.x_===e.x_:t instanceof df&&e instanceof df&&t.S_===e.S_&&function(t,e){return t instanceof Th&&e instanceof Th&&t.firestore===e.firestore&&bs(t.M_,e.M_)&&t.x_===e.x_}(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.bf.isEqual(e.bf)}var mf=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(r.c)(e,t),e.prototype.R_=function(t){return new hh(t)},e.prototype.P_=function(t){var e=this.p_(t,this.firestore.v_);return new Ch(this.firestore,null,e)},e}(vh);function vf(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=eh(t.firestore,uf),s=xh(o);return e instanceof Zl&&(e=e.o_),yf(o,("string"==typeof e||e instanceof Eh?Dh(s,"updateDoc",t.C_,e,n,r):Ph(s,"updateDoc",t.C_,e)).L_(t.C_,Mo.exists(!0)))}function yf(t,e){return of(Ef(t),e)}function bf(t,e,n){var r=n.docs.get(e.C_),i=new mf(t);return new hf(t,i,e.C_,r,new Sf(n.hasPendingWrites,n.fromCache),e.x_)}var _f=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){lf(t);var n=Ef(t),r=t.k_(),i=new Kl;return cf(n,i,new $l(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){lf(t);var e=Ef(t),n=t.k_(),r=new Kl;return cf(e,r,new Wl(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.mf&&!t.Af)throw new Ir(xr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Fs;return t.yf.ys((function(){return Object(r.b)(e,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return Bs.kn()?[4,Bs.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Hu(t.v_,t.df))];case 1:return i.sent(),n.resolve(),[3,3];case 2:return e=i.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.o_)},t}(),wf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Cf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof ar||(i.Nf=e),i}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"v_",{get:function(){return this.o_.v_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.gf()),t)).merge,this.o_.Pf(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.gf().host&&fr("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.rs.enqueue((function(){return Object(r.b)(e,void 0,void 0,(function(){var e,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,Jh(t)];case 1:return e=r.sent(),[4,ef(t)];case 2:return n=r.sent(),[2,(e.da(!0),function(t){var e=mr(t);return e.Hc.delete(0),hc(e)}(n))]}}))}))}))}(Ef(this.o_))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.rs.enqueue((function(){return Object(r.b)(e,void 0,void 0,(function(){var e,n;return Object(r.d)(this,(function(i){switch(i.label){case 0:return[4,Jh(t)];case 1:return e=i.sent(),[4,ef(t)];case 2:return n=i.sent(),[2,(e.da(!1),function(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:return(e=mr(t)).Hc.add(0),[4,fc(e)];case 1:return n.sent(),e.Zc.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Ef(this.o_))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Jl("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Cf.enableMultiTabIndexedDbPersistence(this):this.Cf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Cf.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Fs;return t.rs.fs((function(){return Object(r.b)(e,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(r){switch(r.label){case 0:return e=cl,[4,nf(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Ef(this.o_))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){var n=this,i=Ef(t),o=wa(e)?e:{next:e},s=new Ql(o);return t.yf.fs((function(){return Object(r.b)(n,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=function(t,e){mr(t).$s.add(e),e.next()},[4,rf(i)];case 1:return t.apply(void 0,[e.sent(),s]),[2]}}))}))})),function(){s.r_(),t.yf.fs((function(){return Object(r.b)(n,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=function(t,e){mr(t).$s.delete(e)},[4,rf(i)];case 1:return t.apply(void 0,[e.sent(),s]),[2]}}))}))}))}}(this.o_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Nf)throw new Ir(xr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Nf},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){return Yl("Firestore.collection","path",t),Ef(this.o_),new Lf(Rr.k(t),this,null)},e.prototype.doc=function(t){return Yl("Firestore.doc","path",t),Ef(this.o_),xf.xf(Rr.k(t),this,null)},e.prototype.collectionGroup=function(t){if(Yl("Firestore.collectionGroup","collectionId",t),t.indexOf("/")>=0)throw new Ir(xr.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return Ef(this.o_),new Df(function(t){return new ss(Rr.$(),t)}(t),this,null)},e.prototype.runTransaction=function(t){var e=this;return function(t,e){var n=this,i=new Fs;return t.rs.fs((function(){return Object(r.b)(n,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,function(t){return Xh(t).then((function(t){return t.Wc}))}(t)];case 1:return n=r.sent(),new Wh(t.rs,n,e,i).run(),[2]}}))}))})),i.promise}(Ef(this.o_),(function(n){return t(new Tf(e,n))}))},e.prototype.batch=function(){return Ef(this.o_),new Of(this)},e}(Zl);function Ef(t){return t.pf||Cf(t),t.pf.lf(),t.pf}function Cf(t){var e=t.k_(),n=function(t,e,n){return new sr(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.v_,t.df,e);t.pf=new Kh(t.Ef,t.yf,n)}var Tf=function(){function t(t,e){this.S_=t,this.Ff=e,this.Of=xh(this.S_.o_)}return t.prototype.get=function(t){var e=this,n=Uf(0,t,this.S_),r=new yh(this.S_);return this.Ff.X_([n.C_]).then((function(t){if(!t||1!==t.length)return pr();var i=t[0];if(i instanceof is)return new Af(e.S_,new hf(e.S_.o_,r,n.C_,null,new Sf(!1,!1),n.x_));if(i instanceof rs)return new Af(e.S_,new hf(e.S_.o_,r,n.C_,i,new Sf(!1,!1),n.x_));throw pr()}))},t.prototype.set=function(t,e,n){var r=Uf(0,t,this.S_);n=Xl("Transaction.set",n);var i=Ff(r.x_,e,n),o=jh(this.Of,"Transaction.set",r.C_,i,null!==r.x_,n);return this.Ff.set(r.C_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Uf(0,t,this.S_);return e instanceof Zl&&(e=e.o_),o="string"==typeof e||e instanceof Eh?Dh(this.Of,"Transaction.update",s.C_,e,n,r):Ph(this.Of,"Transaction.update",s.C_,e),this.Ff.update(s.C_,o),this},t.prototype.delete=function(t){var e=Uf(0,t,this.S_);return this.Ff.delete(e.C_),this},t}(),Of=function(){function t(t){this.S_=t,this.Mf=[],this.kf=!1,this.Of=xh(this.S_.o_)}return t.prototype.set=function(t,e,n){this.$f();var r=Uf(0,t,this.S_);n=Xl("WriteBatch.set",n);var i=Ff(r.x_,e,n),o=jh(this.Of,"WriteBatch.set",r.C_,i,null!==r.x_,n);return this.Mf=this.Mf.concat(o.L_(r.C_,Mo.Ge())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.$f();var o,s=Uf(0,t,this.S_);return e instanceof Zl&&(e=e.o_),o="string"==typeof e||e instanceof Eh?Dh(this.Of,"WriteBatch.update",s.C_,e,n,r):Ph(this.Of,"WriteBatch.update",s.C_,e),this.Mf=this.Mf.concat(o.L_(s.C_,Mo.exists(!0))),this},t.prototype.delete=function(t){this.$f();var e=Uf(0,t,this.S_);return this.Mf=this.Mf.concat(new Yo(e.C_,Mo.Ge())),this},t.prototype.commit=function(){return this.$f(),this.kf=!0,this.Mf.length>0?of(Ef(this.S_.o_),this.Mf):Promise.resolve()},t.prototype.$f=function(){if(this.kf)throw new Ir(xr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),xf=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.D_=new yh(e),r}return Object(r.c)(e,t),e.xf=function(t,n,r){if(t.length%2!=0)throw new Ir(xr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.M()+" has "+t.length);return new e(n,new Ch(n.o_,r,new Pr(t)))},e.b_=function(t,n,r){return new e(n,new Ch(n.o_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Lf(this.o_.O_.S(),this.firestore,this.o_.x_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(Yl("DocumentReference.collection","path",t),!t)throw new Ir(xr.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=Rr.k(t);return new Lf(this.o_.O_.child(e),this.firestore,null)},e.prototype.isEqual=function(t){return t instanceof Zl&&(t=t.o_),t instanceof Ch&&(n=t,((e=this.o_)instanceof Ch||e instanceof Oh)&&(n instanceof Ch||n instanceof Oh)&&e.firestore===n.firestore&&e.path===n.path&&e.x_===n.x_);var e,n},e.prototype.set=function(t,e){e=Xl("DocumentReference.set",e);try{return function(t,e,n){var r=eh(t.firestore,uf),i=Ff(t.x_,e,n);return yf(r,jh(xh(r),"setDoc",t.C_,i,null!==t.x_,n).L_(t.C_,Mo.Ge()))}(this.o_,t,e)}catch(t){throw If(t,"setDoc","DocumentReference.set")}},e.prototype.update=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];try{return 1===arguments.length?vf(this.o_,t):vf.apply(void 0,Object(r.g)([this.o_,t,e],n))}catch(t){throw If(t,"updateDoc","DocumentReference.update")}},e.prototype.delete=function(){return yf(eh((t=this.o_).firestore,uf),[new Yo(t.C_,Mo.Ge())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!wa(r))return r}return{}}(e),o=function(e,n){var r,i,o;return{next:function(e){o.next&&o.next(function(e){return new Af(t.firestore,new hf(t.firestore.o_,t.D_,e.C_,e.N_,e.metadata,t.o_.x_))}(e))},error:null===(r=(o=wa(e[0])?e[0]:wa(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===r?void 0:r.bind(o),complete:null===(i=o.complete)||void 0===i?void 0:i.bind(o)}}(e);return function(t){for(var e,n,i,o=this,s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];var u={includeMetadataChanges:!1},c=0;"object"!=typeof s[c]||wa(s[c])||(u=s[c],c++);var l,h,f,d={includeMetadataChanges:u.includeMetadataChanges};if(wa(s[c])){var p=s[c];s[c]=null===(e=p.next)||void 0===e?void 0:e.bind(p),s[c+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),s[c+2]=null===(i=p.complete)||void 0===i?void 0:i.bind(p)}if(t instanceof Ch)h=eh(t.firestore,uf),f=us(t.C_.path),l={next:function(e){s[c]&&s[c](bf(h,t,e))},error:s[c+1],complete:s[c+2]};else{h=eh(t.firestore,uf),f=t.M_;var g=new mf(h);l={next:function(e){s[c]&&s[c](new df(h,g,t,e))},error:s[c+1],complete:s[c+2]},Pf(t.M_)}var m=Ef(h),v=new Ql(l),y=new la(f,v,d);return h.yf.fs((function(){return Object(r.b)(o,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=oa,[4,rf(m)];case 1:return[2,t.apply(void 0,[e.sent(),y])]}}))}))})),function(){v.r_(),h.yf.fs((function(){return Object(r.b)(o,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=sa,[4,rf(m)];case 1:return[2,t.apply(void 0,[e.sent(),y])]}}))}))}))}}(this.o_,i,o)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=eh(t.firestore,uf),i=Ef(n),o=new mf(n),s=new Fs;return n.yf.fs((function(){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return[4,tf(i)];case 1:return[4,sf(e.sent(),t.C_,s)];case 2:return e.sent(),[2]}}))}))})),s.promise.then((function(e){return new hf(n,o,t.C_,e,new Sf(e instanceof rs&&e.Je,!0),t.x_)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=eh(t.firestore,uf),i=Ef(n),o=new Fs;return n.yf.fs((function(){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return[4,rf(i)];case 1:return[4,af(e.sent(),n.yf,t.C_,{source:"server"},o)];case 2:return e.sent(),[2]}}))}))})),o.promise.then((function(e){return bf(n,t,e)}))}(this.o_):function(t){var e=this,n=eh(t.firestore,uf),i=Ef(n),o=new Fs;return n.yf.fs((function(){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return[4,rf(i)];case 1:return[4,af(e.sent(),n.yf,t.C_,{source:"default"},o)];case 2:return e.sent(),[2]}}))}))})),o.promise.then((function(e){return bf(n,t,e)}))}(this.o_)).then((function(t){return new Af(e.firestore,new hf(e.firestore.o_,e.D_,t.C_,t.N_,t.metadata,e.o_.x_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(Zl);function If(t,e,n){return t.message=t.message.replace(e+"()",n+"()"),t}var Sf=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Af=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).S_=e,r}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new xf(this.S_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.o_.data(t)},e.prototype.get=function(t,e){return this.o_.get(t,e)},e.prototype.isEqual=function(t){return gf(this.o_,t.o_)},e}(Zl),kf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.data=function(t){return this.o_.data(t)},e}(Af);function Rf(t,e,n){if(n instanceof Zl&&(n=n.o_),"string"==typeof n){if(""===n)throw new Ir(xr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ds(e)&&-1!==n.indexOf("/"))throw new Ir(xr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Rr.k(n));if(!Pr.G(r))throw new Ir(xr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Di(t,new Pr(r))}if(n instanceof Ch)return Di(t,n.C_);throw new Ir(xr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+th(n)+".")}function Nf(t,e){if(!Array.isArray(t)||0===t.length)throw new Ir(xr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Ir(xr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function jf(t,e,n){if(!n.isEqual(e))throw new Ir(xr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Pf(t){if(ls(t)&&0===t.rn.length)throw new Ir(xr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Df=function(){function t(t,e,n){this.M_=t,this.firestore=e,this.x_=n,this.Lf=xh(e.o_),this.D_=new yh(e)}return t.prototype.where=function(e,n,r){var i=qh("Query.where",e),o=function(t,e,n,r,i,o,s){var a;if(i.B()){if("array-contains"===o||"array-contains-any"===o)throw new Ir(xr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Nf(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Rf(r,t,l[c]));a={arrayValue:{values:u}}}else a=Rf(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Nf(s,o),a=Vh(n,"Query.where",s,"in"===o||"not-in"===o);var h=Ts.create(i,o,a);return function(t,e){if(e.cn()){var n=fs(t);if(null!==n&&!n.isEqual(e.field))throw new Ir(xr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=hs(t);null!==r&&jf(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Ir(xr.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(this.M_,0,this.Lf,this.firestore.v_,i,n,r);return new t(function(t,e){var n=t.filters.concat([e]);return new ss(t.path,t.collectionGroup,t.rn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(this.M_,o),this.firestore,this.x_)},t.prototype.orderBy=function(e,n){var r;if(void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new Ir(xr.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=qh("Query.orderBy",e),o=function(t,e,n){if(null!==t.startAt)throw new Ir(xr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ir(xr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ms(e,n);return function(t,e){if(null===hs(t)){var n=fs(t);null!==n&&jf(0,n,e.field)}}(t,r),r}(this.M_,i,r);return new t(function(t,e){var n=t.rn.concat([e]);return new ss(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(this.M_,o),this.firestore,this.x_)},t.prototype.limit=function(e){return nh("Query.limit",e),new t(ms(this.M_,e,"F"),this.firestore,this.x_)},t.prototype.limitToLast=function(e){return nh("Query.limitToLast",e),new t(ms(this.M_,e,"L"),this.firestore,this.x_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Bf("Query.startAt",e,n,!0);return new t(vs(this.M_,i),this.firestore,this.x_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Bf("Query.startAfter",e,n,!1);return new t(vs(this.M_,i),this.firestore,this.x_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Bf("Query.endBefore",e,n,!0);return new t(ys(this.M_,i),this.firestore,this.x_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Bf("Query.endAt",e,n,!1);return new t(ys(this.M_,i),this.firestore,this.x_)},t.prototype.isEqual=function(e){return e instanceof t&&this.firestore===e.firestore&&bs(this.M_,e.M_)&&this.x_===e.x_},t.prototype.withConverter=function(e){return new t(this.M_,this.firestore,e)},t.prototype.Bf=function(t,e,n,r){if(e instanceof Af)return function(t,e,n,r,i){if(!r)throw new Ir(xr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=ps(t);s<a.length;s++){var u=a[s];if(u.field.B())o.push(Di(e,r.key));else{var c=r.field(u.field);if(Ci(c))throw new Ir(xr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.M();throw new Ir(xr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new js(o,i)}(this.M_,this.firestore.v_,t,e.o_.N_,r);var i=[e].concat(n);return function(t,e,n,r,i,o){var s=t.rn;if(i.length>s.length)throw new Ir(xr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.B()){if("string"!=typeof c)throw new Ir(xr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!ds(t)&&-1!==c.indexOf("/"))throw new Ir(xr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Rr.k(c));if(!Pr.G(l))throw new Ir(xr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Pr(l);a.push(Di(e,h))}else{var f=Vh(n,r,c);a.push(f)}}return new js(a,o)}(this.M_,this.firestore.v_,this.Lf,t,i,r)},t.prototype.onSnapshot=function(){for(var t,e,n,i=this,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a={},u=0;if("object"!=typeof o[u]||wa(o[u])||(a=o[u],u++),wa(o[u])){var c=o[u];o[u]=null===(t=c.next)||void 0===t?void 0:t.bind(c),o[u+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),o[u+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}var l={next:function(t){o[u]&&o[u](new Mf(i.firestore,new df(i.firestore.o_,i.D_,new Th(i.firestore.o_,i.x_,i.M_),t)))},error:o[u+1],complete:o[u+2]};return Pf(this.M_),function(t,e,n,i){var o=this,s=new Ql(i),a=new la(e,s,n);return t.rs.fs((function(){return Object(r.b)(o,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:return e=oa,[4,rf(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){s.r_(),t.rs.fs((function(){return Object(r.b)(o,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:return e=sa,[4,rf(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(Ef(this.firestore.o_),this.M_,a,l)},t.prototype.get=function(t){var e=this;Pf(this.M_);var n=Ef(this.firestore.o_);return(t&&"cache"===t.source?function(t,e){var n=this,i=new Fs;return t.rs.fs((function(){return Object(r.b)(n,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(o){switch(o.label){case 0:return n=function(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,tc(t,e,!0)];case 1:return i=r.sent(),o=new Zc(e,i.Xa),s=o.gh(i.documents),a=o.bi(s,!1),n.resolve(a.snapshot),[3,3];case 2:return u=r.sent(),c=na(u,"Failed to execute query '"+e+" against cache"),n.reject(c),[3,3];case 3:return[2]}}))}))},[4,tf(t)];case 1:return[2,n.apply(void 0,[o.sent(),e,i])]}}))}))})),i.promise}(n,this.M_):function(t,e,n){var i=this;void 0===n&&(n={});var o=new Fs;return t.rs.fs((function(){return Object(r.b)(i,void 0,void 0,(function(){var i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return i=function(t,e,n,r,i){var o=new Ql({next:function(n){e.fs((function(){return sa(t,s)})),n.fromCache&&"server"===r.source?i.reject(new Ir(xr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new la(n,o,{includeMetadataChanges:!0,Hs:!0});return oa(t,s)},[4,rf(t)];case 1:return[2,i.apply(void 0,[r.sent(),t.rs,e,n,o])]}}))}))})),o.promise}(n,this.M_,t)).then((function(t){return new Mf(e.firestore,new df(e.firestore.o_,e.D_,new Th(e.firestore.o_,e.x_,e.M_),t))}))},t}(),Vf=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).S_=e,r}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new kf(this.S_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),e}(Zl),Mf=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).S_=e,r}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Df(this.o_.query.M_,this.S_,this.o_.query.x_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map((function(e){return new kf(t.S_,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map((function(t){return new Vf(e.S_,t)}))},e.prototype.forEach=function(t,e){var n=this;this.o_.forEach((function(r){t.call(e,new kf(n.S_,r))}))},e.prototype.isEqual=function(t){return gf(this.o_,t.o_)},e}(Zl),Lf=function(t){function e(e,n,r){var i=this;if((i=t.call(this,us(e),n,r)||this).O_=e,e.length%2!=1)throw new Ir(xr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.M()+" has "+e.length);return i}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.M_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.M_.path.S();return t.T()?null:xf.xf(t,this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.M_.path.M()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){0===arguments.length&&(t=yr.u()),Yl("CollectionReference.doc","path",t);var e=Rr.k(t);return xf.xf(this.M_.path.child(e),this.firestore,this.x_)},e.prototype.add=function(t){var e=this.x_?this.x_.toFirestore(t):t,n=this.doc();return xf.b_(n.o_.C_,this.firestore,null).set(e).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.O_,this.firestore,t)},e}(Df);function Uf(t,e,n){var r=eh(e,Ch);if(r.firestore!==n.o_)throw new Ir(xr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Ff(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var qf=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Eh.bind.apply(Eh,Object(r.g)([void 0],e))))||this}return Object(r.c)(e,t),e.documentId=function(){return new e(jr.q().M())},e.prototype.isEqual=function(t){return t instanceof Zl&&(t=t.o_),t instanceof Eh&&this.o_.F_.isEqual(t.F_)},e}(Zl),zf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.serverTimestamp=function(){var t=new sh("serverTimestamp");return t.a_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new ih("deleteField");return t.a_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ah("arrayUnion",t)}).apply(void 0,t);return r.a_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new uh("arrayRemove",t)}).apply(void 0,t);return r.a_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new ch("increment",t)}(t);return n.a_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e}(Zl),Bf={Firestore:wf,GeoPoint:lh,Timestamp:Sr,Blob:mh,Transaction:Tf,WriteBatch:Of,DocumentReference:xf,DocumentSnapshot:Af,Query:Df,QueryDocumentSnapshot:kf,QuerySnapshot:Mf,CollectionReference:Lf,FieldPath:qf,FieldValue:zf,setLogLevel:function(t){ur.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function Hf(t){!function(t,e){t.INTERNAL.registerComponent(new or.a("firestore",(function(t){return function(t,e){return new wf(t,new uf(t,e),new _f)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Bf)))}(t),t.registerVersion("@firebase/firestore","2.0.2")}Hf(i.a)},zIRd:function(t,e,n){"use strict";var r,i,o=n("os0x"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),d=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return u}),"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.d)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(s.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(s.g)(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var p=Object(o.h)(Object.keys(e)),g=p.next();!g.done;g=p.next())e[g.value]._addComponent(a)}catch(m){u={error:m}}finally{try{g&&!g.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.g)(e,t)},createSubscribe:s.e,ErrorFactory:s.b,deepExtend:s.g}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.i)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.n)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var y=p;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new g(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.13",void 0),t.registerVersion("fire-js","")}(y),e.a=y},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},u=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function c(t){return null!==t&&"object"==typeof t}const l=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(i))try{i.call(this)}catch(s){e=s instanceof l?f(s.errors):[s]}if(u(o)){let t=-1,n=o.length;for(;++t<n;){const n=o[t];if(c(n))try{n.unsubscribe()}catch(s){e=e||[],s instanceof l?e=e.concat(f(s.errors)):e.push(s)}}}if(e)throw new l(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function f(t){return t.reduce((t,e)=>t.concat(e instanceof l?e.errors:e),[])}const d=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[d](){return this}static create(t,e,n){const r=new p(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends p{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let s=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==a&&(s=Object.create(e),r(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function v(t){return t}let y=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof p)return t;if(t[d])return t[d]()}return t||e||n?new p(t,e,n):new p(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof p?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=b(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[m](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?v:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=b(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function b(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const _=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class w extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class E extends p{constructor(t){super(t),this.destination=t}}let C=(()=>{class t extends y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[d](){return new E(this)}lift(t){const e=new T(this,this);return e.operator=t,e}next(t){if(this.closed)throw new _;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new _;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new _;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new _;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new _;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new w(this,t))}asObservable(){const t=new y;return t.source=this,t}}return t.create=(t,e)=>new T(t,e),t})();class T extends C{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function O(t){return t&&"function"==typeof t.schedule}class x extends p{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const I=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function S(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const A=S(),k=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function R(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const N=t=>{if(t&&"function"==typeof t[m])return r=t,t=>{const e=r[m]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(k(t))return I(t);if(R(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,s),t);if(t&&"function"==typeof t[A])return e=t,t=>{const n=e[A]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,r};function j(t,e,n,r,i=new x(t,n,r)){if(!i.closed)return e instanceof y?e.subscribe(i):N(e)(i)}class P extends p{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function D(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new V(t,e))}}class V{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new M(t,this.project,this.thisArg))}}class M extends p{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function L(t,e){return new y(n=>{const r=new h;let i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}function U(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new y(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[m]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(R(t))return function(t,e){return new y(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(k(t))return L(t,e);if(function(t){return t&&"function"==typeof t[A]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new y(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[A](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof y?t:new y(N(t))}function F(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(F((n,r)=>U(t(n,r)).pipe(D((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new q(t,n)))}class q{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new z(t,this.project,this.concurrent))}}class z extends P{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new x(this,e,n),i=this.destination;i.add(r);const o=j(this,t,void 0,void 0,r);o!==r&&i.add(o)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function B(t=Number.POSITIVE_INFINITY){return F(v,t)}function H(t,e){return e?L(t,e):new y(I(t))}function G(){return function(t){return t.lift(new $(t))}}class ${constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new W(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class W extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class K extends y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new Z(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return G()(this)}}const Q=(()=>{const t=K.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Z extends E{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function Y(){return new C}function X(t){return{toString:t}.toString()}function J(t,e,n){return X(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const tt=J("Inject",t=>({token:t})),et=J("Optional"),nt=J("Self"),rt=J("SkipSelf");var it=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ot(t){for(let e in t)if(t[e]===ot)return e;throw Error("Could not find renamed property on target object.")}function st(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function at(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ut(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function ct(t){return lt(t,t[ft])||lt(t,t[gt])}function lt(t,e){return e&&e.token===t?e:null}function ht(t){return t&&(t.hasOwnProperty(dt)||t.hasOwnProperty(mt))?t[dt]:null}const ft=ot({"\u0275prov":ot}),dt=ot({"\u0275inj":ot}),pt=ot({"\u0275provFallback":ot}),gt=ot({ngInjectableDef:ot}),mt=ot({ngInjectorDef:ot});function vt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(vt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function yt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const bt=ot({__forward_ref__:ot});function _t(t){return t.__forward_ref__=_t,t.toString=function(){return vt(this())},t}function wt(t){return Et(t)?t():t}function Et(t){return"function"==typeof t&&t.hasOwnProperty(bt)&&t.__forward_ref__===_t}const Ct="undefined"!=typeof globalThis&&globalThis,Tt="undefined"!=typeof window&&window,Ot="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,xt="undefined"!=typeof global&&global,It=Ct||xt||Tt||Ot,St=ot({"\u0275cmp":ot}),At=ot({"\u0275dir":ot}),kt=ot({"\u0275pipe":ot}),Rt=ot({"\u0275mod":ot}),Nt=ot({"\u0275loc":ot}),jt=ot({"\u0275fac":ot}),Pt=ot({__NG_ELEMENT_ID__:ot});class Dt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=at({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const Vt=new Dt("INJECTOR",-1),Mt={},Lt=/\n/gm,Ut=ot({provide:String,useValue:ot});let Ft,qt=void 0;function zt(t){const e=qt;return qt=t,e}function Bt(t){const e=Ft;return Ft=t,e}function Ht(t,e=it.Default){if(void 0===qt)throw new Error("inject() must be called from an injection context");return null===qt?$t(t,void 0,e):qt.get(t,e&it.Optional?null:void 0,e)}function Gt(t,e=it.Default){return(Ft||Ht)(wt(t),e)}function $t(t,e,n){const r=ct(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&it.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${vt(t)}]`)}function Wt(t){const e=[];for(let n=0;n<t.length;n++){const r=wt(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=it.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof et||"Optional"===i.ngMetadataName||i===et?n|=it.Optional:i instanceof rt||"SkipSelf"===i.ngMetadataName||i===rt?n|=it.SkipSelf:i instanceof nt||"Self"===i.ngMetadataName||i===nt?n|=it.Self:t=i instanceof tt||i===tt?i.token:i}e.push(Gt(t,n))}else e.push(Gt(r))}return e}class Kt{get(t,e=Mt){if(e===Mt){const e=new Error(`NullInjectorError: No provider for ${vt(t)}!`);throw e.name="NullInjectorError",e}return e}}class Qt{}class Zt{}function Yt(t,e){t.forEach(t=>Array.isArray(t)?Yt(t,e):e(t))}function Xt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Jt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function te(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function ee(t,e,n){let r=re(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function ne(t,e){const n=re(t,e);if(n>=0)return t[1|n]}function re(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}var ie=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),oe=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const se={},ae=[];let ue=0;function ce(t){return X(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===ie.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||ae,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||oe.Emulated,id:"c",styles:t.styles||ae,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=ue++,n.inputs=pe(t.inputs,e),n.outputs=pe(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(le):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(he):null,n})}function le(t){return me(t)||function(t){return t[At]||null}(t)}function he(t){return function(t){return t[kt]||null}(t)}const fe={};function de(t){const e={type:t.type,bootstrap:t.bootstrap||ae,declarations:t.declarations||ae,imports:t.imports||ae,exports:t.exports||ae,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&X(()=>{fe[t.id]=t.type}),e}function pe(t,e){if(null==t)return se;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const ge=ce;function me(t){return t[St]||null}function ve(t,e){return t.hasOwnProperty(jt)?t[jt]:null}function ye(t,e){const n=t[Rt]||null;if(!n&&!0===e)throw new Error(`Type ${vt(t)} does not have '\u0275mod' property.`);return n}function be(t){return Array.isArray(t)&&"object"==typeof t[1]}function _e(t){return Array.isArray(t)&&!0===t[1]}function we(t){return 0!=(8&t.flags)}function Ee(t){return 2==(2&t.flags)}function Ce(t){return 1==(1&t.flags)}function Te(t){return null!==t.template}function Oe(t){return 0!=(512&t[2])}class xe{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Ie(){return Se}function Se(t){return t.type.prototype.ngOnChanges&&(t.setInput=ke),Ae}function Ae(){const t=Re(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===se)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function ke(t,e,n,r){const i=Re(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:se,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new xe(u&&u.currentValue,e,s===se),t[r]=e}function Re(t){return t.__ngSimpleChanges__||null}Ie.ngInherit=!0;let Ne=void 0;function je(){return void 0!==Ne?Ne:"undefined"!=typeof document?document:void 0}function Pe(t){return!!t.listen}const De={createRenderer:(t,e)=>je()};function Ve(t){for(;Array.isArray(t);)t=t[0];return t}function Me(t,e){return Ve(e[t+20])}function Le(t,e){return Ve(e[t.index])}function Ue(t,e){return t.data[e+20]}function Fe(t,e){const n=e[t];return be(n)?n:n[0]}function qe(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ze(t){return 4==(4&t[2])}function Be(t){return 128==(128&t[2])}function He(t,e){return null===t||null==e?null:t[e]}function Ge(t){t[18]=0}function $e(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const We={lFrame:gn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Ke(){return We.bindingsEnabled}function Qe(){return We.lFrame.lView}function Ze(){return We.lFrame.tView}function Ye(t){We.lFrame.contextLView=t}function Xe(){return We.lFrame.previousOrParentTNode}function Je(t,e){We.lFrame.previousOrParentTNode=t,We.lFrame.isParent=e}function tn(){return We.lFrame.isParent}function en(){We.lFrame.isParent=!1}function nn(){return We.checkNoChangesMode}function rn(t){We.checkNoChangesMode=t}function on(){return We.lFrame.bindingIndex++}function sn(t){const e=We.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function an(t,e){const n=We.lFrame;n.bindingIndex=n.bindingRootIndex=t,un(e)}function un(t){We.lFrame.currentDirectiveIndex=t}function cn(t){const e=We.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function ln(){return We.lFrame.currentQueryIndex}function hn(t){We.lFrame.currentQueryIndex=t}function fn(t,e){const n=pn();We.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function dn(t,e){const n=pn(),r=t[1];We.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function pn(){const t=We.lFrame,e=null===t?null:t.child;return null===e?gn(t):e}function gn(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function mn(){const t=We.lFrame;return We.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const vn=mn;function yn(){const t=mn();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function bn(){return We.lFrame.selectedIndex}function _n(t){We.lFrame.selectedIndex=t}function wn(){const t=We.lFrame;return Ue(t.tView,t.selectedIndex)}function En(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Cn(t,e,n){xn(t,e,3,n)}function Tn(t,e,n,r){(3&t[2])===n&&xn(t,e,n,r)}function On(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function xn(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(In(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function In(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}class Sn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function An(t,e,n){const r=Pe(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Rn(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function kn(t){return 3===t||4===t||6===t}function Rn(t){return 64===t.charCodeAt(0)}function Nn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||jn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function jn(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Pn(t){return-1!==t}function Dn(t){return 32767&t}function Vn(t){return t>>16}function Mn(t,e){let n=Vn(t),r=e;for(;n>0;)r=r[15],n--;return r}function Ln(t){return"string"==typeof t?t:null==t?"":""+t}function Un(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ln(t)}const Fn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(It))();function qn(t){return t instanceof Function?t():t}let zn=!0;function Bn(t){const e=zn;return zn=t,e}let Hn=0;function Gn(t,e){const n=Wn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,$n(r.data,t),$n(e,null),$n(r.blueprint,null));const i=Kn(t,e),o=t.injectorIndex;if(Pn(i)){const t=Dn(i),n=Mn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function $n(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Wn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function Kn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function Qn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Pt)&&(r=n[Pt]),null==r&&(r=n[Pt]=Hn++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function Zn(t,e,n,r=it.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Pt)?t[Pt]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){fn(e,t);try{const t=i();if(null!=t||r&it.Optional)return t;throw new Error(`No provider for ${Un(n)}!`)}finally{vn()}}else if("number"==typeof i){if(-1===i)return new rr(t,e);let o=null,s=Wn(t,e),a=-1,u=r&it.Host?e[16][6]:null;for((-1===s||r&it.SkipSelf)&&(a=-1===s?Kn(t,e):e[s+8],nr(r,!1)?(o=e[1],s=Dn(a),e=Mn(a,e)):s=-1);-1!==s;){a=e[s+8];const t=e[1];if(er(i,s,t.data)){const t=Xn(s,e,n,o,r,u);if(t!==Yn)return t}nr(r,e[1].data[s+8]===u)&&er(i,s,e)?(o=t,s=Dn(a),e=Mn(a,e)):s=-1}}}if(r&it.Optional&&void 0===i&&(i=null),0==(r&(it.Self|it.Host))){const t=e[9],o=Bt(void 0);try{return t?t.get(n,i,r&it.Optional):$t(n,i,r&it.Optional)}finally{Bt(o)}}if(r&it.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Un(n)}]`)}const Yn={};function Xn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Jn(a,s,n,null==r?Ee(a)&&zn:r!=s&&3===a.type,i&it.Host&&o===a);return null!==u?tr(e,s,u,a):Yn}function Jn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&Te(t)&&t.type===n)return u}return null}function tr(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Sn){const s=i;if(s.resolving)throw new Error("Circular dep for "+Un(o[n]));const a=Bn(s.canSeeViewProviders);let u;s.resolving=!0,s.injectImpl&&(u=Bt(s.injectImpl)),fn(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Se(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{s.injectImpl&&Bt(u),Bn(a),s.resolving=!1,vn()}}return i}function er(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function nr(t,e){return!(t&it.Self||t&it.Host&&e)}class rr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Zn(this._tNode,this._lView,t,void 0,e)}}function ir(t){const e=t;if(Et(t))return()=>{const t=ir(wt(e));return t?t():null};let n=ve(e);if(null===n){const t=ht(e);n=t&&t.factory}return n||null}function or(t){return X(()=>{const e=t.prototype.constructor,n=e[jt]||ir(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[jt]||ir(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function sr(t){return t.ngDebugContext}function ar(t){return t.ngOriginalError}function ur(t,...e){t.error(...e)}class cr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||ur}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?sr(t)?sr(t):this._findContext(ar(t)):null}_findOriginalError(t){let e=ar(t);for(;e&&ar(e);)e=ar(e);return e}}class lr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class hr extends lr{getTypeName(){return"HTML"}}class fr extends lr{getTypeName(){return"Style"}}class dr extends lr{getTypeName(){return"Script"}}class pr extends lr{getTypeName(){return"URL"}}class gr extends lr{getTypeName(){return"ResourceURL"}}function mr(t){return t instanceof lr?t.changingThisBreaksApplicationSecurity:t}function vr(t,e){const n=yr(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function yr(t){return t instanceof lr&&t.getTypeName()||null}let br=!0,_r=!1;function wr(){return _r=!0,br}class Er{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Cr{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Tr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Or=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function xr(t){return(t=String(t)).match(Tr)||t.match(Or)?t:(wr()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Ir(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Sr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Ar=Ir("area,br,col,hr,img,wbr"),kr=Ir("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Rr=Ir("rp,rt"),Nr=Sr(Rr,kr),jr=Sr(Ar,Sr(kr,Ir("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Sr(Rr,Ir("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Nr),Pr=Ir("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Dr=Ir("srcset"),Vr=Sr(Pr,Dr,Ir("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ir("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Mr=Ir("script,style,template");class Lr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!jr.hasOwnProperty(e))return this.sanitizedSomething=!0,!Mr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!Vr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Pr[o]&&(s=xr(s)),Dr[o]&&(r=s,s=(r=String(r)).split(",").map(t=>xr(t.trim())).join(", ")),this.buf.push(" ",e,'="',qr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();jr.hasOwnProperty(e)&&!Ar.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(qr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const Ur=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fr=/([^\#-~ |!])/g;function qr(t){return t.replace(/&/g,"&amp;").replace(Ur,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Fr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zr;function Br(t,e){let n=null;try{zr=zr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Er:new Cr(t)}(t);let r=e?String(e):"";n=zr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=zr.getInertBodyElement(r)}while(r!==o);const s=new Lr,a=s.sanitizeChildren(Hr(n)||n);return wr()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Hr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Hr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Gr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function $r(t){const e=function(){const t=Qe();return t&&t[12]}();return e?e.sanitize(Gr.HTML,t)||"":vr(t,"HTML")?mr(t):Br(je(),Ln(t))}function Wr(t,e){t.__ngContext__=e}function Kr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function Qr(){throw new Error("Cannot mix multi providers and regular providers")}function Zr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function Yr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Zr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Xr(t){return 0===t.type&&"ng-template"!==t.tagName}function Jr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function ti(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(kn(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Jr(t,u,n)||""===u&&1===e.length){if(ei(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Yr(t.attrs,c,n)){if(ei(r))return!1;s=!0}continue}const l=ni(8&r?"class":u,i,Xr(t),n);if(-1===l){if(ei(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Zr(e,c,0)||2&r&&c!==t){if(ei(r))return!1;s=!0}}}}else{if(!s&&!ei(r)&&!ei(u))return!1;if(s&&ei(u))continue;s=!1,r=u|1&r}}return ei(r)||s}function ei(t){return 0==(1&t)}function ni(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ri(t,e,n=!1){for(let r=0;r<e.length;r++)if(ti(t,e[r],n))return!0;return!1}function ii(t,e){return t?":not("+e.trim()+")":e}function oi(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||ei(s)||(e+=ii(o,i),i=""),r=s,o=o||!ei(r);n++}return""!==i&&(e+=ii(o,i)),e}const si={};function ai(t){const e=t[3];return _e(e)?e[3]:e}function ui(t){return li(t[13])}function ci(t){return li(t[4])}function li(t){for(;null!==t&&!_e(t);)t=t[4];return t}function hi(t){fi(Ze(),Qe(),bn()+t,nn())}function fi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Cn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Tn(e,r,0,n)}_n(n)}function di(t,e){return t<<17|e<<2}function pi(t){return t>>17&32767}function gi(t){return 2|t}function mi(t){return(131068&t)>>2}function vi(t,e){return-131069&t|e<<2}function yi(t){return 1|t}function bi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];hn(i),n.contentQueries(2,e[o],o)}}}function _i(t,e,n){return Pe(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function wi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ge(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Ei(t,e,n,r,i,o){const s=n+20,a=t.data[s]||function(t,e,n,r,i,o){const s=Xe(),a=tn(),u=a?s:s&&s.parent,c=t.data[n]=ji(0,u&&u!==e?u:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=c),s&&(!a||null!=s.child||null===c.parent&&2!==s.type?a||(s.next=c):s.child=c),c}(t,e,s,r,i,o);return Je(a,!0),a}function Ci(t,e,n){dn(e,e[6]);try{const r=t.viewQuery;null!==r&&eo(1,r,n);const i=t.template;null!==i&&xi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&bi(t,e),t.staticViewQueries&&eo(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Zi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,yn()}}function Ti(t,e,n,r){const i=e[2];if(256==(256&i))return;dn(e,e[6]);const o=nn();try{Ge(e),We.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&xi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Cn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Tn(e,n,0,null),On(e,0)}if(function(t){for(let e=ui(t);null!==e;e=ci(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&$e(r,1),n[2]|=1024}}}(e),function(t){for(let e=ui(t);null!==e;e=ci(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];Be(n)&&Ti(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&bi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Cn(e,n)}else{const n=t.contentHooks;null!==n&&Tn(e,n,1),On(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,_n(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(an(r,i),s(2,e[i])),i++)}}}finally{_n(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Qi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&eo(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Cn(e,n)}else{const n=t.viewHooks;null!==n&&Tn(e,n,2),On(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,$e(e[3],-1))}finally{yn()}}function Oi(t,e,n,r){const i=e[10],o=!nn(),s=ze(e);try{o&&!s&&i.begin&&i.begin(),s&&Ci(t,e,r),Ti(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function xi(t,e,n,r,i){const o=bn();try{_n(-1),2&r&&e.length>20&&fi(t,e,0,nn()),n(r,i)}finally{_n(o)}}function Ii(t,e,n){if(we(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Si(t,e,n){Ke()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Gn(n,e),Wr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=Te(r);o&&Gi(e,n,r);const u=tr(e,t,a,n);Wr(u,e),null!==s&&$i(0,a-i,u,r,0,s),o&&(Fe(n.index,e)[8]=u)}}(t,e,n,Le(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-20,u=We.lFrame.currentDirectiveIndex;try{_n(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];un(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?Ui(r,i):s&&o.push(null)}}finally{_n(-1),un(u)}}(t,e,n))}function Ai(t,e,n=Le){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function ki(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ri(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ri(t,e,n,r,i,o,s,a,u,c){const l=20+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:si);return n}(l,h);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:a,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function Ni(t,e,n,r){const i=ro(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function ji(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Pi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Di(t,e,n,r,i,o,s,a){const u=Le(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(oo(t,n,c,r,i),Ee(e)&&function(t,e){const n=Fe(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.tagName||"",r):i,Pe(o)?o.setProperty(u,r,i):Rn(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Vi(t,e,n,r){let i=!1;if(Ke()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ri(n,s.selectors,!1)&&(i||(i=[]),Qn(Gn(n,e),t,s.type),Te(s)?(2&n.flags&&Kr(n),qi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,Bi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}Fi(t,n,o.length);let a=!1,u=!1;for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Nn(n.mergedAttrs,c.hostAttrs),Hi(t,e,c),zi(t.data.length-1,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),a=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),u=!0),Mi(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Xr(e)?null:Wi(n,i);o.push(c),s=Pi(n,u,s),a=Pi(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),Li(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Nn(n.mergedAttrs,n.attrs),i}function Mi(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Li(t,e,n){for(let r=0;r<n;r++)e.push(si),t.blueprint.push(si),t.data.push(null)}function Ui(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Fi(t,e,n){const r=20-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function qi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function zi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Te(e)&&(n[""]=t)}}function Bi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Hi(t,e,n){t.data.push(n);const r=n.factory||(n.factory=ve(n.type)),i=new Sn(r,Te(n),null);t.blueprint.push(i),e.push(i)}function Gi(t,e,n){const r=Le(e,t),i=ki(n),o=t[10],s=Yi(t,wi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=s}function $i(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Wi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ki(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Qi(t,e){const n=Fe(e,t);if(Be(n)){const t=n[1];80&n[2]?Ti(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=ui(e);null!==r;r=ci(r))for(let e=10;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Ti(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Fe(n[r],e);Be(i)&&i[5]>0&&t(i)}}(n)}}function Zi(t,e){const n=Fe(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ci(r,n,n[8])}function Yi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Xi(t){for(;t;){t[2]|=64;const e=ai(t);if(Oe(t)&&!e)return t;t=e}return null}function Ji(t,e,n){const r=e[10];r.begin&&r.begin();try{Ti(t,e,t.template,n)}catch(i){throw io(e,i),i}finally{r.end&&r.end()}}function to(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=qe(n),i=r[1];Oi(i,r,i.template,n)}}(t[8])}function eo(t,e,n){hn(0),e(t,n)}const no=(()=>Promise.resolve(null))();function ro(t){return t[7]||(t[7]=[])}function io(t,e){const n=t[9],r=n?n.get(cr,null):null;r&&r.handleError(e)}function oo(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function so(t,e,n){const r=Me(e,t),i=t[11];Pe(i)?i.setValue(r,n):r.textContent=n}function ao(t,e){const n=e[3];return-1===t.index?_e(n)?n:null:n}function uo(t,e){const n=ao(t,e);return n?wo(e[11],n[7]):null}function co(t,e,n,r,i){if(null!=r){let o,s=!1;_e(r)?o=r:be(r)&&(s=!0,r=r[0]);const a=Ve(r);0===t&&null!==n?null==i?bo(e,n,a):yo(e,n,a,i||null):1===t&&null!==n?yo(e,n,a,i||null):2===t?function(t,e,n){const r=wo(t,e);r&&function(t,e,n,r){Pe(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Ve(n)&&co(e,t,r,o,i);for(let s=10;s<n.length;s++){const i=n[s];xo(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function lo(t,e,n,r){const i=uo(t.node,e);i&&xo(t,e,e[11],n?1:2,i,r)}function ho(t,e){const n=t[9],r=n.indexOf(e);1024&e[2]&&$e(e[3],-1),n.splice(r,1)}function fo(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&ho(i,r),e>0&&(t[n-1][4]=r[4]);const o=Jt(t,10+e);lo(r[1],r,!1,null);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function po(t,e){if(!(256&e[2])){const n=e[11];Pe(n)&&n.destroyNode&&xo(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return mo(t[1],t);for(;e;){let n=null;if(be(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)be(e)&&mo(e[1],e),e=go(e,t);null===e&&(e=t),be(e)&&mo(e[1],e),n=e&&e[4]}e=n}}(e)}}function go(t,e){let n;return be(t)&&(n=t[6])&&2===n.type?ao(n,t):t[3]===e?null:t[3]}function mo(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Sn)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):Ve(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Pe(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&_e(e[3])){r!==e[3]&&ho(r,e);const n=e[19];null!==n&&n.detachView(t)}}}function vo(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?uo(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Le(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==oe.ShadowDom&&n!==oe.Native)return null}return Le(r,n)}function yo(t,e,n,r){Pe(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function bo(t,e,n){Pe(t)?t.appendChild(e,n):e.appendChild(n)}function _o(t,e,n,r){null!==r?yo(t,e,n,r):bo(t,e,n)}function wo(t,e){return Pe(t)?t.parentNode(e):e.parentNode}function Eo(t,e){if(2===t.type){const n=ao(t,e);return null===n?null:To(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Le(t,e):null}function Co(t,e,n,r){const i=vo(t,r,e);if(null!=i){const t=e[11],o=Eo(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)_o(t,i,n[e],o);else _o(t,i,n,o)}}function To(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return Le(n,e);if(0===r)return To(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return _e(t)?To(-1,t):Ve(t)}}{const r=e[16],i=r[6],o=ai(r),s=i.projection[n.projection];return null!=s?t(o,s):t(e,n.next)}}return null}(t,r)}return e[7]}function Oo(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;s&&0===e&&(a&&Wr(Ve(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Oo(t,e,n.child,r,i,o,!1),co(e,t,i,a,o)):1===u?Io(t,e,r,n,i,o):co(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function xo(t,e,n,r,i,o){Oo(n,r,t.node.child,e,i,o,!1)}function Io(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)co(e,t,i,a[u],o);else Oo(t,e,a,s[3],i,o,!0)}function So(t,e,n){Pe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Ao(t,e,n){Pe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class ko{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(Ve(s)),_e(s))for(let e=10;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6].projection[r.projection];if(Array.isArray(o))i.push(...o);else{const n=ai(e);t(n[1],n,o,i,!0)}}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}po(this._lView[1],this._lView)}onDestroy(t){Ni(this._lView[1],this._lView,null,t)}markForCheck(){Xi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ji(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){rn(!0);try{Ji(t,e,n)}finally{rn(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,xo(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ro extends ko{constructor(t){super(t),this._view=t}detectChanges(){to(this._view)}checkNoChanges(){!function(t){rn(!0);try{to(t)}finally{rn(!1)}}(this._view)}get context(){return null}}let No,jo,Po;function Do(t,e,n){return No||(No=class extends t{}),new No(Le(e,n))}function Vo(t,e,n,r){return jo||(jo=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=wi(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ci(e,n,t),new ko(n)}}),0===n.type?new jo(r,n,Do(e,n,r)):null}function Mo(t,e,n,r){let i;Po||(Po=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Do(e,this._hostTNode,this._hostView)}get injector(){return new rr(this._hostTNode,this._hostView)}get parentInjector(){const t=Kn(this._hostTNode,this._hostView),e=Mn(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=Vn(t),i=e,o=e[6];for(;r>1;)i=i[15],o=i[6],r--;return o}(t,this._hostView,this._hostTNode);return Pn(t)&&null!=n?new rr(n,e):new rr(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Qt,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),_e(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Po(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],Xt(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),lo(r,n,!0,To(i,this._lContainer)),t.attachToViewContainerRef(this),Xt(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=fo(this._lContainer,e);n&&(Jt(this._lContainer[8],e),po(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=fo(this._lContainer,e);return n&&null!=Jt(this._lContainer[8],e)?new ko(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(_e(o))i=o;else{let t;if(4===n.type)t=Ve(o);else if(t=r[11].createComment(""),Oe(r)){const e=r[11],i=Le(n,r);yo(e,wo(e,i),t,function(t,e){return Pe(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Co(r[1],r,t,n);r[n.index]=i=Ki(o,r,t,n),Yi(r,i)}return new Po(i,n,r)}let Lo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Uo(),t})();const Uo=function(t=!1){return function(t,e,n){if(!n&&Ee(t)){const n=Fe(t.index,e);return new ko(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new ko(e[16],e):null}(Xe(),Qe(),t)},Fo=Function,qo=new Dt("Set Injector scope."),zo={},Bo={},Ho=[];let Go=void 0;function $o(){return void 0===Go&&(Go=new Kt),Go}function Wo(t,e=null,n=null,r){return new Ko(t,n,e||$o(),r)}class Ko{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Yt(e,n=>this.processProvider(n,t,e)),Yt([t],t=>this.processInjectorType(t,[],i)),this.records.set(Vt,Yo(void 0,this));const o=this.records.get(qo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:vt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Mt,n=it.Default){this.assertNotDestroyed();const r=zt(this);try{if(!(n&it.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Dt)&&ct(t);e=n&&this.injectableDefInScope(n)?Yo(Qo(t),zo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&it.Self?$o():this.parent).get(t,e=n&it.Optional&&e===Mt?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(vt(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=vt(e);if(Array.isArray(e))i=e.map(vt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):vt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Lt,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{zt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(vt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=wt(t)))return!1;let r=ht(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=ht(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{Yt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Yt(r,t=>this.processProvider(t,n,r||Ho))}}this.injectorDefTypes.add(o),this.records.set(o,Yo(r.factory,zo));const a=r.providers;if(null!=a&&!s){const e=t;Yt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Jo(t=wt(t))?t:wt(t&&t.provide);const i=function(t,e,n){return Xo(t)?Yo(void 0,t.useValue):Yo(Zo(t,e,n),zo)}(t,e,n);if(Jo(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&Qr()}else{let e=this.records.get(r);e?void 0===e.multi&&Qr():(e=Yo(void 0,zo,!0),e.factory=()=>Wt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Bo?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(vt(t)):e.value===zo&&(e.value=Bo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Qo(t){const e=ct(t),n=null!==e?e.factory:ve(t);if(null!==n)return n;const r=ht(t);if(null!==r)return r.factory;if(t instanceof Dt)throw new Error(`Token ${vt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=te(e,"?");throw new Error(`Can't resolve all parameters for ${vt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[ft]||t[gt]||t[pt]&&t[pt]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Zo(t,e,n){let r=void 0;if(Jo(t)){const e=wt(t);return ve(e)||Qo(e)}if(Xo(t))r=()=>wt(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Wt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Gt(wt(t.useExisting));else{const i=wt(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${vt(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return ve(i)||Qo(i);r=()=>new i(...Wt(t.deps))}var i;return r}function Yo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Xo(t){return null!==t&&"object"==typeof t&&Ut in t}function Jo(t){return"function"==typeof t}const ts=function(t,e,n){return function(t,e=null,n=null,r){const i=Wo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let es=(()=>{class t{static create(t,e){return Array.isArray(t)?ts(t,e,""):ts(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Mt,t.NULL=new Kt,t.\u0275prov=at({token:t,providedIn:"any",factory:()=>Gt(Vt)}),t.__NG_ELEMENT_ID__=-1,t})();const ns=new Dt("AnalyzeForEntryComponents");function rs(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=yt(i,t):2==o&&(r=yt(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}let is=null;function os(){if(!is){const t=It.Symbol;if(t&&t.iterator)is=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(is=n)}}}return is}function ss(t){return!!as(t)&&(Array.isArray(t)||!(t instanceof Map)&&os()in t)}function as(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function us(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function cs(t,e,n,r){const i=Qe();return us(i,on(),e)&&(Ze(),function(t,e,n,r,i,o){const s=Le(t,e),a=e[11];if(null==r)Pe(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?Ln(r):i(r,t.tagName||"",n);Pe(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}(wn(),i,t,e,n,r)),cs}function ls(t,e,n,r,i,o,s,a){const u=Qe(),c=Ze(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Ei(e,n[6],t,0,s||null,He(c,a));Vi(e,n,l,He(c,u)),En(e,l);const h=l.tViews=Ri(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=ji(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,s):c.data[l];Je(h,!1);const f=u[11].createComment("");Co(c,u,f,h),Wr(f,u),Yi(u,u[l]=Ki(f,u,f,h)),Ce(h)&&Si(c,u,h),null!=s&&Ai(u,h,a)}function hs(t,e=it.Default){const n=Qe();return null==n?Gt(t,e):Zn(Xe(),n,wt(t),e)}function fs(t,e,n){const r=Qe();return us(r,on(),e)&&Di(Ze(),wn(),r,t,e,r[11],n,!1),fs}function ds(t,e,n,r,i){const o=i?"class":"style";oo(t,n,e.inputs[o],o,r)}function ps(t,e,n,r){const i=Qe(),o=Ze(),s=20+t,a=i[11],u=i[s]=_i(e,a,We.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=He(a,o),c=Ei(e,n[6],t,3,i,u);return Vi(e,n,c,He(a,s)),null!==c.attrs&&rs(c,c.attrs,!1),null!==c.mergedAttrs&&rs(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[s];Je(c,!0);const l=c.mergedAttrs;null!==l&&An(a,u,l);const h=c.classes;null!==h&&Ao(a,u,h);const f=c.styles;null!==f&&So(a,u,f),Co(o,i,u,c),0===We.lFrame.elementDepthCount&&Wr(u,i),We.lFrame.elementDepthCount++,Ce(c)&&(Si(o,i,c),Ii(o,c,i)),null!==r&&Ai(i,c)}function gs(){let t=Xe();tn()?en():(t=t.parent,Je(t,!1));const e=t;We.lFrame.elementDepthCount--;const n=Ze();n.firstCreatePass&&(En(n,t),we(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&ds(n,e,Qe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&ds(n,e,Qe(),e.stylesWithoutHost,!1)}function ms(t,e,n,r){ps(t,e,n,r),gs()}function vs(){return Qe()}function ys(t){return!!t&&"function"==typeof t.then}function bs(t){return!!t&&"function"==typeof t.subscribe}function _s(t,e,n=!1,r){const i=Qe(),o=Ze(),s=Xe();return function(t,e,n,r,i,o,s=!1,a){const u=Ce(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=ro(e);let h=!0;if(3===r.type){const f=Le(r,e),d=a?a(f):se,p=d.target||f,g=l.length,m=a?t=>a(Ve(t[r.index])).target:r.index;if(Pe(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Es(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=Es(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),_s}function ws(t,e,n){try{return!1!==e(n)}catch(r){return io(t,r),!1}}function Es(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Fe(t.index,e):e;0==(32&e[2])&&Xi(s);let a=ws(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=ws(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Cs(t=1){return function(t){return(We.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,We.lFrame.contextLView))[8]}(t)}const Ts=[];function Os(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?pi(o):mi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];xs(t[a],e)&&(u=!0,t[a+1]=r?yi(n):gi(n)),a=r?pi(n):mi(n)}u&&(t[n+1]=r?gi(o):yi(o))}function xs(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&re(t,e)>=0}const Is={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ss(t){return t.substring(Is.key,Is.keyEnd)}function As(t,e){const n=Is.textEnd;return n===e?-1:(e=Is.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Is.key=e,n),ks(t,e,n))}function ks(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Rs(t,e,n){return Ds(t,e,n,!1),Rs}function Ns(t,e){return Ds(t,e,null,!0),Ns}function js(t){!function(t,e,n,r){const i=Ze(),o=sn(2);i.firstUpdatePass&&Ms(i,null,o,!0);const s=Qe();if(n!==si&&us(s,o,n)){const r=i.data[bn()+20];if(Bs(r,!0)&&!Vs(i,o)){let t=r.classesWithoutHost;null!==t&&(n=yt(t,n||"")),ds(i,r,s,n,!0)}else!function(t,e,n,r,i,o,s,a){i===si&&(i=Ts);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const s=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0;let d=null,p=void 0;l===h?(u+=2,c+=2,s!==f&&(d=h,p=f)):null===h||null!==l&&l<h?(u+=2,d=l):(c+=2,d=h,p=f),null!==d&&Fs(t,e,n,r,d,p,!0,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,r,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return Ts;const r=[],i=mr(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,o)}}(ee,Ps,t)}function Ps(t,e){for(let n=function(t){return function(t){Is.key=0,Is.keyEnd=0,Is.value=0,Is.valueEnd=0,Is.textEnd=t.length}(t),As(t,ks(t,0,Is.textEnd))}(e);n>=0;n=As(e,n))ee(t,Ss(e),!0)}function Ds(t,e,n,r){const i=Qe(),o=Ze(),s=sn(2);o.firstUpdatePass&&Ms(o,t,s,r),e!==si&&us(i,s,e)&&Fs(o,o.data[bn()+20],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=vt(mr(t)))),t}(e,n),r,s)}function Vs(t,e){return e>=t.expandoStartIndex}function Ms(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[bn()+20],s=Vs(t,n);Bs(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=cn(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Us(n=Ls(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Ls(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==mi(r))return t[pi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Ls(null,t,e,n[1],r),n=Us(n,e.attrs,r),function(t,e,n,r){t[pi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Us(r,t[o].hostAttrs,n);return Us(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=pi(s),u=mi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||re(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=pi(t[a+1]);t[r+1]=di(e,a),0!==e&&(t[e+1]=vi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=di(a,0),0!==a&&(t[a+1]=vi(t[a+1],r)),a=r;else t[r+1]=di(u,0),0===a?a=r:t[u+1]=vi(t[u+1],r),u=r;l&&(t[r+1]=gi(t[r+1])),Os(t,c,r,!0),Os(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&re(o,e)>=0&&(n[r+1]=yi(n[r+1]))}(e,c,t,r,o),s=di(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function Ls(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Us(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Us(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ee(t,s,!!n||e[++o]))}return void 0===t?null:t}function Fs(t,e,n,r,i,o,s,a){if(3!==e.type)return;const u=t.data,c=u[a+1];zs(1==(1&c)?qs(u,e,n,i,mi(c),s):void 0)||(zs(o)||function(t){return 2==(2&t)}(c)&&(o=qs(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Pe(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,e):n.style.removeProperty(r):o?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,s,Me(bn(),n),i,o))}function qs(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===si&&(l=c?Ts:void 0);let h=c?ne(l,r):u===r?l:void 0;if(o&&!zs(h)&&(h=ne(e,r)),zs(h)&&(a=h,s))return a;const f=t[i+1];i=s?pi(f):mi(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=ne(t,r))}return a}function zs(t){return void 0!==t}function Bs(t,e){return 0!=(t.flags&(e?16:32))}function Hs(t,e=""){const n=Qe(),r=Ze(),i=t+20,o=r.firstCreatePass?Ei(r,n[6],t,3,null,null):r.data[i],s=n[i]=function(t,e){return Pe(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Co(r,n,s,o),Je(o,!1)}function Gs(t){return $s("",t,""),Gs}function $s(t,e,n){const r=Qe(),i=function(t,e,n,r){return us(t,on(),n)?e+Ln(n)+r:si}(r,t,e,n);return i!==si&&so(r,bn(),i),$s}function Ws(t,e,n,r,i){const o=Qe(),s=function(t,e,n,r,i,o){const s=function(t,e,n,r){const i=us(t,e,n);return us(t,e+1,r)||i}(t,We.lFrame.bindingIndex,n,i);return sn(2),s?e+Ln(n)+r+Ln(i)+o:si}(o,t,e,n,r,i);return s!==si&&so(o,bn(),s),Ws}function Ks(t,e,n){const r=Qe();if(us(r,on(),e)){const i=Ze(),o=wn();Di(i,o,r,t,e,function(t,e,n){return(null===t||Te(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}(cn(i.data),o,r),n,!0)}return Ks}function Qs(t,e){const n=qe(t)[1],r=n.data.length-1;En(n,{directiveStart:r,directiveEnd:r+1})}function Zs(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Te(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Ys(t.inputs),e.declaredInputs=Ys(t.declaredInputs),e.outputs=Ys(t.outputs);const n=i.hostBindings;n&&ta(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Xs(t,o),s&&Js(t,s),st(t.inputs,i.inputs),st(t.declaredInputs,i.declaredInputs),st(t.outputs,i.outputs),Te(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Zs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Nn(i.hostAttrs,n=Nn(n,i.hostAttrs))}}(r)}function Ys(t){return t===se?{}:t===ae?[]:t}function Xs(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Js(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function ta(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}function ea(t,e,n,r,i){if(t=wt(t),Array.isArray(t))for(let o=0;o<t.length;o++)ea(t[o],e,n,r,i);else{const o=Ze(),s=Qe();let a=Jo(t)?t:wt(t.provide),u=Zo(t);const c=Xe(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(Jo(t)||!t.multi){const r=new Sn(u,i,hs),d=ia(a,e,i?l:l+f,h);-1===d?(Qn(Gn(c,s),o,a),na(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=ia(a,e,l+f,h),p=ia(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){Qn(Gn(c,s),o,a);const l=function(t,e,n,r,i){const o=new Sn(t,n,hs);return o.multi=[],o.index=e,o.componentProviders=0,ra(o,i,r&&!n),o}(i?sa:oa,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),na(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else na(o,t,d>-1?d:p,ra(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function na(t,e,n,r){const i=Jo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function ra(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ia(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function oa(t,e,n,r){return aa(this.multi,[])}function sa(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=tr(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),aa(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],aa(i,o);return o}function aa(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ua(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Ze();if(r.firstCreatePass){const i=Te(t);ea(n,r.data,r.blueprint,i,!0),ea(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class ca{}class la{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${vt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let ha=(()=>{class t{}return t.NULL=new la,t})(),fa=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>da(t),t})();const da=function(t){return Do(t,Xe(),Qe())};class pa{}var ga=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let ma=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>va(),t})();const va=function(){const t=Qe(),e=Fe(Xe().index,t);return function(t){const e=t[11];if(Pe(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(be(e)?e:t)};let ya=(()=>{class t{}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>null}),t})();class ba{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const _a=new ba("10.0.14");class wa{constructor(){}supports(t){return ss(t)}create(t){return new Ca(t)}}const Ea=(t,e)=>e;class Ca{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ea}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Ia(n,r,i)?e:n,s=Ia(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ss(t))throw new Error(`Error trying to diff '${vt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[os()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Ta(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new xa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ta{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Oa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class xa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Oa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ia(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Sa{constructor(){}supports(t){return t instanceof Map||as(t)}create(){return new Aa}}class Aa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||as(t)))throw new Error(`Error trying to diff '${vt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ka(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ka{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Ra=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new rt,new et]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>new t([new wa])}),t})(),Na=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new rt,new et]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>new t([new Sa])}),t})();const ja=[new Sa],Pa=new Ra([new wa]),Da=new Na(ja);let Va=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ma(t,fa),t})();const Ma=function(t,e){return Vo(t,e,Xe(),Qe())};let La=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ua(t,fa),t})();const Ua=function(t,e){return Mo(t,e,Xe(),Qe())},Fa={};class qa extends ha{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=me(t);return new Ha(e,this.ngModule)}}function za(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ba=new Dt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Fn});class Ha extends ca{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(oi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return za(this.componentDef.inputs)}get outputs(){return za(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Fa,i);return o!==Fa||r===Fa?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(pa,De),s=i.get(ya,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Pe(t))return t.selectRootElement(e,n===oe.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):_i(u,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Fn,clean:no,playerHandler:null,flags:0},f=Ri(0,-1,null,1,0,null,null,null,null,null),d=wi(null,f,h,l,null,null,o,a,s,i);let p,g;dn(d,null);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Ei(s,null,0,3,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(rs(a,u,!0),null!==t&&(An(i,t,u),null!==a.classes&&Ao(i,t,a.classes),null!==a.styles&&So(i,t,a.styles)));const c=r.createRenderer(t,e),l=wi(n,ki(e),null,e.onPush?64:16,n[20],a,r,c,void 0);return s.firstCreatePass&&(Qn(Gn(a,n),s,e.type),qi(s,a),Bi(a,n.length,1)),Yi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)An(a,c,["ng-version",_a.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ei(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&An(a,c,t),e&&e.length>0&&Ao(a,c,e.join(" "))}if(g=Ue(f,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Xe();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Fi(t,r,1),Hi(t,e,n));const i=tr(e,t,e.length-1,r);Wr(i,e);const o=Le(r,e);return o&&Wr(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=Xe();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){_n(a.index-20);const t=n[1];Mi(t,e),Li(t,n,e.hostVars),Ui(e,s)}return s}(t,this.componentDef,d,h,[Qs]),Ci(f,d,null)}finally{yn()}const m=new Ga(this.componentType,p,Do(fa,g,d),d,g);return f.node.child=g,m}}class Ga extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Ro(r),function(t,e,n,r){let i=t.node;null==i&&(t.node=i=ji(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new rr(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const $a=void 0;var Wa=["en",[["a","p"],["AM","PM"],$a],[["AM","PM"],$a,$a],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$a,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$a,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$a,"{1} 'at' {0}",$a],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ka={};function Qa(t){return t in Ka||(Ka[t]=It.ng&&It.ng.common&&It.ng.common.locales&&It.ng.common.locales[t]),Ka[t]}var Za=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let Ya="en-US";function Xa(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Ya=t.toLowerCase().replace(/_/g,"-"))}const Ja=new Map;class tu extends Qt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new qa(this);const n=ye(t),r=t[Nt]||null;r&&Xa(r),this._bootstrapComponents=qn(n.bootstrap),this._r3Injector=Wo(t,e,[{provide:Qt,useValue:this},{provide:ha,useValue:this.componentFactoryResolver}],vt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=es.THROW_IF_NOT_FOUND,n=it.Default){return t===es||t===Qt||t===Vt?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class eu extends Zt{constructor(t){super(),this.moduleType=t,null!==ye(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${vt(e)} vs ${vt(e.name)}`)})(t,Ja.get(t),e),Ja.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new tu(this.moduleType,t)}}const nu=class extends C{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,i,o);return t instanceof h&&t.add(s),s}};function ru(){return this._results[os()]()}class iu{constructor(){this.dirty=!0,this._results=[],this.changes=new nu,this.length=0;const t=os(),e=iu.prototype;e[t]||(e[t]=ru)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class ou{constructor(t){this.queryList=t,this.matches=null}clone(){return new ou(this.queryList)}setDirty(){this.queryList.setDirty()}}class su{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new su(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==du(t,e).matches&&this.queries[e].setDirty()}}class au{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class uu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new uu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class cu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new cu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,lu(e,i)),this.matchTNodeWithReadOption(t,e,Jn(e,t,i,!1,!1))}else n===Va?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Jn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===fa||r===La||r===Va&&0===e.type)this.addMatch(e.index,-2);else{const n=Jn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function lu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function hu(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?Do(fa,t,e):0===t.type?Vo(Va,fa,t,e):null}(e,t):-2===n?function(t,e,n){return n===fa?Do(fa,e,t):n===Va?Vo(Va,fa,e,t):n===La?Mo(La,fa,e,t):void 0}(t,e,r):tr(t,t[1],n,e)}function fu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:hu(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function du(t,e){return t.queries.getByIndex(e)}const pu=new Dt("Application Initializer");let gu=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();ys(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Gt(pu,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const mu=new Dt("AppId"),vu={provide:mu,useFactory:function(){return`${yu()}${yu()}${yu()}`},deps:[]};function yu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const bu=new Dt("Platform Initializer"),_u=new Dt("Platform ID"),wu=new Dt("appBootstrapListener");let Eu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Cu=new Dt("LocaleId"),Tu=new Dt("DefaultCurrencyCode");class Ou{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const xu=function(t){return new eu(t)},Iu=xu,Su=function(t){return Promise.resolve(xu(t))},Au=function(t){const e=xu(t),n=qn(ye(t).declarations).reduce((t,e)=>{const n=me(e);return n&&t.push(new Ha(n)),t},[]);return new Ou(e,n)},ku=Au,Ru=function(t){return Promise.resolve(Au(t))};let Nu=(()=>{class t{constructor(){this.compileModuleSync=Iu,this.compileModuleAsync=Su,this.compileModuleAndAllComponentsSync=ku,this.compileModuleAndAllComponentsAsync=Ru}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const ju=(()=>Promise.resolve(0))();function Pu(t){"undefined"==typeof Zone?ju.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Du{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nu(!1),this.onMicrotaskEmpty=new nu(!1),this.onStable=new nu(!1),this.onError=new nu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=It.requestAnimationFrame,e=It.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(It,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Uu(t),Lu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Uu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return Fu(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),qu(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return Fu(t),e.invoke(r,i,o,s,a)}finally{qu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Uu(t),Lu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Du.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Du.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Mu,Vu,Vu);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Vu(){}const Mu={};function Lu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Uu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Fu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qu(t){t._nesting--,Lu(t)}class zu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nu,this.onMicrotaskEmpty=new nu,this.onStable=new nu,this.onError=new nu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Bu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Du.assertNotInAngularZone(),Pu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Pu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Gt(Du))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Hu=(()=>{class t{constructor(){this._applications=new Map,Wu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Wu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class Gu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let $u,Wu=new Gu;const Ku=new Dt("AllowMultipleToken");class Qu{constructor(t,e){this.name=t,this.token=e}}function Zu(t,e,n=[]){const r="Platform: "+e,i=new Dt(r);return(e=[])=>{let o=Yu();if(!o||o.injector.get(Ku,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:qo,useValue:"platform"});!function(t){if($u&&!$u.destroyed&&!$u.injector.get(Ku,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");$u=t.get(Xu);const e=t.get(bu,null);e&&e.forEach(t=>t())}(es.create({providers:t,name:r}))}return function(t){const e=Yu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Yu(){return $u&&!$u.destroyed?$u:null}let Xu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new zu:("zone.js"===t?void 0:t)||new Du({enableLongStackTrace:wr(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Du,useValue:n}];return n.run(()=>{const e=es.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(cr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>ec(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return ys(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(gu);return t.runInitializers(),t.donePromise.then(()=>(Xa(i.injector.get(Cu,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Ju({},e);return function(t,e,n){const r=new eu(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(tc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${vt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Gt(es))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function Ju(t,e){return Array.isArray(e)?e.reduce(Ju,t):Object.assign(Object.assign({},t),e)}let tc=(()=>{class t{constructor(t,e,n,r,i,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=wr(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Du.assertNotInAngularZone(),Pu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Du.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return O(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof y?t[0]:B(e)(H(t,n))}(s,a.pipe(t=>{return G()((e=Y,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,Q);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ca?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Qt),i=n.create(es.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(Bu,null);return o&&i.injector.get(Hu).registerApplication(i.location.nativeElement,o),this._loadComponent(i),wr()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;ec(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(wu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),ec(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Gt(Du),Gt(Eu),Gt(es),Gt(cr),Gt(ha),Gt(gu))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function ec(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class nc{}class rc{}const ic={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let oc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||ic}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>sc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>sc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Gt(Nu),Gt(rc,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function sc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const ac=Zu(null,"core",[{provide:_u,useValue:"unknown"},{provide:Xu,deps:[es]},{provide:Hu,deps:[]},{provide:Eu,deps:[]}]),uc=[{provide:tc,useClass:tc,deps:[Du,Eu,es,cr,ha,gu]},{provide:Ba,deps:[Du],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:gu,useClass:gu,deps:[[new et,pu]]},{provide:Nu,useClass:Nu,deps:[]},vu,{provide:Ra,useFactory:function(){return Pa},deps:[]},{provide:Na,useFactory:function(){return Da},deps:[]},{provide:Cu,useFactory:function(t){return Xa(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new tt(Cu),new et,new rt]]},{provide:Tu,useValue:"USD"}];let cc=(()=>{class t{constructor(t){}}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)(Gt(tc))},providers:uc}),t})();const lc={apiKey:"AIzaSyANBS-GtWLSYlCVfV4kr0eCqGUzNh2RTMk",authDomain:"segundoparcial-dd082.firebaseapp.com",databaseURL:"https://segundoparcial-dd082.firebaseio.com",projectId:"segundoparcial-dd082",storageBucket:"segundoparcial-dd082.appspot.com",messagingSenderId:"326439672113",appId:"1:326439672113:web:0da14e78c8ef5ad556f810",measurementId:"G-VXVN0RX9LS"};let hc=null;function fc(){return hc}const dc=new Dt("DocumentToken");let pc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({factory:gc,token:t,providedIn:"platform"}),t})();function gc(){return Gt(vc)}const mc=new Dt("Location Initialized");let vc=(()=>{class t extends pc{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=fc().getLocation(),this._history=fc().getHistory()}getBaseHrefFromDOM(){return fc().getBaseHref(this._doc)}onPopState(t){fc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){fc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){yc()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){yc()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Gt(dc))},t.\u0275prov=at({factory:bc,token:t,providedIn:"platform"}),t})();function yc(){return!!window.history.pushState}function bc(){return new vc(Gt(dc))}function _c(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function wc(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ec(t){return t&&"?"!==t[0]?"?"+t:t}let Cc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({factory:Tc,token:t,providedIn:"root"}),t})();function Tc(t){const e=Gt(dc).location;return new xc(Gt(pc),e&&e.origin||"")}const Oc=new Dt("appBaseHref");let xc=(()=>{class t extends Cc{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return _c(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Ec(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+Ec(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+Ec(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Gt(pc),Gt(Oc,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Ic=(()=>{class t extends Cc{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=_c(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+Ec(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+Ec(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Gt(pc),Gt(Oc,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Sc=(()=>{class t{constructor(t,e){this._subject=new nu,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=wc(kc(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Ec(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,kc(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ec(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ec(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(Gt(Cc),Gt(pc))},t.normalizeQueryParams=Ec,t.joinWithSlash=_c,t.stripTrailingSlash=wc,t.\u0275prov=at({factory:Ac,token:t,providedIn:"root"}),t})();function Ac(){return new Sc(Gt(Cc),Gt(pc))}function kc(t){return t.replace(/\/index.html$/,"")}var Rc=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});class Nc{}let jc=(()=>{class t extends Nc{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Qa(e);if(n)return n;const r=e.split("-")[0];if(n=Qa(r),n)return n;if("en"===r)return Wa;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[Za.PluralCase]}(e||this.locale)(t)){case Rc.Zero:return"zero";case Rc.One:return"one";case Rc.Two:return"two";case Rc.Few:return"few";case Rc.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(Gt(Cu))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class Pc{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Dc=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){wr()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Pc(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new Vc(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new Vc(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(hs(La),hs(Va),hs(Ra))},t.\u0275dir=ge({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Vc{constructor(t,e){this.record=t,this.view=e}}let Mc=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new Lc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Uc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Uc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(hs(La),hs(Va))},t.\u0275dir=ge({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Lc{constructor(){this.$implicit=null,this.ngIf=null}}function Uc(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${vt(e)}'.`)}let Fc=(()=>{class t{}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[{provide:Nc,useClass:jc}]}),t})();function qc(t){return"server"===t}let zc=(()=>{class t{}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>new Bc(Gt(dc),window,Gt(cr))}),t})();class Bc{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=Hc(this.window.history)||Hc(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function Hc(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Gc extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Gc,hc||(hc=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Wc||(Wc=document.querySelector("base"),Wc)?Wc.getAttribute("href"):null;return null==e?null:(n=e,$c||($c=document.createElement("a")),$c.setAttribute("href",n),"/"===$c.pathname.charAt(0)?$c.pathname:"/"+$c.pathname);var n}resetBaseElement(){Wc=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let $c,Wc=null;const Kc=new Dt("TRANSITION_ID"),Qc=[{provide:pu,useFactory:function(t,e,n){return()=>{n.get(gu).donePromise.then(()=>{const n=fc();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Kc,dc,es],multi:!0}];class Zc{static init(){var t;t=new Zc,Wu=t}addToWindow(t){It.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},It.getAllAngularTestabilities=()=>t.getAllTestabilities(),It.getAllAngularRootElements=()=>t.getAllRootElements(),It.frameworkStabilizers||(It.frameworkStabilizers=[]),It.frameworkStabilizers.push(t=>{const e=It.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(i)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?fc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Yc=new Dt("EventManagerPlugins");let Xc=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(Gt(Yc),Gt(Du))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class Jc{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=fc().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let tl=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),el=(()=>{class t extends tl{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>fc().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(Gt(dc))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const nl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},rl=/%COMP%/g;function il(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?il(t,i,n):(i=i.replace(rl,t),n.push(i))}return n}function ol(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let sl=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new al(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case oe.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ul(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case oe.Native:case oe.ShadowDom:return new cl(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=il(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Gt(Xc),Gt(el),Gt(mu))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class al{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(nl[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=nl[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=nl[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&ga.DashCase?t.style.setProperty(e,n,r&ga.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&ga.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ol(n)):this.eventManager.addEventListener(t,e,ol(n))}}class ul extends al{constructor(t,e,n,r){super(t),this.component=n;const i=il(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(rl,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(rl,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class cl extends al{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===oe.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=il(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ll=(()=>{class t extends Jc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Gt(dc))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const hl=["alt","control","meta","shift"],fl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},pl={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let gl=(()=>{class t extends Jc{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fc().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(hl.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&dl.hasOwnProperty(e)&&(e=dl[e]))}return fl[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),hl.forEach(r=>{r!=n&&(0,pl[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(Gt(dc))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),ml=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({factory:function(){return Gt(vl)},token:t,providedIn:"root"}),t})(),vl=(()=>{class t extends ml{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Gr.NONE:return e;case Gr.HTML:return vr(e,"HTML")?mr(e):Br(this._doc,String(e));case Gr.STYLE:return vr(e,"Style")?mr(e):e;case Gr.SCRIPT:if(vr(e,"Script"))return mr(e);throw new Error("unsafe value used in a script context");case Gr.URL:return yr(e),vr(e,"URL")?mr(e):xr(String(e));case Gr.RESOURCE_URL:if(vr(e,"ResourceURL"))return mr(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return new hr(t)}bypassSecurityTrustStyle(t){return new fr(t)}bypassSecurityTrustScript(t){return new dr(t)}bypassSecurityTrustUrl(t){return new pr(t)}bypassSecurityTrustResourceUrl(t){return new gr(t)}}return t.\u0275fac=function(e){return new(e||t)(Gt(dc))},t.\u0275prov=at({factory:function(){return t=Gt(Vt),new vl(t.get(dc));var t},token:t,providedIn:"root"}),t})();const yl=Zu(ac,"browser",[{provide:_u,useValue:"browser"},{provide:bu,useValue:function(){Gc.makeCurrent(),Zc.init()},multi:!0},{provide:dc,useFactory:function(){return function(t){Ne=t}(document),document},deps:[]}]),bl=[[],{provide:qo,useValue:"root"},{provide:cr,useFactory:function(){return new cr},deps:[]},{provide:Yc,useClass:ll,multi:!0,deps:[dc,Du,_u]},{provide:Yc,useClass:gl,multi:!0,deps:[dc]},[],{provide:sl,useClass:sl,deps:[Xc,el,mu]},{provide:pa,useExisting:sl},{provide:tl,useExisting:el},{provide:el,useClass:el,deps:[dc]},{provide:Bu,useClass:Bu,deps:[Du]},{provide:Xc,useClass:Xc,deps:[Yc,Du]},[]];let _l=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:mu,useValue:e.appId},{provide:Kc,useExisting:mu},Qc]}}}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)(Gt(t,12))},providers:bl,imports:[Fc,cc]}),t})();"undefined"!=typeof window&&window;class wl extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class El extends wl{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class Cl extends El{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}let Tl=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class Ol extends Tl{constructor(t,e=Tl.now){super(t,()=>Ol.delegate&&Ol.delegate!==this?Ol.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Ol.delegate&&Ol.delegate!==this?Ol.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}class xl extends Ol{}const Il=new xl(Cl),Sl=new Ol(El);function Al(){}function kl(t,e,n){return function(r){return r.lift(new Rl(t,e,n))}}class Rl{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Nl(t,this.nextOrObserver,this.error,this.complete))}}class Nl extends p{constructor(t,e,n,i){super(t),this._tapNext=Al,this._tapError=Al,this._tapComplete=Al,this._tapError=n||Al,this._tapComplete=i||Al,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Al,this._tapError=e.error||Al,this._tapComplete=e.complete||Al)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}let jl=1;const Pl=(()=>Promise.resolve())(),Dl={};function Vl(t){return t in Dl&&(delete Dl[t],!0)}const Ml={setImmediate(t){const e=jl++;return Dl[e]=!0,Pl.then(()=>Vl(e)&&t()),e},clearImmediate(t){Vl(t)}};class Ll extends El{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=Ml.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(Ml.clearImmediate(e),t.scheduled=void 0)}}class Ul extends Ol{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const Fl=new Ul(Ll);function ql(t){return!u(t)&&t-parseFloat(t)+1>=0}class zl extends y{constructor(t,e=0,n=Fl){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!ql(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=Fl)}static create(t,e=0,n=Fl){return new zl(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(zl.dispatch,this.delayTime,{source:this.source,subscriber:t})}}class Bl{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new zl(e,this.delay,this.scheduler).subscribe(t)}}const Hl=new y(t=>t.complete());function Gl(t){return t?function(t){return new y(e=>t.schedule(()=>e.complete()))}(t):Hl}function $l(...t){let e=t[t.length-1];return O(e)?(t.pop(),L(t,e)):H(t)}let Wl=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return $l(this.value);case"E":return t=this.error,new y(e=>e.error(t));case"C":return Gl()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function Kl(t,e=0){return function(n){return n.lift(new Ql(t,e))}}class Ql{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new Zl(t,this.scheduler,this.delay))}}class Zl extends p{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(Zl.dispatch,this.delay,new Yl(t,this.destination)))}_next(t){this.scheduleMessage(Wl.createNext(t))}_error(t){this.scheduleMessage(Wl.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(Wl.createComplete()),this.unsubscribe()}}class Yl{constructor(t,e){this.notification=t,this.destination=e}}var Xl=n("zIRd");function Jl(){}Xl.a.registerVersion("firebase","8.0.2","app");class th{constructor(t,e=Il){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class eh{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Jl,{},Jl,Jl)),e.pipe(kl({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class nh{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new th(Zone.current)),this.insideAngular=t.run(()=>new th(Zone.current,Sl))}}function rh(t){return function(e){return(e=e.lift(new eh(t.ngZone))).pipe(function(t,e=0){return function(n){return n.lift(new Bl(t,e))}}(t.outsideAngular),Kl(t.insideAngular))}}const ih=["ngOnDestroy"],oh=new Dt("angularfire2.app.options"),sh=new Dt("angularfire2.app.nameOrConfig"),ah=new ba("6.0.5");function uh(t,e,n){const r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",Xl.a.apps.filter(t=>t&&t.name===r.name)[0]||e.runOutsideAngular(()=>Xl.a.initializeApp(t,r))}const ch={provide:class{},useFactory:uh,deps:[oh,Du,[new et,sh]]};let lh=(()=>{class t{constructor(t){Xl.a.registerVersion("angularfire",ah.full,t.toString()),Xl.a.registerVersion("angular",_a.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:oh,useValue:e},{provide:sh,useValue:n}]}}}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)(Gt(_u))},providers:[ch]}),t})();function hh(t,e){return"function"==typeof e?n=>n.pipe(hh((n,r)=>U(t(n,r)).pipe(D((t,i)=>e(n,t,r,i))))):e=>e.lift(new fh(t))}class fh{constructor(t){this.project=t}call(t,e){return e.subscribe(new dh(t,this.project))}}class dh extends P{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new x(this,e,n),o=this.destination;o.add(i),this.innerSubscription=j(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}class ph extends C{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new gh(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new _;if(this.isStopped||this.hasError?o=h.EMPTY:(this.observers.push(t),o=new w(this,t)),r&&t.add(t=new Zl(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Il).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class gh{constructor(t,e){this.time=t,this.value=e}}const mh=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function vh(t,e){return function(n){return n.lift(new yh(t,e))}}class yh{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new bh(t,this.predicate,this.thisArg))}}class bh extends p{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const _h=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function wh(t){return e=>0===t?Gl():e.lift(new Eh(t))}class Eh{constructor(t){if(this.total=t,this.total<0)throw new _h}call(t,e){return e.subscribe(new Ch(t,this.total))}}class Ch extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Th(t=null){return e=>e.lift(new Oh(t))}class Oh{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new xh(t,this.defaultValue))}}class xh extends p{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Ih(t=kh){return e=>e.lift(new Sh(t))}class Sh{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Ah(t,this.errorFactory))}}class Ah extends p{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function kh(){return new mh}function Rh(t,e){const n=arguments.length>=2;return r=>r.pipe(t?vh((e,n)=>t(e,n,r)):v,wh(1),n?Th(e):Ih(()=>new mh))}let Nh=(()=>{class t{constructor(t,e,r,i){const o=new nh(i),s=rh(o),a=$l(void 0).pipe(Kl(o.outsideAngular),hh(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),D(()=>uh(t,i,e)),D(t=>i.runOutsideAngular(()=>t.auth())),function(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:void 0,refCount:!1,scheduler:void 0},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){s++,i&&!a||(a=!1,i=new ph(t,e,r),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}));const l=i.subscribe(this);this.add(()=>{s--,l.unsubscribe(),o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}({bufferSize:1,refCount:!1}));return qc(r)?this.authState=this.user=this.idToken=this.idTokenResult=$l(null):(a.pipe(Rh()).subscribe(),this.authState=a.pipe(hh(t=>t.getRedirectResult().then(()=>t,()=>t)),hh(t=>i.runOutsideAngular(()=>new y(t.onAuthStateChanged.bind(t)))),s),this.user=a.pipe(hh(t=>t.getRedirectResult().then(()=>t,()=>t)),hh(t=>i.runOutsideAngular(()=>new y(t.onIdTokenChanged.bind(t)))),s),this.idToken=this.user.pipe(hh(t=>t?U(t.getIdToken()):$l(null))),this.idTokenResult=this.user.pipe(hh(t=>t?U(t.getIdTokenResult()):$l(null)))),((t,e,n)=>new Proxy(t,{get:(r,i)=>n.runOutsideAngular(()=>{if(t[i])return t[i];if(ih.indexOf(i)>-1)return()=>{};const r=e.toPromise().then(t=>{const e=t&&t[i];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>r[e],apply:(t,e,n)=>r.then(t=>t&&t(...n))})})}))(this,a,i)}}return t.\u0275fac=function(e){return new(e||t)(Gt(oh),Gt(sh,8),Gt(_u),Gt(Du))},t.\u0275prov=at({factory:function(){return new t(Gt(oh),Gt(sh,8),Gt(_u),Gt(Du))},token:t,providedIn:"any"}),t})(),jh=(()=>{class t{}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[Nh]}),t})();function Ph(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Dh(t,e,n))}}class Dh{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Vh(t,this.accumulator,this.seed,this.hasSeed))}}class Vh extends p{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Mh(t,e){return function(t,e=Sl){return new y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot(n)}):r=t.onSnapshot(n),()=>{null!=r&&r()}})}(t,e)}function Lh(t,e){return Mh(t,e).pipe(D(t=>({payload:t,type:"query"})))}function Uh(t,e){return Lh(t,e).pipe(D(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function Fh(t,e,n){return Lh(t,n).pipe(D(t=>t.payload.docChanges()),Ph((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e),[]),D(t=>t.map(t=>({type:t.type,payload:t}))))}function qh(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}n("xsWp");class zh{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?Uh(this.query,this.afs.schedulers.outsideAngular).pipe(D(e=>e.filter(e=>t.indexOf(e.type)>-1)),vh(t=>t.length>0),this.afs.keepUnstableUntilFirst):Uh(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ph((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=qh(t);return Fh(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Lh(this.query,this.afs.schedulers.outsideAngular).pipe(D(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return U(this.query.get(t)).pipe(Kl(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Bh(this.ref.doc(t),this.afs)}}class Bh{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Qh(n,e);return new zh(r,i,this.afs)}snapshotChanges(){return Mh(this.ref,this.afs.schedulers.outsideAngular).pipe(D(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(D(t=>t.payload.data()))}get(t){return U(this.ref.get(t)).pipe(Kl(this.afs.schedulers.insideAngular))}}class Hh{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Uh(this.query,this.afs.schedulers.outsideAngular).pipe(D(e=>e.filter(e=>t.indexOf(e.type)>-1)),vh(t=>t.length>0),this.afs.keepUnstableUntilFirst):Uh(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ph((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=qh(t);return Fh(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return Lh(this.query,this.afs.schedulers.outsideAngular).pipe(D(t=>t.payload.docs.map(t=>t.data())),this.afs.keepUnstableUntilFirst)}get(t){return U(this.query.get(t)).pipe(Kl(this.afs.schedulers.insideAngular))}}const Gh=n("xsWp"),$h=new Dt("angularfire2.enableFirestorePersistence"),Wh=new Dt("angularfire2.firestore.persistenceSettings"),Kh=new Dt("angularfire2.firestore.settings");function Qh(t,e=(t=>t)){return{query:e(t),ref:t}}let Zh=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new nh(o),this.keepUnstableUntilFirst=rh(this.schedulers),this.firestore=o.runOutsideAngular(()=>{const n=uh(t,o,e);"registerFirestore"in Gh&&Gh.registerFirestore(Xl.a);const i=n.firestore();return r&&i.settings(r),i}),this.persistenceEnabled$=n&&!qc(i)?o.runOutsideAngular(()=>{try{return U(this.firestore.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(t){return $l(!1)}}):$l(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Qh(n,e),o=this.schedulers.ngZone.run(()=>r);return new zh(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Hh(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Bh(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(Gt(oh),Gt(sh,8),Gt($h,8),Gt(Kh,8),Gt(_u),Gt(Du),Gt(Wh,8))},t.\u0275prov=at({factory:function(){return new t(Gt(oh),Gt(sh,8),Gt($h,8),Gt(Kh,8),Gt(_u),Gt(Du),Gt(Wh,8))},token:t,providedIn:"any"}),t})(),Yh=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:$h,useValue:!0},{provide:Wh,useValue:e}]}}}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[Zh]}),t})();var Xh=n("os0x"),Jh=n("qOnz"),tf=n("/6Yf"),ef=function(t){function e(n,r){var i=t.call(this,nf(n),"Firebase Storage: "+r+" ("+nf(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(Xh.c)(e,t),e.prototype.codeEquals=function(t){return nf(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(Jh.c);function nf(t){return"storage/"+t}function rf(){return new ef("unknown","An unknown error occurred, please check the error payload for server response.")}function of(){return new ef("canceled","User canceled the upload/download.")}function sf(){return new ef("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function af(t){return new ef("invalid-argument",t)}function uf(){return new ef("app-deleted","The Firebase app was deleted.")}function cf(t){return new ef("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lf(t,e){return new ef("invalid-format","String does not match format '"+t+"': "+e)}function hf(t){throw new ef("internal-error","Internal error: "+t)}var ff={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},df=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function pf(t,e){switch(t){case ff.RAW:return new df(gf(e));case ff.BASE64:case ff.BASE64URL:return new df(mf(t,e));case ff.DATA_URL:return new df((n=new vf(e)).base64?mf(ff.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw lf(ff.DATA_URL,"Malformed data URL.")}return gf(e)}(n.rest),function(t){return new vf(t).contentType}(e))}var n;throw rf()}function gf(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function mf(t,e){switch(t){case ff.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw lf(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case ff.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw lf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(c){throw lf(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var vf=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw lf(ff.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),yf={STATE_CHANGED:"state_changed"},bf={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function _f(t){switch(t){case"running":case"pausing":case"canceling":return bf.RUNNING;case"paused":return bf.PAUSED;case"success":return bf.SUCCESS;case"canceled":return bf.CANCELED;case"error":default:return bf.ERROR}}var wf=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),Ef=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=wf.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=wf.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=wf.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw hf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw hf("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw hf("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw hf("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),Cf=function(){function t(){}return t.prototype.createXhrIo=function(){return new Ef},t}();function Tf(t){return"string"==typeof t||t instanceof String}function Of(t){return xf()&&t instanceof Blob}function xf(){return"undefined"!=typeof Blob}function If(t,e,n,r){if(r<e)throw new ef("invalid-argument","Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new ef("invalid-argument","Invalid value for '"+t+"'. Expected "+n+" or less.")}function Sf(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Af(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Sf();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(xf())return new Blob(t);throw new ef("unsupported-environment","This browser doesn't seem to support creating Blobs")}var kf=function(){function t(t,e){var n=0,r="";Of(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Of(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(xf()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(Af.apply(null,r))}var i=e.map((function(t){return Tf(t)?pf(ff.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),Rf=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new ef("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),s=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],a=0;a<s.length;a++){var u=s[a],c=u.regex.exec(e);if(c){var l=c[u.indices.path];l||(l=""),n=new t(c[u.indices.bucket],l),u.postModify(n);break}}if(null==n)throw function(t){return new ef("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function Nf(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function jf(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Pf(t){return"https://firebasestorage.googleapis.com/v0"+t}function Df(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function Vf(t,e){return e}var Mf=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Vf}}(),Lf=null;function Uf(){if(Lf)return Lf;var t=[];t.push(new Mf("bucket")),t.push(new Mf("generation")),t.push(new Mf("metageneration")),t.push(new Mf("name","fullPath",!0));var e=new Mf("name");e.xform=function(t,e){return function(t){return!Tf(t)||t.length<2?t:jf(t)}(e)},t.push(e);var n=new Mf("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new Mf("timeCreated")),t.push(new Mf("updated")),t.push(new Mf("md5Hash",null,!0)),t.push(new Mf("cacheControl",null,!0)),t.push(new Mf("contentDisposition",null,!0)),t.push(new Mf("contentEncoding",null,!0)),t.push(new Mf("contentLanguage",null,!0)),t.push(new Mf("contentType",null,!0)),t.push(new Mf("metadata","customMetadata",!0)),Lf=t}function Ff(t,e,n){var r=Nf(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new Rf(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function qf(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var zf=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function Bf(t){if(!t)throw rf()}function Hf(t,e){return function(n,r){var i=Ff(t,r,e);return Bf(null!==i),i}}function Gf(t){return function(e,n){var r;return(r=401===e.getStatus()?new ef("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new ef("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new ef("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function $f(t){var e=Gf(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new ef("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Wf(t,e,n){var r=Pf(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new zf(r,"GET",Hf(t,n),i);return o.errorHandler=$f(e),o}function Kf(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var Qf=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function Zf(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){Bf(!1)}return Bf(!!n&&-1!==(e||["active"]).indexOf(n)),n}var Yf=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}(),Xf=function(){return function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}}();function Jf(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var td=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=Uf(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then((function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=Kf(e,r,i),a={name:s.fullPath},u=Pf(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=qf(s,n),h=new zf(u,"POST",(function(t){var e;Zf(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){Bf(!1)}return Bf(Tf(e)),e}),t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=Gf(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n){var r=function(t,e,n,r){var i=new zf(n,"POST",(function(t){var e=Zf(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){Bf(!1)}n||Bf(!1);var i=Number(n);return Bf(!isNaN(i)),new Qf(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=Gf(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new Qf(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var u=new Qf(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new ef("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+l);if(null===d)throw sf();var p=new zf(n,"POST",(function(t,n){var i,s=Zf(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?Hf(e,o)(t,n):null,new Qf(a,c,"final"===s,i)}),e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=a||null,p.errorHandler=Gf(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(a){return t._error=a,void t._transition("error")}var s=t._ref.storage.makeRequest(o,i);t._request=s,s.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e){var n=Wf(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=Kf(e,r,i),c=qf(u,n),l=kf.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw sf();var h={name:u.fullPath},f=Pf(o),d=t.maxUploadRetryTime,p=new zf(f,"POST",Hf(t,n),d);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=Gf(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=of(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=_f(this._state);return new Xf(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new Yf(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(_f(this._state)){case bf.SUCCESS:Jf(this._resolve.bind(null,this.snapshot))();break;case bf.CANCELED:case bf.ERROR:Jf(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(_f(this._state)){case bf.RUNNING:case bf.PAUSED:t.next&&Jf(t.next.bind(t,this.snapshot))();break;case bf.SUCCESS:t.complete&&Jf(t.complete.bind(t))();break;case bf.CANCELED:case bf.ERROR:t.error&&Jf(t.error.bind(t,this._error))();break;default:t.error&&Jf(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),ed=function(){function t(t,e){this._service=t,this._location=e instanceof Rf?e:Rf.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new Rf(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return jf(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new Rf(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw cf(t)},t}();function nd(t,e){return Object(Xh.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Xh.d)(this,(function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&If("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=Pf(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new zf(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=Nf(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t.makeStorageReference(new Rf(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t.makeStorageReference(new Rf(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return Bf(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=Gf(e),u}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}}))}))}function rd(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Rf(t._location.bucket,n);return new ed(t.storage,r)}var id=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),od=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new id(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new id(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new id(t,i,i._ref))}:{next:e.next?function(t){return e.next(new id(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),sd=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new ad(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new ad(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),ad=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(rd(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new od(function(t,e,n){return void 0===n&&(n=null),t._throwIfRoot("uploadBytesResumable"),new td(t,new kf(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){return void 0===e&&(e=ff.RAW),this._throwIfRoot("putString"),new od(function(t,e,n,r){void 0===n&&(n=ff.RAW),t._throwIfRoot("putString");var i=pf(n,e),o=Object(Xh.a)({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new td(t,new kf(i.data,!0),o)}(this._delegate,t,e,n),this)},t.prototype.listAll=function(){var t,e,n=this;return(t=this._delegate,e={prefixes:[],items:[]},function t(e,n,r){return Object(Xh.b)(this,void 0,void 0,(function(){var i,o,s;return Object(Xh.d)(this,(function(a){switch(a.label){case 0:return[4,nd(e,{pageToken:r})];case 1:return i=a.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(s=n.items).push.apply(s,i.items),null==i.nextPageToken?[3,3]:[4,t(e,n,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}(t,e).then((function(){return e}))).then((function(t){return new sd(t,n.storage)}))},t.prototype.list=function(t){var e=this;return nd(this._delegate,t).then((function(t){return new sd(t,e.storage)}))},t.prototype.getMetadata=function(){return function(t){return Object(Xh.b)(this,void 0,void 0,(function(){var e,n;return Object(Xh.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=Wf(t.storage,t._location,Uf()),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Object(Xh.b)(this,void 0,void 0,(function(){var n,r;return Object(Xh.d)(this,(function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=Pf(e.fullServerUrl()),o=qf(n,r),s=t.maxOperationRetryTime,a=new zf(i,"PATCH",Hf(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=$f(e),a}(t.storage,t._location,e,Uf()),[2,t.storage.makeRequest(r,n).getPromise()]}}))}))}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(Xh.b)(this,void 0,void 0,(function(){var e,n;return Object(Xh.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=Pf(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new zf(r,"GET",function(t,e){return function(n,r){var i=Ff(t,r,e);return Bf(null!==i),function(t,e){var n=Nf(e);if(null===n)return null;if(!Tf(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.fullPath;return Pf("/b/"+i(t.bucket)+"/o/"+i(n))+Df({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return o.errorHandler=$f(e),o}(t.storage,t._location,Uf()),[2,t.storage.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw new ef("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(Xh.b)(this,void 0,void 0,(function(){var e,n;return Object(Xh.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=Pf(e.fullServerUrl()),r=new zf(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=$f(e),r}(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw cf(t)},t}(),ud=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),cd=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(u){o(u)}else null!==s?((r=rf()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?uf():of():new ef("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new ld(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout((function(){o=null,function(e,n){if(n)e(!1,new ld(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===wf.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new ld(s,n))}else{var a=n.getErrorCode()===wf.ABORT;e(!1,new ld(!1,null,a))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())}),e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(Xh.g)([null,t],e));else{var r,o=u()||s;o?l.call.apply(l,Object(Xh.g)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout((function(){s=!0,p(!0)}),r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),ld=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function hd(t){return/^[A-Za-z]+:\/\//.test(t)}function fd(t,e){if(e&&hd(e)){if(t instanceof dd)return new ed(t,e);throw af("To use ref(service, url), the first argument must be a Storage instance.")}return function t(e,n){if(e instanceof dd){var r=e;if(null==r._bucket)throw new ef("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new ed(r,r._bucket);return null!=n?t(i,n):i}if(void 0!==n){if(n.includes(".."))throw af('`path` param cannot contain ".."');return rd(e,n)}return e}(t,e)}var dd=function(){function t(t,e,n,r){var i,o;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Rf.makeFromBucketSpec(r):null==(o=null==(i=this.app.options)?void 0:i.storageBucket)?null:Rf.makeFromBucketSpec(o)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){If("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){If("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return Object(Xh.b)(this,void 0,void 0,(function(){var t,e;return Object(Xh.d)(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(t){return new ed(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new ud(uf());var r=function(t,e,n,r){var i=Df(t.urlParams),o=t.url+i,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==Xl.a?Xl.a.SDK_VERSION:"AppManager")}(s),new cd(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},t}(),pd=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(hd(t))throw af("ref() expected a child path but got a URL, use refFromURL instead.");return new ad(fd(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!hd(t))throw af("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Rf.makeFromUrl(t)}catch(e){throw af("refFromUrl() expected a valid full URL but got an invalid one.")}return new ad(fd(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function gd(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new pd(n,new dd(n,r,new Cf,e))}function md(t){var e={TaskState:bf,TaskEvent:yf,StringFormat:ff,Storage:dd,Reference:ad};t.INTERNAL.registerComponent(new tf.a("storage",gd,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.4.2")}function vd(t){const e=function(t){return new y(e=>{const n=t=>e.next(t);return t.on("state_changed",n,t=>e.error(t),()=>{n(t.snapshot),e.complete()}),()=>t.cancel()})}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(D(t=>t.bytesTransferred/t.totalBytes*100))}}function yd(t,e,n){return{getDownloadURL:()=>$l(void 0).pipe(Kl(e.outsideAngular),hh(()=>t.getDownloadURL()),n),getMetadata:()=>$l(void 0).pipe(Kl(e.outsideAngular),hh(()=>t.getMetadata()),n),delete:()=>U(t.delete()),child:r=>yd(t.child(r),e,n),updateMetadata:e=>U(t.updateMetadata(e)),put:(e,n)=>vd(t.put(e,n)),putString:(e,n,r)=>vd(t.putString(e,n,r)),listAll:()=>U(t.listAll())}}md(Xl.a);const bd=new Dt("angularfire2.storageBucket");let _d=(()=>{class t{constructor(t,e,n,r,i){this.schedulers=new nh(i),this.keepUnstableUntilFirst=rh(this.schedulers),this.storage=i.runOutsideAngular(()=>{const r=uh(t,i,e);return md&&md(Xl.a),r.storage(n||void 0)})}ref(t){return yd(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return yd(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Gt(oh),Gt(sh,8),Gt(bd,8),Gt(_u),Gt(Du))},t.\u0275prov=at({factory:function(){return new t(Gt(oh),Gt(sh,8),Gt(bd,8),Gt(_u),Gt(Du))},token:t,providedIn:"any"}),t})(),wd=(()=>{class t{}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[_d]}),t})();function Ed(t,e){return new y(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=U(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Cd=new Dt("NgValueAccessor"),Td={provide:Cd,useExisting:_t(()=>Od),multi:!0};let Od=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(hs(ma),hs(fa))},t.\u0275dir=ge({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&_s("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[ua([Td])]}),t})();const xd={provide:Cd,useExisting:_t(()=>Sd),multi:!0},Id=new Dt("CompositionEventMode");let Sd=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=fc()?fc().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(hs(ma),hs(fa),hs(Id,8))},t.\u0275dir=ge({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&_s("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[ua([xd])]}),t})(),Ad=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ge({type:t}),t})(),kd=(()=>{class t extends Ad{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Rd(e||t)},t.\u0275dir=ge({type:t,features:[Zs]}),t})();const Rd=or(kd);function Nd(){throw new Error("unimplemented")}class jd extends Ad{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Nd()}get asyncValidator(){return Nd()}}let Pd=(()=>{class t extends class{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(hs(jd,2))},t.\u0275dir=ge({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&Ns("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[Zs]}),t})();function Dd(t){return null==t||0===t.length}function Vd(t){return null!=t&&"number"==typeof t.length}const Md=new Dt("NgValidators"),Ld=new Dt("NgAsyncValidators"),Ud=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Fd{static min(t){return e=>{if(Dd(e.value)||Dd(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Dd(e.value)||Dd(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Dd(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Dd(t.value)||Ud.test(t.value)?null:{email:!0}}static minLength(t){return e=>Dd(e.value)||!Vd(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Vd(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Fd.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Dd(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(qd);return 0==e.length?null:function(t){return Bd(Hd(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(qd);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(u(e))return Ed(e,null);if(c(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Ed(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Ed(t=1===t.length&&u(t[0])?t[0]:t,null).pipe(D(t=>e(...t)))}return Ed(t,null)}(Hd(t,e).map(zd)).pipe(D(Bd))}}}function qd(t){return null!=t}function zd(t){const e=ys(t)?U(t):t;if(!bs(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Bd(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Hd(t,e){return e.map(e=>e(t))}function Gd(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}const $d={provide:Cd,useExisting:_t(()=>Wd),multi:!0};let Wd=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(hs(ma),hs(fa))},t.\u0275dir=ge({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&_s("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[ua([$d])]}),t})();const Kd={provide:Cd,useExisting:_t(()=>Zd),multi:!0};let Qd=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Zd=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(jd),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(hs(ma),hs(fa),hs(Qd),hs(es))},t.\u0275dir=ge({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&_s("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ua([Kd])]}),t})();const Yd={provide:Cd,useExisting:_t(()=>Xd),multi:!0};let Xd=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(hs(ma),hs(fa))},t.\u0275dir=ge({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&_s("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[ua([Yd])]}),t})();const Jd='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',tp='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ep={provide:Cd,useExisting:_t(()=>rp),multi:!0};function np(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let rp=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=np(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(hs(ma),hs(fa))},t.\u0275dir=ge({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&_s("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[ua([ep])]}),t})(),ip=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(np(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(hs(fa),hs(ma),hs(rp,9))},t.\u0275dir=ge({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const op={provide:Cd,useExisting:_t(()=>ap),multi:!0};function sp(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let ap=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(hs(ma),hs(fa))},t.\u0275dir=ge({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&_s("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[ua([op])]}),t})(),up=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(sp(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(sp(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(hs(fa),hs(ma),hs(ap,9))},t.\u0275dir=ge({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function cp(t,e){return[...e.path,t]}function lp(t,e){t||fp(e,"Cannot find control with"),e.valueAccessor||fp(e,"No value accessor for form control with"),t.validator=Fd.compose([t.validator,e.validator]),t.asyncValidator=Fd.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&hp(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&hp(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function hp(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function fp(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function dp(t){return null!=t?Fd.compose(Gd(t)):null}function pp(t){return null!=t?Fd.composeAsync(Gd(t)):null}const gp=[Od,Xd,Wd,rp,ap,Zd];function mp(t){const e=yp(t)?t.validators:t;return Array.isArray(e)?dp(e):e||null}function vp(t,e){const n=yp(e)?e.asyncValidators:t;return Array.isArray(n)?pp(n):n||null}function yp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class bp{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=mp(t)}setAsyncValidators(t){this.asyncValidator=vp(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=zd(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof wp?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Ep&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new nu,this.statusChanges=new nu}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){yp(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class _p extends bp{constructor(t=null,e,n){super(mp(e),vp(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class wp extends bp{constructor(t,e,n){super(mp(e),vp(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof _p?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ep extends bp{constructor(t,e,n){super(mp(e),vp(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof _p?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Cp={provide:kd,useExisting:_t(()=>Op)},Tp=(()=>Promise.resolve(null))();let Op=(()=>{class t extends kd{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new nu,this.form=new wp({},dp(t),pp(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Tp.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),lp(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Tp.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this._directives,t)})}addFormGroup(t){Tp.then(()=>{const e=this._findContainer(t.path),n=new wp({});(function(t,e){null==t&&fp(e,"Cannot find control with"),t.validator=Fd.compose([t.validator,e.validator]),t.asyncValidator=Fd.composeAsync([t.asyncValidator,e.asyncValidator])})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Tp.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Tp.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(hs(Md,10),hs(Ld,10))},t.\u0275dir=ge({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&_s("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ua([Cp]),Zs]}),t})(),xp=(()=>{class t extends kd{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return cp(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return dp(this._validators)}get asyncValidator(){return pp(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return Ip(e||t)},t.\u0275dir=ge({type:t,features:[Zs]}),t})();const Ip=or(xp);class Sp{static modelParentException(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${Jd}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${tp}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${Jd}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${tp}`)}}const Ap={provide:kd,useExisting:_t(()=>kp)};let kp=(()=>{class t extends xp{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof Op||Sp.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(hs(kd,5),hs(Md,10),hs(Ld,10))},t.\u0275dir=ge({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[ua([Ap]),Zs]}),t})();const Rp={provide:jd,useExisting:_t(()=>jp)},Np=(()=>Promise.resolve(null))();let jp=(()=>{class t extends jd{constructor(t,e,n,r){super(),this.control=new _p,this._registered=!1,this.update=new nu,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||fp(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var o;e.constructor===Sd?n=e:(o=e,gp.some(t=>o.constructor===t)?(r&&fp(t,"More than one built-in value accessor matches form control with"),r=e):(i&&fp(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(fp(t,"No valid value accessor for form control with"),null)}(this,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?cp(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return dp(this._rawValidators)}get asyncValidator(){return pp(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){lp(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof kp)&&this._parent instanceof xp?Sp.formGroupNameException():this._parent instanceof kp||this._parent instanceof Op||Sp.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Sp.missingNameException()}_updateValue(t){Np.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Np.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(hs(kd,9),hs(Md,10),hs(Ld,10),hs(Cd,10))},t.\u0275dir=ge({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ua([Rp]),Zs,Ie]}),t})(),Pp=(()=>{class t{}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)}}),t})(),Dp=(()=>{class t{}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[Qd],imports:[Pp]}),t})();class Vp extends C{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new _;return this._value}next(t){super.next(this._value=t)}}const Mp={};class Lp{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Up(t,this.resultSelector))}}class Up extends P{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Mp),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(j(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,s=this.toRespond?o[n]===Mp?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function Fp(t){return new y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?U(n):Gl()).subscribe(e)})}function qp(){return B(1)}function zp(t){return function(e){return 0===t?Gl():e.lift(new Bp(t))}}class Bp{constructor(t){if(this.total=t,this.total<0)throw new _h}call(t,e){return e.subscribe(new Hp(t,this.total))}}class Hp extends p{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Gp(t){return function(e){const n=new $p(t),r=e.lift(n);return n.caught=r}}class $p{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Wp(t,this.selector,this.caught))}}class Wp extends P{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new x(this,void 0,void 0);this.add(r);const i=j(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}class Kp{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Qp(t,this.predicate,this.thisArg,this.source))}}class Qp extends p{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Zp(...t){return qp()($l(...t))}function Yp(t,e){return F(t,e,1)}class Xp{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Jp(t,this.callback))}}class Jp extends p{constructor(t,e){super(t),this.add(new h(e))}}class tg{constructor(t,e){this.id=t,this.url=e}}class eg extends tg{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ng extends tg{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rg extends tg{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ig extends tg{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class og extends tg{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sg extends tg{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ag extends tg{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ug extends tg{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cg extends tg{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lg{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hg{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fg{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dg{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pg{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gg{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mg{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class vg{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function yg(t){return new vg(t)}function bg(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function _g(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function wg(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Eg(t[i],e[i]))return!1;return!0}function Eg(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function Cg(t){return Array.prototype.concat.apply([],t)}function Tg(t){return t.length>0?t[t.length-1]:null}function Og(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function xg(t){return bs(t)?t:ys(t)?U(Promise.resolve(t)):$l(t)}function Ig(t,e,n){return n?function(t,e){return wg(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Rg(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Eg(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Rg(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Rg(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!Rg(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class Sg{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yg(this.queryParams)),this._queryParamMap}toString(){return Dg.serialize(this)}}class Ag{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Og(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vg(this)}}class kg{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=yg(this.parameters)),this._parameterMap}toString(){return zg(this)}}function Rg(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Ng(t,e){let n=[];return Og(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),Og(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class jg{}class Pg{parse(t){const e=new Wg(t);return new Sg(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return Vg(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return Og(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Ng(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${Vg(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Lg(e)}=${Lg(t)}`).join("&"):`${Lg(e)}=${Lg(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Dg=new Pg;function Vg(t){return t.segments.map(t=>zg(t)).join("/")}function Mg(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lg(t){return Mg(t).replace(/%3B/gi,";")}function Ug(t){return Mg(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fg(t){return decodeURIComponent(t)}function qg(t){return Fg(t.replace(/\+/g,"%20"))}function zg(t){return`${Ug(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Ug(t)}=${Ug(e[t])}`).join("")}`;var e}const Bg=/^[^\/()?;=#]+/;function Hg(t){const e=t.match(Bg);return e?e[0]:""}const Gg=/^[^=?&#]+/,$g=/^[^?&#]+/;class Wg{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ag([],{}):new Ag([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Ag(t,e)),n}parseSegment(){const t=Hg(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new kg(Fg(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Hg(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Hg(this.remaining);t&&(n=t,this.capture(n))}t[Fg(e)]=Fg(n)}parseQueryParam(t){const e=function(t){const e=t.match(Gg);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match($g);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=qg(e),i=qg(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Hg(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Ag([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Kg{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Qg(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Qg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Zg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Zg(t,this._root).map(t=>t.value)}}function Qg(t,e){if(t===e.value)return e;for(const n of e.children){const e=Qg(t,n);if(e)return e}return null}function Zg(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Zg(t,n);if(r.length)return r.unshift(e),r}return[]}class Yg{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Xg(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Jg extends Kg{constructor(t,e){super(t),this.snapshot=e,om(this,t)}toString(){return this.snapshot.toString()}}function tm(t,e){const n=function(t,e){const n=new rm([],{},{},"",{},"primary",e,null,t.root,-1,{});return new im("",new Yg(n,[]))}(t,e),r=new Vp([new kg("",{})]),i=new Vp({}),o=new Vp({}),s=new Vp({}),a=new Vp(""),u=new em(r,i,s,a,o,"primary",e,n.root);return u.snapshot=n.root,new Jg(new Yg(u,[]),n)}class em{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(D(t=>yg(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(D(t=>yg(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nm(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class rm{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yg(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yg(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class im extends Kg{constructor(t,e){super(e),this.url=t,om(this,e)}toString(){return sm(this._root)}}function om(t,e){e.value._routerState=t,e.children.forEach(e=>om(t,e))}function sm(t){const e=t.children.length>0?` { ${t.children.map(sm).join(", ")} } `:"";return`${t.value}${e}`}function am(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,wg(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),wg(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!wg(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),wg(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function um(t,e){var n,r;return wg(t.params,e.params)&&Rg(n=t.url,r=e.url)&&n.every((t,e)=>wg(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||um(t.parent,e.parent))}function cm(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function lm(t,e,n,r,i){let o={};return r&&Og(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Sg(n.root===t?e:function t(e,n,r){const i={};return Og(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new Ag(e.segments,i)}(n.root,t,e),o,i)}class hm{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&cm(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==Tg(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fm{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function dm(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function pm(t,e,n){if(t||(t=new Ag([],{})),0===t.segments.length&&t.hasChildren())return gm(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=dm(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!bm(s,a,e))return o;r+=2}else{if(!bm(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Ag(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Ag(t.segments.slice(r.pathIndex),t.children),gm(e,0,i)}return r.match&&0===i.length?new Ag(t.segments,{}):r.match&&!t.hasChildren()?mm(t,e,n):r.match?gm(t,0,i):mm(t,e,n)}function gm(t,e,n){if(0===n.length)return new Ag(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{primary:t}}(n),i={};return Og(r,(n,r)=>{null!==n&&(i[r]=pm(t.children[r],e,n))}),Og(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Ag(t.segments,i)}}function mm(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=vm(n[i].outlets);return new Ag(r,t)}if(0===i&&cm(n[0])){r.push(new kg(t.segments[e].path,n[0])),i++;continue}const o=dm(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&cm(s)?(r.push(new kg(o,ym(s))),i+=2):(r.push(new kg(o,{})),i++)}return new Ag(r,{})}function vm(t){const e={};return Og(t,(t,n)=>{null!==t&&(e[n]=mm(new Ag([],{}),0,t))}),e}function ym(t){const e={};return Og(t,(t,n)=>e[n]=""+t),e}function bm(t,e,n){return t==n.path&&wg(e,n.parameters)}class _m{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),am(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Xg(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Og(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Xg(t),i=t.value.component?n.children:e;Og(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Xg(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new gg(t.value.snapshot))}),t.children.length&&this.forwardEvent(new dg(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(am(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),wm(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function wm(t){am(t.value),t.children.forEach(wm)}class Em{constructor(t,e){this.routes=t,this.module=e}}function Cm(t){return"function"==typeof t}function Tm(t){return t instanceof Sg}class Om{constructor(t){this.segmentGroup=t||null}}class xm{constructor(t){this.urlTree=t}}function Im(t){return new y(e=>e.error(new Om(t)))}function Sm(t){return new y(e=>e.error(new xm(t)))}function Am(t){return new y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class km{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(Qt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(D(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Gp(t=>{if(t instanceof xm)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Om)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(D(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Gp(t=>{if(t instanceof Om)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Ag([],{primary:t}):t;return new Sg(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(D(t=>new Ag([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return $l({});const n=[],r=[],i={};return Og(t,(t,o)=>{const s=e(o,t).pipe(D(t=>i[o]=t));"primary"===o?n.push(s):r.push(s)}),$l.apply(null,n.concat(r)).pipe(qp(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?vh((e,n)=>t(e,n,r)):v,zp(1),n?Th(e):Ih(()=>new mh))}(),D(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return $l(...n).pipe(D(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Gp(t=>{if(t instanceof Om)return $l(null);throw t}))),qp(),Rh(t=>!!t),Gp((t,n)=>{if(t instanceof mh||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return $l(new Ag([],{}));throw new Om(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Pm(r)!==o?Im(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Im(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Sm(i):this.lineralizeSegments(n,i).pipe(F(n=>{const i=new Ag(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Rm(e,r,i);if(!s)return Im(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Sm(l):this.lineralizeSegments(r,l).pipe(F(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(D(t=>(n._loadedConfig=t,new Ag(r,{})))):$l(new Ag(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=Rm(e,n,r);if(!i)return Im(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(F(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>jm(t,e,n)&&"primary"!==Pm(n))}(t,n,r)?{segmentGroup:Nm(new Ag(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==Pm(r)&&(n[Pm(r)]=new Ag([],{}));return n}(r,new Ag(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>jm(t,e,n))}(t,n,r)?{segmentGroup:Nm(new Ag(t.segments,function(t,e,n,r){const i={};for(const o of n)jm(t,e,o)&&!r[Pm(o)]&&(i[Pm(o)]=new Ag([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(D(t=>new Ag(o,t))):0===r.length&&0===s.length?$l(new Ag(o,{})):this.expandSegment(n,i,r,s,"primary",!0).pipe(D(t=>new Ag(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?$l(new Em(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?$l(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(F(n=>n?this.configLoader.load(t.injector,e).pipe(D(t=>(e._loadedConfig=t,t))):function(t){return new y(e=>e.error(bg(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):$l(new Em([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?U(r).pipe(D(r=>{const i=t.get(r);let o;if(function(t){return t&&Cm(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Cm(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return xg(o)})).pipe(qp(),kl(t=>{if(!Tm(t))return;const e=bg(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(i=t=>!0===t,t=>t.lift(new Kp(i,void 0,t)))):$l(!0);var i}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return $l(n);if(r.numberOfChildren>1||!r.children.primary)return Am(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Sg(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Og(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Og(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Ag(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Rm(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||_g)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Nm(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Ag(t.segments.concat(e.segments),e.children)}return t}function jm(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Pm(t){return t.outlet||"primary"}class Dm{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Vm{constructor(t,e){this.component=t,this.route=e}}function Mm(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Xg(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Rg(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Rg(t.url,e.url)||!wg(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!um(t,e)||!wg(t.queryParams,e.queryParams);case"paramsChange":default:return!um(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Dm(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new Vm(u&&u.outlet&&u.outlet.component||null,a))}else a&&Um(n,u,o),o.canActivateChecks.push(new Dm(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),Og(s,(t,e)=>Um(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function Lm(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Um(t,e,n){const r=Xg(t),i=t.value;Og(r,(t,r)=>{Um(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Vm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const Fm=Symbol("INITIAL_VALUE");function qm(){return hh(t=>function(...t){let e=null,n=null;return O(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),H(t,n).lift(new Lp(e))}(...t.map(t=>t.pipe(wh(1),function(...t){const e=t[t.length-1];return O(e)?(t.pop(),n=>Zp(t,n,e)):e=>Zp(t,e)}(Fm)))).pipe(Ph((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Fm)return t;if(r===Fm&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Tm(r))return r}return t},t)},Fm),vh(t=>t!==Fm),D(t=>Tm(t)?t:!0===t),wh(1)))}function zm(t,e){return null!==t&&e&&e(new pg(t)),$l(!0)}function Bm(t,e){return null!==t&&e&&e(new fg(t)),$l(!0)}function Hm(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?$l(r.map(r=>Fp(()=>{const i=Lm(r,e,n);let o;if(function(t){return t&&Cm(t.canActivate)}(i))o=xg(i.canActivate(e,t));else{if(!Cm(i))throw new Error("Invalid CanActivate guard");o=xg(i(e,t))}return o.pipe(Rh())}))).pipe(qm()):$l(!0)}function Gm(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Fp(()=>$l(e.guards.map(i=>{const o=Lm(i,e.node,n);let s;if(function(t){return t&&Cm(t.canActivateChild)}(o))s=xg(o.canActivateChild(r,t));else{if(!Cm(o))throw new Error("Invalid CanActivateChild guard");s=xg(o(r,t))}return s.pipe(Rh())})).pipe(qm())));return $l(i).pipe(qm())}class $m{}class Wm{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Zm(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new rm([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Yg(n,e),i=new im(this.url,r);return this.inheritParamsAndData(i._root),$l(i)}catch(t){return new y(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=nm(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Ng(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof $m))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new $m}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new $m;if((t.outlet||"primary")!==r)throw new $m;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?Tg(n).parameters:{};i=new rm(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Jm(t),r,t.component,t,Km(e),Qm(e)+n.length,tv(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new $m;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||_g)(n,t,e);if(!r)throw new $m;const i={};Og(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new rm(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Jm(t),r,t.component,t,Km(e),Qm(e)+o.length,tv(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Zm(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Yg(i,t)]}if(0===a.length&&0===c.length)return[new Yg(i,[])];const l=this.processSegment(a,u,c,"primary");return[new Yg(i,l)]}}function Km(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Qm(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Zm(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Ym(t,e,n)&&"primary"!==Xm(n))}(t,n,r)){const i=new Ag(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==Xm(o)){const n=new Ag([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Xm(o)]=n}return i}(t,e,r,new Ag(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Ym(t,e,n))}(t,n,r)){const o=new Ag(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Ym(t,n,a)&&!i[Xm(a)]){const n=new Ag([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Xm(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Ag(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Ym(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Xm(t){return t.outlet||"primary"}function Jm(t){return t.data||{}}function tv(t){return t.resolve||{}}function ev(t){return function(e){return e.pipe(hh(e=>{const n=t(e);return n?U(n).pipe(D(()=>e)):U([e])}))}}class nv{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let rv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ce({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&ms(0,"router-outlet")},directives:function(){return[vv]},encapsulation:2}),t})();function iv(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];ov(r,sv(e,r))}}function ov(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&iv(t.children,e)}function sv(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function av(t){const e=t.children&&t.children.map(av),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=rv),n}const uv=new Dt("ROUTES");class cv{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(D(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Em(Cg(r.injector.get(uv)).map(av),r)}))}loadModuleFactory(t){return"string"==typeof t?U(this.loader.load(t)):xg(t()).pipe(F(t=>t instanceof Zt?$l(t):U(this.compiler.compileModuleAsync(t))))}}class lv{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new hv,this.attachRef=null}}class hv{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new lv,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class fv{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function dv(t){throw t}function pv(t,e,n){return e.parse("/")}function gv(t,e){return $l(null)}let mv=(()=>{class t{constructor(t,e,n,r,i,o,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new C,this.errorHandler=dv,this.malformedUriErrorHandler=pv,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:gv,afterPreactivation:gv},this.urlHandlingStrategy=new fv,this.routeReuseStrategy=new nv,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(Qt),this.console=i.get(Eu);const u=i.get(Du);this.isNgZoneEnabled=u instanceof Du,this.resetConfig(a),this.currentUrlTree=new Sg(new Ag([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new cv(o,s,t=>this.triggerEvent(new lg(t)),t=>this.triggerEvent(new hg(t))),this.routerState=tm(this.currentUrlTree,this.rootComponentType),this.transitions=new Vp({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(vh(t=>0!==t.id),D(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),hh(t=>{let n=!1,r=!1;return $l(t).pipe(kl(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),hh(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return $l(t).pipe(hh(t=>{const n=this.transitions.getValue();return e.next(new eg(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Hl:[t]}),hh(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(hh(t=>function(t,e,n,r,i){return new km(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(D(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),kl(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(F(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new Wm(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(D(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),kl(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),kl(t=>{const n=new og(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new eg(n,this.serializeUrl(r),i,o);e.next(a);const u=tm(r,this.rootComponentType).snapshot;return $l(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Hl}),ev(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),kl(t=>{const e=new sg(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),D(t=>Object.assign(Object.assign({},t),{guards:Mm(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(F(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?$l(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return U(t).pipe(F(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?$l(o.map(o=>{const s=Lm(o,e,i);let a;if(function(t){return t&&Cm(t.canDeactivate)}(s))a=xg(s.canDeactivate(t,e,n,r));else{if(!Cm(s))throw new Error("Invalid CanDeactivate guard");a=xg(s(t,e,n,r))}return a.pipe(Rh())})).pipe(qm()):$l(!0)}(t.component,t.route,n,e,r)),Rh(t=>!0!==t,!0))}(s,r,i,t).pipe(F(n=>n&&"boolean"==typeof n?function(t,e,n,r){return U(e).pipe(Yp(e=>U([Bm(e.route.parent,r),zm(e.route,r),Gm(t,e.path,n),Hm(t,e.route,n)]).pipe(qp(),Rh(t=>!0!==t,!0))),Rh(t=>!0!==t,!0))}(r,o,t,e):$l(n)),D(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),kl(t=>{if(Tm(t.guardsResult)){const e=bg(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),kl(t=>{const e=new ag(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),vh(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new rg(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),ev(t=>{if(t.guards.canActivateChecks.length)return $l(t).pipe(kl(t=>{const e=new ug(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),hh(t=>{let n=!1;return $l(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(F(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return $l(t);let o=0;return U(n).pipe(Yp(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return $l({});const o={};return U(i).pipe(F(i=>function(t,e,n,r){const i=Lm(t,e,r);return xg(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(kl(t=>{o[i]=t}))),zp(1),F(()=>Object.keys(o).length===i.length?$l(o):Hl))}(t._resolve,t,e,r).pipe(D(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),nm(t,n).resolve),null)))}(t.route,e,r,i)),kl(()=>o++),zp(1),F(e=>o===n.length?$l(t):Hl))}))}),kl({next:()=>n=!0,complete:()=>{if(!n){const n=new rg(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),kl(t=>{const e=new cg(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),ev(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),D(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Yg(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new em(new Vp((i=n.value).url),new Vp(i.params),new Vp(i.queryParams),new Vp(i.fragment),new Vp(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new Yg(r,o)}}var i}(t,e._root,n?n._root:void 0);return new Jg(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),kl(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),D(t=>(new _m(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),kl({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new rg(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Xp(i))),Gp(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Tm(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new rg(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new ig(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return Hl}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){iv(t),this.config=t.map(av),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:o,queryParamsHandling:s,preserveFragment:a}=e;wr()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,c=a?this.currentUrlTree.fragment:i;let l=null;if(s)switch(s){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}else l=o?this.currentUrlTree.queryParams:r||null;return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,i){if(0===n.length)return lm(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new hm(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Og(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new hm(n,e,r)}(n);if(o.toRoot())return lm(e.root,new Ag([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new fm(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new fm(t,t===e.root,0)}const r=cm(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new fm(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?gm(s.segmentGroup,s.index,o.commands):pm(s.segmentGroup,s.index,o.commands);return lm(s.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,l,c)}navigateByUrl(t,e={skipLocationChange:!1}){wr()&&this.isNgZoneEnabled&&!Du.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Tm(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Tm(t))return Ig(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Ig(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new ng(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition();if(o&&"imperative"!==e&&"imperative"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"hashchange"==e&&"popstate"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"popstate"==e&&"hashchange"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);let s,a,u;i?(s=i.resolve,a=i.reject,u=i.promise):u=new Promise((t,e)=>{s=t,a=e});const c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:s,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(Gt(Fo),Gt(jg),Gt(hv),Gt(Sc),Gt(es),Gt(nc),Gt(Nu),Gt(void 0))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),vv=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new nu,this.deactivateEvents=new nu,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new yv(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(hs(hv),hs(La),hs(ha),("name",function(t,e){const n=t.attrs;if(n){const t=n.length;let e=0;for(;e<t;){const r=n[e];if(kn(r))break;if(0===r)e+=2;else if("number"==typeof r)for(e++;e<t&&"string"==typeof n[e];)e++;else{if("name"===r)return n[e+1];e+=2}}}return null}(Xe())),hs(Lo))},t.\u0275dir=ge({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class yv{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===em?this.route:t===hv?this.childContexts:this.parent.get(t,e)}}class bv{}class _v{preload(t,e){return $l(null)}}let wv=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new cv(e,n,e=>t.triggerEvent(new lg(e)),e=>t.triggerEvent(new hg(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(vh(t=>t instanceof ng),Yp(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Qt);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return U(n).pipe(B(),D(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(F(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(Gt(mv),Gt(nc),Gt(Nu),Gt(es),Gt(bv))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Ev=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof eg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ng&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof mg&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new mg(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Gt(mv),Gt(zc),Gt(void 0))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Cv=new Dt("ROUTER_CONFIGURATION"),Tv=new Dt("ROUTER_FORROOT_GUARD"),Ov=[Sc,{provide:jg,useClass:Pg},{provide:mv,useFactory:function(t,e,n,r,i,o,s,a={},u,c){const l=new mv(null,t,e,n,r,i,o,Cg(s));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),a.errorHandler&&(l.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(l.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=fc();l.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(l.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(l.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(l.relativeLinkResolution=a.relativeLinkResolution),l},deps:[jg,hv,Sc,es,nc,Nu,uv,Cv,[class{},new et],[class{},new et]]},hv,{provide:em,useFactory:function(t){return t.routerState.root},deps:[mv]},{provide:nc,useClass:oc},wv,_v,class{preload(t,e){return e().pipe(Gp(()=>$l(null)))}},{provide:Cv,useValue:{enableTracing:!1}}];function xv(){return new Qu("Router",mv)}let Iv=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Ov,Rv(e),{provide:Tv,useFactory:kv,deps:[[mv,new et,new rt]]},{provide:Cv,useValue:n||{}},{provide:Cc,useFactory:Av,deps:[pc,[new tt(Oc),new et],Cv]},{provide:Ev,useFactory:Sv,deps:[mv,zc,Cv]},{provide:bv,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:_v},{provide:Qu,multi:!0,useFactory:xv},[Nv,{provide:pu,multi:!0,useFactory:jv,deps:[Nv]},{provide:Dv,useFactory:Pv,deps:[Nv]},{provide:wu,multi:!0,useExisting:Dv}]]}}static forChild(e){return{ngModule:t,providers:[Rv(e)]}}}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)(Gt(Tv,8),Gt(mv,8))}}),t})();function Sv(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Ev(t,e,n)}function Av(t,e,n={}){return n.useHash?new Ic(t,e):new xc(t,e)}function kv(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Rv(t){return[{provide:ns,multi:!0,useValue:t},{provide:uv,multi:!0,useValue:t}]}let Nv=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new C}appInitializer(){return this.injector.get(mc,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(mv),r=this.injector.get(Cv);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?$l(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Cv),n=this.injector.get(wv),r=this.injector.get(Ev),i=this.injector.get(mv),o=this.injector.get(tc);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(Gt(es))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function jv(t){return t.appInitializer.bind(t)}function Pv(t){return t.bootstrapListener.bind(t)}const Dv=new Dt("Router Initializer");let Vv=(()=>{class t{constructor(){this.title="pre-parcial-dos"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ce({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&ms(0,"router-outlet")},directives:[vv],styles:[""]}),t})();function Mv(t,e,n,i){return r(n)&&(i=n,n=void 0),i?Mv(t,e,n).pipe(D(t=>u(t)?i(...t):i(t))):new y(r=>{!function t(e,n,r,i,o){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,o),s=()=>t.removeEventListener(n,r,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),s=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),s=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,a=e.length;s<a;s++)t(e[s],n,r,i,o)}i.add(s)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}function Lv(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}class Uv{call(t,e){return e.subscribe(new Fv(t))}}class Fv extends P{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){let e=t[n],r=j(this,e,e,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}}notifyNext(t,e,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}function qv(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),H(t,void 0).lift(new zv(e))}class zv{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Bv(t,this.resultSelector))}}class Bv extends p{constructor(t,e,n=Object.create(null)){super(t),this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:null,this.values=n}_next(t){const e=this.iterators;u(t)?e.push(new Gv(t)):e.push("function"==typeof t[A]?new Hv(t[A]()):new $v(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe(e,n)):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let o=0;o<e;o++){let e=t[o];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let o=0;o<e;o++){let e=t[o],s=e.next();if(e.hasCompleted()&&(r=!0),s.done)return void n.complete();i.push(s.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class Hv{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return t&&t.done}}class Gv{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[A](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class $v extends P{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[A](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t,e,n,r,i){this.buffer.push(e),this.parent.checkIterators()}subscribe(t,e){return j(this,this.observable,this,e)}}function Wv(t){return e=>e.lift(new Kv(t))}class Kv{constructor(t){this.notifier=t}call(t,e){const n=new Qv(t),r=j(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Qv extends P{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}function Zv(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new Yv(t,n))}}class Yv{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new Xv(t,this.observables,this.project))}}class Xv extends P{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++){let t=e[i];this.add(j(this,t,t,i))}}notifyNext(t,e,n,r,i){this.values[n]=e;const o=this.toRespond;if(o.length>0){const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}$localize`:@@ngb.alert.closef4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c87819314041543176992:Close`;const Jv=["*"];$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-numbera65b1b49aa7dd8c4f3004da6a8c2241814dae621783273603869937627: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,$localize`:@@ngb.carousel.previous680d5c75b7fd8d37961083608b9fcdc4167b4c434452427314943113135:Previous`,$localize`:@@ngb.carousel.nextf732c304c7433e5a83ffcd862c3dce709a0f49823885497195825665706:Next`,$localize`:@@ngb.datepicker.previous-monthc3b08b07b5ab98e7cdcf18df39355690ab7d38848586908745456864217:Previous month`,$localize`:@@ngb.datepicker.previous-monthc3b08b07b5ab98e7cdcf18df39355690ab7d38848586908745456864217:Previous month`,$localize`:@@ngb.datepicker.next-month4bd046985cfe13040d5ef0cd881edce0968a111a3628374603023447227:Next month`,$localize`:@@ngb.datepicker.next-month4bd046985cfe13040d5ef0cd881edce0968a111a3628374603023447227:Next month`,$localize`:@@ngb.datepicker.select-month1dbc84807f35518112f62e5775d1daebd3d8462b2253869508135064750:Select month`,$localize`:@@ngb.datepicker.select-month1dbc84807f35518112f62e5775d1daebd3d8462b2253869508135064750:Select month`,$localize`:@@ngb.datepicker.select-year8ceb09d002bf0c5d1cac171dfbffe1805d2b39628852264961585484321:Select year`,$localize`:@@ngb.datepicker.select-year8ceb09d002bf0c5d1cac171dfbffe1805d2b39628852264961585484321:Select year`;const ty=["dialog"];function ey(t){return null!=t}$localize`:@@ngb.pagination.first656506dfd46380956a655f919f1498d018f75ca06867721956102594380:`,$localize`:@@ngb.pagination.previous6e52b6ee77a4848d899dd21b591c6fd499e3aef36479320895410098858:`,$localize`:@@ngb.pagination.nextba9cbb4ff311464308a3627e4f1c3345d9fe6d7d5458177150283468089:`,$localize`:@@ngb.pagination.last49f27a460bc97e7e00be5b37098bfa79884fc7d95277020320267646988:`,$localize`:@@ngb.pagination.first-ariaf2f852318759c6396b5d3d17031d53817d7b38cc2241508602425256033:First`,$localize`:@@ngb.pagination.previous-aria680d5c75b7fd8d37961083608b9fcdc4167b4c434452427314943113135:Previous`,$localize`:@@ngb.pagination.next-ariaf732c304c7433e5a83ffcd862c3dce709a0f49823885497195825665706:Next`,$localize`:@@ngb.pagination.last-aria5c729788ba138508aca1bec050b610f7bf81db3e4882268002141858767:Last`,$localize`:@@ngb.progressbar.valuef8e9a947b9db4252c0e9905765338712f2fd032f3720830768741091151:${"\ufffd0\ufffd"}:INTERPOLATION:`,$localize`:@@ngb.timepicker.HHce676ab1d6d98f85c836381cf100a4a91ef95a1f4043638465245303811:HH`,$localize`:@@ngb.timepicker.hours3bbce5fef7e1151da052a4e529453edb340e39128070396816726827304:Hours`,$localize`:@@ngb.timepicker.MM72c8edf6a50068a05bde70991e36b1e881f4ca541647282246509919852:MM`,$localize`:@@ngb.timepicker.minutes41e62daa962947c0d23ded0981975d1bddf0bf385531237363767747080:Minutes`,$localize`:@@ngb.timepicker.increment-hourscb74bc1d625a6c1742f0d7d47306cf495780c2185939278348542933629:Increment hours`,$localize`:@@ngb.timepicker.decrement-hours147c7a19429da7d999e247d22e33fee370b1691b3651829882940481818:Decrement hours`,$localize`:@@ngb.timepicker.increment-minutesf5a4a3bc05e053f6732475d0e74875ec01c3a348180147720391025024:Increment minutes`,$localize`:@@ngb.timepicker.decrement-minutesc1a6899e529c096da5b660385d4e77fe1f7ad2717447789825403243588:Decrement minutes`,$localize`:@@ngb.timepicker.SSebe38d36a40a2383c5fefa9b4608ffbda08bd4a33628127143071124194:SS`,$localize`:@@ngb.timepicker.seconds4f2ed9e71a7c981db3e50ae2fedb28aff2ec4e6c8874012390997067175:Seconds`,$localize`:@@ngb.timepicker.increment-seconds912322ecee7d659d04dcf494a70e22e49d334b265364772110539092174:Increment seconds`,$localize`:@@ngb.timepicker.decrement-seconds5db47ac104294243a70eb9124fbea9d0004ddf69753633511487974857:Decrement seconds`,$localize`:@@ngb.timepicker.PM8d6e691e10306c1b34c6b26805151aaea320ef7f3564199131264287502:${"\ufffd0\ufffd"}:INTERPOLATION:`,$localize`:@@ngb.timepicker.AM69a1f176a93998876952adac57c3bc3863b6105e4592818992509942761:${"\ufffd0\ufffd"}:INTERPOLATION:`,$localize`:@@ngb.toast.close-ariaf4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c87819314041543176992:Close`,"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const ny={animation:!0,transitionTimerDelayMs:5};let ry=(()=>{class t{constructor(){this.animation=ny.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({factory:function(){return new t},token:t,providedIn:"root"}),t})();const iy=()=>{},{transitionTimerDelayMs:oy}=ny,sy=new Map,ay=(t,e,n)=>{let r=n.context||{};const i=sy.get(t);if(i)switch(n.runningTransition){case"continue":return Hl;case"stop":i.transition$.complete(),r=Object.assign(i.context,r),sy.delete(t)}!function(t){t||document}(t);const o=e(t,r)||iy;if(!n.animation||"none"===window.getComputedStyle(t).transitionProperty)return o(),$l(void 0);const s=new C,a=s.pipe(function(...t){return e=>Zp(e,$l(...t))}(!0));sy.set(t,{transition$:s,context:r});const c=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(t),l=Mv(t,"transitionend").pipe(Wv(a),vh(({target:e})=>e===t));return function(...t){if(1===t.length){if(!u(t[0]))return t[0];t=t[0]}return H(t,void 0).lift(new Uv)}(function(t=0,e,n){let r=-1;return ql(e)?r=Number(e)<1?1:Number(e):O(e)&&(n=e),O(n)||(n=Sl),new y(e=>{const i=ql(t)?t:+t-n.now();return n.schedule(Lv,i,{index:0,period:r,subscriber:e})})}(c+oy).pipe(Wv(a)),l).pipe(Wv(a)).subscribe(()=>{sy.delete(t),o(),s.next(),s.complete()}),s.asObservable()};let uy=(()=>{class t{}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[Fc]]}),t})(),cy=(()=>{class t{}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[Fc]]}),t})(),ly=(()=>{class t{}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)}}),t})(),hy=(()=>{class t{}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[Fc]]}),t})(),fy=(()=>{class t{}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)}}),t})();var dy=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});const py=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function gy(t){const e=Array.from(t.querySelectorAll(py)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}let my=(()=>{class t{}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[Fc,Dp]]}),t})(),vy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ge({type:t,selectors:[["",8,"navbar"]]}),t})(),yy=(()=>{class t{}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)}}),t})(),by=(()=>{class t{constructor(t){this.backdrop=!0,this.keyboard=!0,this.animation=t.animation}}return t.\u0275fac=function(e){return new(e||t)(Gt(ry))},t.\u0275prov=at({factory:function(){return new t(Gt(ry))},token:t,providedIn:"root"}),t})();class _y{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const wy=()=>{};let Ey=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):wy}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=r+t+"px",()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(Gt(dc))},t.\u0275prov=at({factory:function(){return new t(Gt(dc))},token:t,providedIn:"root"}),t})(),Cy=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(wh(1)).subscribe(()=>{ay(this._el.nativeElement,({classList:t})=>t.add("show"),{animation:this.animation,runningTransition:"continue"})})}hide(){return ay(this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(hs(fa),hs(Du))},t.\u0275cmp=ce({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(js("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),Ns("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class Ty{close(t){}dismiss(t){}}class Oy{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new C,this._dismissed=new C,this._hidden=new C,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Wv(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Wv(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():$l(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),qv(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var xy=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let Iy=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new C,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new nu,this.shown=new C,this.hidden=new C}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){this._show()}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=qv(ay(t,()=>t.classList.remove("show"),e),ay(this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"continue"};qv(ay(t,()=>t.classList.add("show"),e),ay(this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Mv(t,"keydown").pipe(Wv(this._closed$),vh(t=>t.which===dy.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(xy.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;Mv(this._dialogEl.nativeElement,"mousedown").pipe(Wv(this._closed$),kl(()=>e=!1),hh(()=>Mv(t,"mouseup").pipe(Wv(this._closed$),wh(1))),vh(({target:e})=>t===e)).subscribe(()=>{e=!0}),Mv(t,"click").pipe(Wv(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(xy.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=gy(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ay(this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(hs(dc),hs(fa),hs(Du))},t.\u0275cmp=ce({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){var n,r,i,o,s,a;1&t&&(o=ty,s=!0,function(t,e,n,r,i,o){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new uu),t.queries.track(new cu(e,-1))}(t,new au(n,r,!0,i)),t.staticViewQueries=!0),function(t,e){const n=new iu;Ni(t,e,n,n.destroy),null===e[19]&&(e[19]=new su),e[19].queries.push(new ou(n))}(t,e)}(Ze(),Qe(),o,s,a)),2&t&&function(t){const e=Qe(),n=Ze(),r=ln();hn(r+1);const i=du(n,r);if(t.dirty&&ze(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?function t(e,n,r,i){const o=e.queries.getByIndex(r),s=o.matches;if(null!==s){const a=fu(e,n,o,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)i.push(a[e/2]);else{const o=s[e+1],a=n[-r];for(let e=10;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,o,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,o,i)}}}}}return i}(n,e,r,[]):fu(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}((r=Qe(),i=ln(),n=r[19].queries[i].queryList))&&(e._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(cs("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),js("modal d-block"+(e.windowClass?" "+e.windowClass:"")),Ns("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Jv,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(function(t){const e=Qe()[16][6];if(!e.projection){const t=e.projection=te(1,null),n=t.slice();let r=e.child;for(;null!==r;){const e=0;null!==e&&(n[e]?n[e].projectionNext=r:t[e]=r,n[e]=r),r=r.next}}}(),ps(0,"div",0,1),ps(2,"div",2),function(t,e=0,n){const r=Qe(),i=Ze(),o=Ei(i,r[6],t,1,null,n||null);null===o.projection&&(o.projection=e),en(),function(t,e,n){Io(e[11],0,e,n,vo(t,n,e),Eo(n.parent||e[6],e))}(i,r,o)}(3),gs(),gs()),2&t&&js("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{-ms-flex-direction:column;display:-ms-flexbox;display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),Sy=(()=>{class t{constructor(t,e,n,r,i,o){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=r,this._rendererFactory=i,this._ngZone=o,this._activeWindowCmptHasChanged=new C,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new nu,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=Mv(e,"focusin").pipe(Wv(n),D(t=>t.target));Mv(e,"keydown").pipe(Wv(n),vh(t=>t.which===dy.Tab),Zv(t)).subscribe(([t,n])=>{const[r,i]=gy(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&Mv(e,"click").pipe(Wv(n),Zv(t),D(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:ey(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const u=new Ty,c=this._getContentRef(t,r.injector||e,n,u,r);let l=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,c),f=new Oy(h,c,l,r.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(h),f.result.then(s,s),f.result.then(a,a),u.close=t=>{f.close(t)},u.dismiss=t=>{f.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),l&&l.instance&&this._applyBackdropOptions(l.instance,r),f}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(Cy).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(Iy).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{ey(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{ey(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,r,i){return n?n instanceof Va?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,r,i):new _y([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new _y([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(""+t);return new _y([[e]])}_createFromComponent(t,e,n,r,i){const o=t.resolveComponentFactory(n),s=es.create({providers:[{provide:Ty,useValue:r}],parent:e}),a=o.create(s),u=a.location.nativeElement;return i.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(a.hostView),new _y([[u]],a.hostView,a)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(Gt(tc),Gt(es),Gt(dc),Gt(Ey),Gt(pa),Gt(Du))},t.\u0275prov=at({factory:function(){return new t(Gt(tc),Gt(Vt),Gt(dc),Gt(Ey),Gt(pa),Gt(Du))},token:t,providedIn:"root"}),t})(),Ay=(()=>{class t{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign({},this._config,e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(Gt(ha),Gt(es),Gt(Sy),Gt(by))},t.\u0275prov=at({factory:function(){return new t(Gt(ha),Gt(Vt),Gt(Sy),Gt(by))},token:t,providedIn:"root"}),t})(),ky=(()=>{class t{}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[Ay]}),t})(),Ry=(()=>{class t{}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[Fc]]}),t})(),Ny=(()=>{class t{}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[Fc]]}),t})(),jy=(()=>{class t{}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[Fc]]}),t})(),Py=(()=>{class t{}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[Fc]]}),t})(),Dy=(()=>{class t{}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[Fc]]}),t})(),Vy=(()=>{class t{}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[Fc]]}),t})(),My=(()=>{class t{}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[Fc]]}),t})(),Ly=(()=>{class t{}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)}}),t})(),Uy=(()=>{class t{}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[Fc]]}),t})();const Fy=[uy,cy,ly,hy,fy,my,yy,ky,Ry,Ny,jy,Py,Dy,Vy,My,Ly,Uy];let qy=(()=>{class t{}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[Fy,uy,cy,ly,hy,fy,my,yy,ky,Ry,Ny,jy,Py,Dy,Vy,My,Ly,Uy]}),t})();function zy(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}class By{}let Hy=(()=>{class t{constructor(t){this.afAuth=t,this.isLogged=!1,t.authState.subscribe(t=>this.isLogged=t)}onLogin(t){return zy(this,void 0,void 0,(function*(){try{return yield this.afAuth.signInWithEmailAndPassword(t.email,t.pass)}catch(e){console.log("error",e)}}))}onRegister(t){return zy(this,void 0,void 0,(function*(){try{return yield this.afAuth.createUserWithEmailAndPassword(t.email,t.pass)}catch(e){throw e}}))}getCurrentUser(){return this.afAuth.currentUser}logout(){this.afAuth.signOut()}}return t.\u0275fac=function(e){return new(e||t)(Gt(Nh))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Gy=(()=>{class t{constructor(t,e,n,r){this.firestore=t,this.fireStorage=e,this.authService=n,this.afAuth=r}getElements(){return this.firestore.collection("users").ref}getElement(){let t,e;return new Promise((n,r)=>{this.afAuth.currentUser.then(r=>{t=r.email,this.firestore.collection("users").ref.where("email","==",t).get().then(t=>{e=t.docs[0].data(),n(e)})}).catch(t=>{r(t)})})}createElement(t){this.firestore.collection("users").add(t)}deleteElement(t){this.firestore.collection("users").doc(t.email).update({isActive:!1})}modifyElement(t){this.firestore.collection("users").doc(t.email).update(t)}}return t.\u0275fac=function(e){return new(e||t)(Gt(Zh),Gt(_d),Gt(Hy),Gt(Nh))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),$y=(()=>{class t{constructor(t,e,n){this.authSvc=t,this.router=e,this.userSvc=n,this.user=new By}ngOnInit(){}onLogin(){return zy(this,void 0,void 0,(function*(){this.authSvc.onLogin(this.user).then(t=>{this.userSvc.getElements().where("email","==",t.user.email).get().then(t=>{t.docs.map(t=>{this.user.userType=t.data().userType,this.router.navigate("administrador"==this.user.userType?["/administrador"]:"alumno"==this.user.userType?["/alumno"]:["/profesor"])})})})}))}cargarAlumno(){this.user.email="alumno@alumno.com",this.user.pass="alumno"}cargarAdministrador(){this.user.email="admin@admin.com",this.user.pass="administrador"}cargarProfesor(){this.user.email="profesor@profesor.com",this.user.pass="profesor"}}return t.\u0275fac=function(e){return new(e||t)(hs(Hy),hs(mv),hs(Gy))},t.\u0275cmp=ce({type:t,selectors:[["app-login"]],decls:21,vars:2,consts:[[1,"row","justify-content-center",2,"padding-top","250px"],[1,"col-4","align-self-center"],[1,"card","text-center"],["placeholder","ingrese Email","type","email",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","ingrese clave","type","password",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],[1,"row"],[1,"col-4"],[1,"btn","btn-outline-success",3,"click"]],template:function(t,e){1&t&&(ps(0,"div",0),ps(1,"div",1),ps(2,"div",2),ps(3,"input",3),_s("ngModelChange",(function(t){return e.user.email=t})),gs(),ps(4,"input",4),_s("ngModelChange",(function(t){return e.user.pass=t})),gs(),ps(5,"button",5),_s("click",(function(){return e.onLogin()})),Hs(6,"Conectarse"),gs(),gs(),gs(),gs(),ms(7,"br"),ps(8,"div",6),ps(9,"div",7),ps(10,"div",2),ps(11,"button",8),_s("click",(function(){return e.cargarAdministrador()})),Hs(12,"cargar Administrador"),gs(),gs(),gs(),ps(13,"div",7),ps(14,"div",2),ps(15,"button",8),_s("click",(function(){return e.cargarAlumno()})),Hs(16,"cargar Administrador"),gs(),gs(),gs(),ps(17,"div",7),ps(18,"div",2),ps(19,"button",8),_s("click",(function(){return e.cargarProfesor()})),Hs(20,"cargar Administrador"),gs(),gs(),gs(),gs()),2&t&&(hi(3),fs("ngModel",e.user.email),hi(1),fs("ngModel",e.user.pass))},directives:[Sd,Pd,jp],styles:[""]}),t})(),Wy=(()=>{class t{constructor(t,e){this.authSvc=t,this.router=e}canActivate(t,e){if(this.authSvc.isLogged)return!0;this.router.navigateByUrl("")}}return t.\u0275fac=function(e){return new(e||t)(Gt(Hy),Gt(mv))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Ky{}let Qy=(()=>{class t{constructor(t,e,n,r){this.firestore=t,this.fireStorage=e,this.authService=n,this.afAuth=r}getElements(){return this.firestore.collection("subjects").ref}createElement(t){this.firestore.collection("subjects").add(t)}deleteElement(t){this.firestore.collection("subjects").doc(t.id).update({isActive:!1})}saveAlumno(t){this.firestore.collection("subjects").doc(t.id).update({alumnos:t.alumnos})}}return t.\u0275fac=function(e){return new(e||t)(Gt(Zh),Gt(_d),Gt(Hy),Gt(Nh))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Zy=(()=>{class t{constructor(t){this.userSrv=t,this.userLogin=new By}ngOnInit(){this.userSrv.getElement().then(t=>{null!=t&&(this.userLogin.email=t.email)})}}return t.\u0275fac=function(e){return new(e||t)(hs(Gy))},t.\u0275cmp=ce({type:t,selectors:[["app-navbar"]],decls:4,vars:1,consts:[[1,"navbar","navbar-expand-md","navbar-dark","bg-success"],["href","#",1,"navbar-brand"],[1,"navbar-text"]],template:function(t,e){1&t&&(ps(0,"nav",0),ms(1,"a",1),ps(2,"span",2),Hs(3),gs(),gs()),2&t&&(hi(3),$s(" ",e.userLogin.email," "))},directives:[vy],styles:[""]}),t})();function Yy(t,e){if(1&t&&(ps(0,"tr"),ps(1,"td"),Hs(2),gs(),ps(3,"td"),Hs(4),gs(),ps(5,"td"),Hs(6),gs(),ps(7,"td"),Hs(8),gs(),gs()),2&t){const t=e.$implicit;hi(2),Gs(t.nombre),hi(2),Gs(t.cuatrimestre),hi(2),Gs(t.cupos),hi(2),Gs(t.profesor)}}let Xy=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ce({type:t,selectors:[["app-listado-materia"]],inputs:{materias:"materias"},decls:13,vars:1,consts:[[1,"table"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(ps(0,"table",0),ps(1,"thead"),ps(2,"tr"),ps(3,"th"),Hs(4,"nombre"),gs(),ps(5,"th"),Hs(6,"cuatrimestre"),gs(),ps(7,"th"),Hs(8,"cupos"),gs(),ps(9,"th"),Hs(10,"profesor"),gs(),gs(),gs(),ps(11,"tbody"),ls(12,Yy,9,4,"tr",1),gs(),gs()),2&t&&(hi(12),fs("ngForOf",e.materias))},directives:[Dc],styles:[""]}),t})();function Jy(t,e){if(1&t){const t=vs();ps(0,"button",7),_s("click",(function(){Ye(t);const n=e.$implicit;return Cs(2).seleccionarProfesor(n)})),Hs(1),gs()}if(2&t){const t=e.$implicit;hi(1),Ws(" ",t.nombre," ",t.apellido," ")}}function tb(t,e){if(1&t&&(ps(0,"div"),ps(1,"h2"),Hs(2,"Seleccionar Profesor"),gs(),ls(3,Jy,2,2,"button",6),gs()),2&t){const t=Cs();hi(3),fs("ngForOf",t.profesores)}}function eb(t,e){if(1&t){const t=vs();ps(0,"div"),ps(1,"h2"),Hs(2,"Cargar Materia"),gs(),ps(3,"div"),ps(4,"label"),Hs(5,"Nombre:"),gs(),ps(6,"input",8),_s("ngModelChange",(function(e){return Ye(t),Cs().materia.nombre=e})),gs(),gs(),ps(7,"div"),ps(8,"label"),Hs(9,"cuatrimestre:"),gs(),ps(10,"input",8),_s("ngModelChange",(function(e){return Ye(t),Cs().materia.cuatrimestre=e})),gs(),gs(),ps(11,"div"),ps(12,"label"),Hs(13,"cupos:"),gs(),ps(14,"input",8),_s("ngModelChange",(function(e){return Ye(t),Cs().materia.cupos=e})),gs(),gs(),ps(15,"div"),ps(16,"label"),Hs(17,"Nombre:"),gs(),ps(18,"input",9),_s("ngModelChange",(function(e){return Ye(t),Cs().materia.profesor=e})),gs(),gs(),ps(19,"button",10),_s("click",(function(){return Ye(t),Cs().cargarMateria()})),Hs(20,"Guardar"),gs(),gs()}if(2&t){const t=Cs();hi(6),fs("ngModel",t.materia.nombre),hi(4),fs("ngModel",t.materia.cuatrimestre),hi(4),fs("ngModel",t.materia.cupos),hi(4),fs("ngModel",t.materia.profesor)}}let nb=(()=>{class t{constructor(t,e){this.materiasSrv=t,this.userSrv=e,this.materias=new Array,this.profesores=new Array,this.materia=new Ky}ngOnInit(){this.materiasSrv.getElements().get().then(t=>{t.docs.map(t=>{this.materias.push({id:t.id,nombre:t.data().nombre,cuatrimestre:t.data().cuatrimestre,cupos:t.data().cupos,profesor:t.data().profesor,isActive:t.data().isActive,emailProfesor:t.data().emailProfesor,alumnos:t.data().alumnos})})}),this.userSrv.getElements().where("userType","==","profesor").get().then(t=>{t.docs.map(t=>{this.profesores.push({email:t.data().email,pass:"no hace falta",userType:t.data().userType,nombre:t.data().nombre,apellido:t.data().apellido,isActive:t.data().isActive})})})}seleccionarProfesor(t){this.materia.profesor=t.nombre+" "+t.apellido,this.materia.emailProfesor=t.email}cargarMateria(){this.materiasSrv.createElement({nombre:this.materia.nombre,cuatrimestre:this.materia.cuatrimestre,cupos:this.materia.cupos,profesor:this.materia.profesor,emailProfesor:this.materia.emailProfesor,isActive:!0,alumnos:new Array}),this.materia=new Ky,alert("Se ha guardado su materia")}}return t.\u0275fac=function(e){return new(e||t)(hs(Qy),hs(Gy))},t.\u0275cmp=ce({type:t,selectors:[["app-administrador"]],decls:8,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[3,"materias"],[1,"col-md-4"],[4,"ngIf"],["class","btn btn-success",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-success",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],["disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-success",3,"click"]],template:function(t,e){1&t&&(ms(0,"app-navbar"),ps(1,"div",0),ps(2,"div",1),ps(3,"div",2),ms(4,"app-listado-materia",3),gs(),ps(5,"div",4),ls(6,tb,4,1,"div",5),ls(7,eb,21,4,"div",5),gs(),gs(),gs()),2&t&&(hi(4),fs("materias",e.materias),hi(2),fs("ngIf",null==e.materia.profesor),hi(1),fs("ngIf",null!=e.materia.profesor))},directives:[Zy,Xy,Mc,Dc,Sd,Pd,jp],styles:[""]}),t})();function rb(t,e){if(1&t){const t=vs();ps(0,"button",7),_s("click",(function(){Ye(t);const n=e.$implicit;return Cs(2).seleccionarMateria(n)})),Hs(1),gs()}if(2&t){const t=e.$implicit;hi(1),Ws(" ",t.nombre," cuatrimestre ",t.cuatrimestre," ")}}function ib(t,e){if(1&t&&(ps(0,"div"),ps(1,"h2"),Hs(2,"Seleccionar Profesor"),gs(),ls(3,rb,2,2,"button",6),gs()),2&t){const t=Cs();hi(3),fs("ngForOf",t.materias)}}function ob(t,e){if(1&t){const t=vs();ps(0,"div"),ps(1,"p"),Hs(2),gs(),ps(3,"button",8),_s("click",(function(){return Ye(t),Cs().cargarMateria()})),Hs(4,"Guardar"),gs(),gs()}if(2&t){const t=Cs();hi(2),$s("selecciono ",t.materia.nombre,"")}}let sb=(()=>{class t{constructor(t,e,n){this.materiasSrv=t,this.userSrv=e,this.authSvc=n,this.materias=new Array,this.materiasAlumno=new Array,this.materia=new Ky,this.alumno=new By}ngOnInit(){this.getAlumno(),this.getMaterias()}getAlumno(){this.userSrv.getElement().then(t=>{this.alumno.email=t.email,this.alumno.nombre=t.nombre,this.alumno.userType=t.userType,this.alumno.apellido=t.apellido,this.getMateriasAlumno()})}getMaterias(){this.materiasSrv.getElements().get().then(t=>{t.docs.map(t=>{this.materias.push({id:t.id,nombre:t.data().nombre,cuatrimestre:t.data().cuatrimestre,cupos:t.data().cupos,profesor:t.data().profesor,isActive:t.data().isActive,emailProfesor:t.data().emailProfesor,alumnos:t.data().alumnos})})})}getMateriasAlumno(){this.materiasSrv.getElements().where("alumnos","array-contains",this.alumno.email).get().then(t=>{t.docs.map(t=>{this.materiasAlumno.push({id:t.id,nombre:t.data().nombre,cuatrimestre:t.data().cuatrimestre,cupos:t.data().cupos,profesor:t.data().profesor,isActive:t.data().isActive,emailProfesor:t.data().emailProfesor,alumnos:t.data().alumnos})})})}seleccionarMateria(t){this.materia=t}cargarMateria(){this.materia.alumnos.push(this.alumno.email),this.materiasSrv.saveAlumno(this.materia),alert("Se ha guardado el alumno"),this.materia=new Ky}}return t.\u0275fac=function(e){return new(e||t)(hs(Qy),hs(Gy),hs(Hy))},t.\u0275cmp=ce({type:t,selectors:[["app-alumno"]],decls:8,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[3,"materias"],[1,"col-md-4"],[4,"ngIf"],["class","btn btn-success",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-success",3,"click"],["type","submit",1,"btn","btn-success",3,"click"]],template:function(t,e){1&t&&(ms(0,"app-navbar"),ps(1,"div",0),ps(2,"div",1),ps(3,"div",2),ms(4,"app-listado-materia",3),gs(),ps(5,"div",4),ls(6,ib,4,1,"div",5),ls(7,ob,5,1,"div",5),gs(),gs(),gs()),2&t&&(hi(4),fs("materias",e.materiasAlumno),hi(2),fs("ngIf",null==e.materia.nombre),hi(1),fs("ngIf",null!=e.materia.nombre))},directives:[Zy,Xy,Mc,Dc],styles:[""]}),t})();function ab(t,e){return{type:7,name:t,definitions:e,options:{}}}function ub(t,e=null){return{type:4,styles:e,timings:t}}function cb(t){return{type:6,styles:t,offset:null}}function lb(t,e,n){return{type:0,name:t,styles:e,options:n}}function hb(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}const fb=["toast-component",""];function db(t,e){if(1&t){const t=vs();ps(0,"button",5),_s("click",(function(){return Ye(t),Cs().remove()})),ps(1,"span",6),Hs(2,"\xd7"),gs(),gs()}}function pb(t,e){if(1&t&&(function(t,e,n){const r=Qe(),i=Ze(),o=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=He(o,void 0),a=Ei(e,n[6],0,4,"ng-container",s);return null!==s&&rs(a,s,!0),Vi(e,n,a,He(o,void 0)),null!==e.queries&&e.queries.elementStart(e,a),a}(0,i,r):i.data[20];Je(o,!0);const s=r[20]=r[11].createComment("");Co(i,r,s,o),Wr(s,r),Ce(o)&&(Si(i,r,o),Ii(i,o,r))}(),Hs(1),function(){let t=Xe();const e=Ze();tn()?en():(t=t.parent,Je(t,!1)),e.firstCreatePass&&(En(e,t),we(t)&&e.queries.elementEnd(t))}()),2&t){const t=Cs(2);hi(1),$s("[",t.duplicatesCount+1,"]")}}function gb(t,e){if(1&t&&(ps(0,"div"),Hs(1),ls(2,pb,2,1,"ng-container",4),gs()),2&t){const t=Cs();js(t.options.titleClass),cs("aria-label",t.title),hi(1),$s(" ",t.title," "),hi(1),fs("ngIf",t.duplicatesCount)}}function mb(t,e){if(1&t&&ms(0,"div",7),2&t){const t=Cs();js(t.options.messageClass),fs("innerHTML",t.message,$r)}}function vb(t,e){if(1&t&&(ps(0,"div",8),Hs(1),gs()),2&t){const t=Cs();js(t.options.messageClass),cs("aria-label",t.message),hi(1),$s(" ",t.message," ")}}function yb(t,e){if(1&t&&(ps(0,"div"),ms(1,"div",9),gs()),2&t){const t=Cs();hi(1),Rs("width",t.width+"%")}}class bb{constructor(t,e,n,r,i,o){this.toastId=t,this.config=e,this.message=n,this.title=r,this.toastType=i,this.toastRef=o,this._onTap=new C,this._onAction=new C,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const _b={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},wb=new Dt("ToastConfig");class Eb{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Cb extends class{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,n){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(t,e){const n=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=n.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Tb=(()=>{class t{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return t.\u0275fac=function(e){return new(e||t)(Gt(dc))},t.\u0275prov=at({factory:function(){return new t(Gt(dc))},token:t,providedIn:"root"}),t})();class Ob{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let xb=(()=>{class t{constructor(t,e,n,r){this._overlayContainer=t,this._componentFactoryResolver=e,this._appRef=n,this._document=r,this._paneElements=new Map}create(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}getPaneElement(t="",e){return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}_createPaneElement(t,e){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(t){return new Cb(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new Ob(this._createPortalHost(t))}}return t.\u0275fac=function(e){return new(e||t)(Gt(Tb),Gt(ha),Gt(tc),Gt(dc))},t.\u0275prov=at({factory:function(){return new t(Gt(Tb),Gt(ha),Gt(tc),Gt(dc))},token:t,providedIn:"root"}),t})();class Ib{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new C,this._activate=new C,this._manualClose=new C,this._resetTimeout=new C,this._countDuplicate=new C}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class Sb{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,n){return t===bb?this._toastPackage:this._parentInjector.get(t,e,n)}}let Ab=(()=>{class t{constructor(t,e,n,r,i){this.overlay=e,this._injector=n,this.sanitizer=r,this.ngZone=i,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,e,n={},r=""){return this._preBuildNotification(r,t,e,this.applyConfig(n))}success(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,e,this.applyConfig(n))}error(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,e,this.applyConfig(n))}info(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,e,this.applyConfig(n))}warning(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,e,this.applyConfig(n))}clear(t){for(const e of this.toasts)if(void 0!==t){if(e.toastId===t)return void e.toastRef.manualClose()}else e.toastRef.manualClose()}remove(t){const e=this._findToast(t);if(!e)return!1;if(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const t=this.toasts[this.currentlyActive].toastRef;t.isInactive()||(this.currentlyActive=this.currentlyActive+1,t.activate())}return!0}findDuplicate(t="",e="",n,r){const{includeTitleDuplicates:i}=this.toastrConfig;for(const o of this.toasts){const s=i&&o.title===t;if((!i||s)&&o.message===e)return o.toastRef.onDuplicate(n,r),o}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}_preBuildNotification(t,e,n,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,e,n,r)):this._buildNotification(t,e,n,r)}_buildNotification(t,e,n,r){if(!r.toastComponent)throw new Error("toastComponent required");const i=this.findDuplicate(n,e,this.toastrConfig.resetTimeoutOnDuplicate&&r.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||e)&&this.toastrConfig.preventDuplicates&&null!==i)return i;this.previousToastMessage=e;let o=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(o=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const s=this.overlay.create(r.positionClass,this.overlayContainer);this.index=this.index+1;let a=e;e&&r.enableHtml&&(a=this.sanitizer.sanitize(Gr.HTML,e));const u=new Ib(s),c=new bb(this.index,r,a,n,t,u),l=new Sb(c,this._injector),h=new Eb(r.toastComponent,l),f=s.attach(h,this.toastrConfig.newestOnTop);u.componentInstance=f.instance;const d={toastId:this.index,title:n||"",message:e||"",toastRef:u,onShown:u.afterActivate(),onHidden:u.afterClosed(),onTap:c.onTap(),onAction:c.onAction(),portal:f};return o||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{d.toastRef.activate()})),this.toasts.push(d),d}}return t.\u0275fac=function(e){return new(e||t)(Gt(wb),Gt(xb),Gt(es),Gt(ml),Gt(Du))},t.\u0275prov=at({factory:function(){return new t(Gt(wb),Gt(xb),Gt(Vt),Gt(ml),Gt(Du))},token:t,providedIn:"root"}),t})(),kb=(()=>{class t{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.ngZone=n,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),e)):this.timeout=setTimeout(()=>t(),e)}outsideInterval(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),e)):this.intervalId=setInterval(()=>t(),e)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return t.\u0275fac=function(e){return new(e||t)(hs(Ab),hs(bb),hs(Du))},t.\u0275cmp=ce({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,e){1&t&&_s("click",(function(){return e.tapToast()}))("mouseenter",(function(){return e.stickAround()}))("mouseleave",(function(){return e.delayedHideToast()})),2&t&&(Ks("@flyInOut",e.state),js(e.toastClasses),Rs("display",e.displayStyle))},attrs:fb,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(ls(0,db,3,0,"button",0),ls(1,gb,3,5,"div",1),ls(2,mb,1,3,"div",2),ls(3,vb,2,4,"div",3),ls(4,yb,2,2,"div",4)),2&t&&(fs("ngIf",e.options.closeButton),hi(1),fs("ngIf",e.title),hi(1),fs("ngIf",e.message&&e.options.enableHtml),hi(1),fs("ngIf",e.message&&!e.options.enableHtml),hi(1),fs("ngIf",e.options.progressBar))},directives:[Mc],encapsulation:2,data:{animation:[ab("flyInOut",[lb("inactive",cb({opacity:0})),lb("active",cb({opacity:1})),lb("removed",cb({opacity:0})),hb("inactive => active",ub("{{ easeTime }}ms {{ easing }}")),hb("active => removed",ub("{{ easeTime }}ms {{ easing }}"))])]}}),t})();const Rb=Object.assign(Object.assign({},_b),{toastComponent:kb});let Nb=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:wb,useValue:{default:Rb,config:e}}]}}}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[Fc]]}),t})();const jb=[{path:"",component:$y},{path:"principal",component:Vv,canActivate:[Wy]},{path:"administrador",component:nb,canActivate:[Wy]},{path:"materias",component:Xy},{path:"alumno",component:sb,canActivate:[Wy]},{path:"registro",component:(()=>{class t{constructor(t,e,n,r,i){this.authSvc=t,this.fireAuth=e,this.userSvc=n,this.router=r,this.toastr=i,this.user=new By}ngOnInit(){}onRegister(){this.authSvc.onRegister(this.user).then(t=>{this.userSvc.createElement({email:this.user.email,pass:"no hace falta",userType:this.user.userType,nombre:"",apellido:"",isActive:!0}),this.router.navigate("administrador"==this.user.userType?["/administrador"]:"alumno"==this.user.userType?["/alumno"]:["/profesor"])},t=>{switch(t.code){case"auth/weak-password":alert("contrasena muy corta,minimo 6 caracteres");break;case"auth/invalid-email":alert("mail invalido");break;case"auth/wrong-password":alert("contrasenia invalida");break;case"auth/email-already-in-use":alert("El correo ya se encuentra tomado");break;default:alert("ERROR")}})}login(){}}return t.\u0275fac=function(e){return new(e||t)(hs(Hy),hs(Nh),hs(Gy),hs(mv),hs(Ab))},t.\u0275cmp=ce({type:t,selectors:[["app-register"]],decls:23,vars:3,consts:[[1,"row","justify-content-center",2,"padding-top","150px"],[1,"col-8","align-self-center"],[1,"form-group"],["for","email"],["placeholder","ingrese Email","type","email","id","email",1,"form-control",3,"ngModel","ngModelChange"],["for","pass"],["placeholder","ingrese clave","type","password","id","pass",1,"form-control",3,"ngModel","ngModelChange"],["for","Perfil"],["id","perfil",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-block","btn-success",3,"click"],[1,"btn","btn-block","btn-outline-success",3,"click"]],template:function(t,e){1&t&&(ps(0,"div",0),ps(1,"div",1),ps(2,"div"),ps(3,"div",2),ps(4,"label",3),Hs(5,"Email"),gs(),ps(6,"input",4),_s("ngModelChange",(function(t){return e.user.email=t})),gs(),gs(),ps(7,"div",2),ps(8,"label",5),Hs(9,"Password"),gs(),ps(10,"input",6),_s("ngModelChange",(function(t){return e.user.pass=t})),gs(),gs(),ps(11,"div",2),ps(12,"label",7),Hs(13,"Perfil"),gs(),ps(14,"select",8),_s("ngModelChange",(function(t){return e.user.userType=t})),ps(15,"option"),Hs(16,"alumno"),gs(),ps(17,"option"),Hs(18,"profesor"),gs(),gs(),gs(),ps(19,"button",9),_s("click",(function(){return e.onRegister()})),Hs(20,"Registrarse"),gs(),ps(21,"button",10),_s("click",(function(){return e.login()})),Hs(22,"Conectarse"),gs(),gs(),gs(),gs()),2&t&&(hi(6),fs("ngModel",e.user.email),hi(4),fs("ngModel",e.user.pass),hi(4),fs("ngModel",e.user.userType))},directives:[Sd,Pd,jp,rp,ip,up],styles:[""]}),t})()},{path:"profesor",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ce({type:t,selectors:[["app-profesor"]],decls:1,vars:0,template:function(t,e){1&t&&ms(0,"app-navbar")},directives:[Zy],styles:[""]}),t})()}];let Pb=(()=>{class t{}return t.\u0275mod=de({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[Fc,Iv.forRoot(jb)],Iv]}),t})(),Db=(()=>{class t{}return t.\u0275mod=de({type:t,bootstrap:[Vv]}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[],imports:[[_l,qy,Pb,Dp,lh.initializeApp(lc),jh,Yh,wd,Nb.forRoot()]]}),t})();(function(){if(_r)throw new Error("Cannot enable prod mode after platform setup.");br=!1})(),yl().bootstrapModule(Db).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);